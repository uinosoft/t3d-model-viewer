/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={700:e=>{e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("Expected a string");for(var n,r=String(e),a="",i=!!t&&!!t.extended,o=!!t&&!!t.globstar,s=!1,l=t&&"string"==typeof t.flags?t.flags:"",u=0,c=r.length;u<c;u++)switch(n=r[u]){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":a+="\\"+n;break;case"?":if(i){a+=".";break}case"[":case"]":if(i){a+=n;break}case"{":if(i){s=!0,a+="(";break}case"}":if(i){s=!1,a+=")";break}case",":if(s){a+="|";break}a+="\\"+n;break;case"*":for(var h=r[u-1],f=1;"*"===r[u+1];)f++,u++;var d=r[u+1];o?!(f>1)||"/"!==h&&void 0!==h||"/"!==d&&void 0!==d?a+="([^/]*)":(a+="((?:[^/]*(?:/|$))*)",u++):a+=".*";break;default:a+=n}return l&&~l.indexOf("g")||(a="^"+a+"$"),new RegExp(a,l)}},883:(e,t,n)=>{var r=void 0!==n.g?n.g:window,a=Object.create(r);a.scheduleImmediate="undefined"!=typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e,0)},a.exports=t,"undefined"!=typeof process&&(a.process=process),a.__dirname="/",a.__filename="/index.js","undefined"!=typeof Buffer&&(a.Buffer=Buffer);var i=!r.window;try{"undefined"!=typeof WorkerGlobalScope&&r instanceof WorkerGlobalScope&&(i=!1),"undefined"!=typeof process&&process.versions&&process.versions.hasOwnProperty("electron")&&process.versions.hasOwnProperty("node")&&(i=!0)}catch(e){}if(i){var o=require("url");Object.defineProperty(a,"location",{value:{get href(){return o.pathToFileURL?o.pathToFileURL(process.cwd()).href+"/":"file://"+(e=process.cwd(),("win32"!=process.platform?e:"/"+e.replace(/\\/g,"/"))+"/");var e}}}),function(){function e(){try{throw new Error}catch(a){var e=a.stack,t=new RegExp("^ *at [^(]*\\((.*):[0-9]*:[0-9]*\\)$","mg"),n=null;do{var r=t.exec(e);null!=r&&(n=r)}while(null!=r);return n[1]}}var t=null;Object.defineProperty(a,"document",{value:{get currentScript(){return null==t&&(t={src:e()}),t}}})}(),a.dartDeferredLibraryLoader=function(e,t,n){try{load(e),t()}catch(e){n(e)}}}!function(){function e(e,t){for(var n=Object.keys(e),r=0;r<n.length;r++){var a=n[r];t[a]=e[a]}}var t=function(){var e=function(){};e.prototype={p:{}};var t=new e;if(!t.__proto__||t.__proto__.p!==e.prototype.p)return!1;try{if("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Chrome/")>=0)return!0;if("function"==typeof version&&0==version.length){var n=version();if(/^\d+\.\d+\.\d+\.\d+$/.test(n))return!0}}catch(e){}return!1}();function n(n,r){if(n.prototype.constructor=n,n.prototype["$i"+n.name]=n,null!=r){if(t)return void(n.prototype.__proto__=r.prototype);var a=Object.create(r.prototype);e(n.prototype,a),n.prototype=a}}function r(e){function t(){}return t.prototype=e,new t,e}function i(e,t,n,r,a,i,o,s,l,u){return"number"==typeof s&&(s+=0),{co:e,iS:t,iI:n,rC:r,dV:a,cs:i,fs:o,fT:s,aI:l||0,nDA:u}}function o(e,t,n,r,a,o,s,l){var u=function(e){var t=null;return function(){return null===t&&(t=h.nF(e).prototype),t}}(i(e,!0,!1,n,r,a,o,s,l,!1));e[t]=u}function s(e,t,n,r,a,o,s,l,u,c){var f=function(e,t){var n=null;return e?function(e){return null===n&&(n=h.nF(t)),new n(e,this)}:function(){return null===n&&(n=h.nF(t)),new n(this,null)}}(n=!!n,i(e,!1,n,r,a,o,s,l,u,!!c));e[t]=f}var l,u,c=(l=function(e,t,n,r,a){return function(i,o,l,u){return s(i,o,e,t,n,r,[l],u,a,!1)}},u=function(e,t,n,r){return function(a,i,s,l){return o(a,i,e,t,n,[s],l,r)}},{inherit:n,inheritMany:function(e,t){for(var r=0;r<t.length;r++)n(t[r],e)},mixin:function(e,t){!function(e,t){Object.assign(t,e)}(t.prototype,e.prototype),e.prototype.constructor=e},mixinHard:function(e,t){!function(e,t){for(var n=Object.keys(e),r=0;r<n.length;r++){var a=n[r];t.hasOwnProperty(a)||(t[a]=e[a])}}(t.prototype,e.prototype),e.prototype.constructor=e},installStaticTearOff:o,installInstanceTearOff:s,_instance_0u:l(0,0,null,["$0"],0),_instance_1u:l(0,1,null,["$1"],0),_instance_2u:l(0,2,null,["$2"],0),_instance_0i:l(1,0,null,["$0"],0),_instance_1i:l(1,1,null,["$1"],0),_instance_2i:l(1,2,null,["$2"],0),_static_0:u(0,null,["$0"],0),_static_1:u(1,null,["$1"],0),_static_2:u(2,null,["$2"],0),makeConstList:function(e){return e.immutable$list=Array,e.fixed$length=Array,e},lazy:function(e,t,n,r){var a=e;e[t]=a,e[n]=function(){return e[t]===a&&(e[t]=r()),e[n]=function(){return this[t]},e[t]}},lazyFinal:function(e,t,n,r){var a=e;e[t]=a,e[n]=function(){if(e[t]===a){var i=r();e[t]!==a&&h.xo(t),e[t]=i}var o=e[t];return e[n]=function(){return o},o}},lazyOld:function(e,t,n,r){var a=e;e[t]=a,e[n]=function(){var i;e[n]=function(){h.xn(t)};var o=r;try{e[t]===a?(i=e[t]=o,i=e[t]=r()):i=e[t]}finally{i===o&&(e[t]=null),e[n]=function(){return this[t]}}return i}},updateHolder:function(t,n){return e(n,t),t},convertToFastObject:r,updateTypes:function(e){var t=g.types,n=t.length;return t.push.apply(t,e),n},setOrUpdateInterceptorsByTag:function(t){var n=g.interceptorsByTag;n?e(t,n):g.interceptorsByTag=t},setOrUpdateLeafTags:function(t){var n=g.leafTags;n?e(t,n):g.leafTags=t}}),h={nk:function(){},hd:(e,t,n)=>t.h("p<0>").b(e)?new h.dV(e,t.h("@<0>").I(n).h("dV<1,2>")):new h.c4(e,t.h("@<0>").I(n).h("c4<1,2>")),ow:e=>new h.eY("Field '"+h.b(e)+"' has been assigned during initialization."),aW:e=>new h.fj(e),mP(e){var t,n=48^e;return n<=9?n:97<=(t=32|e)&&t<=102?t-87:-1},pP(e,t){var n=h.mP(d.a.B(e,t)),r=h.mP(d.a.B(e,t+1));return 16*n+r-(256&r)},bS(e,t,n){if(null==e)throw h.d(new h.dF(t,n.h("dF<0>")));return e},dM:(e,t,n,r)=>(h.aV(t,"start"),null!=n&&(h.aV(n,"end"),t>n&&h.a0(h.X(t,0,n,"start",null))),new h.dL(e,t,n,r.h("dL<0>"))),jM:(e,t,n,r)=>_.O.b(e)?new h.c7(e,t,n.h("@<0>").I(r).h("c7<1,2>")):new h.bc(e,t,n.h("@<0>").I(r).h("bc<1,2>")),oT(e,t,n){var r="count";return _.O.b(e)?(h.h6(t,r),h.aV(t,r),new h.cN(e,t,n.h("cN<0>"))):(h.h6(t,r),h.aV(t,r),new h.bf(e,t,n.h("bf<0>")))},ni:()=>new h.bG("No element"),u5:()=>new h.bG("Too few elements"),bJ:function(){},dk:function(e,t){this.a=e,this.$ti=t},c4:function(e,t){this.a=e,this.$ti=t},dV:function(e,t){this.a=e,this.$ti=t},dQ:function(){},b5:function(e,t){this.a=e,this.$ti=t},c5:function(e,t){this.a=e,this.$ti=t},he:function(e,t){this.a=e,this.b=t},eY:function(e){this.a=e},fj:function(e){this.a=e},cL:function(e){this.a=e},n6:function(){},dF:function(e,t){this.a=e,this.$ti=t},p:function(){},ag:function(){},dL:function(e,t,n,r){var a=this;a.a=e,a.b=t,a.c=n,a.$ti=r},a9:function(e,t,n){var r=this;r.a=e,r.b=t,r.c=0,r.d=null,r.$ti=n},bc:function(e,t,n){this.a=e,this.b=t,this.$ti=n},c7:function(e,t,n){this.a=e,this.b=t,this.$ti=n},dB:function(e,t,n){var r=this;r.a=null,r.b=e,r.c=t,r.$ti=n},aa:function(e,t,n){this.a=e,this.b=t,this.$ti=n},lC:function(e,t,n){this.a=e,this.b=t,this.$ti=n},cC:function(e,t,n){this.a=e,this.b=t,this.$ti=n},bf:function(e,t,n){this.a=e,this.b=t,this.$ti=n},cN:function(e,t,n){this.a=e,this.b=t,this.$ti=n},dJ:function(e,t,n){this.a=e,this.b=t,this.$ti=n},b7:function(e){this.$ti=e},dn:function(e){this.$ti=e},dq:function(){},fu:function(){},d0:function(){},d_:function(e){this.a=e},el:function(){},tP(){throw h.d(h.ac("Cannot modify unmodifiable Map"))},tY:e=>"number"==typeof e?d.bV.gE(e):_.fo.b(e)?e.gE(e):_.dd.b(e)?h.cX(e):h.fX(e),tZ:e=>new h.hX(e),pW(e){var t=g.mangledGlobalNames[e];return null!=t?t:"minified:"+e},pN(e,t){var n;return null!=t&&null!=(n=t.x)?n:_.aU.b(e)},b(e){var t;if("string"==typeof e)return e;if("number"==typeof e){if(0!==e)return""+e}else{if(!0===e)return"true";if(!1===e)return"false";if(null==e)return"null"}if("string"!=typeof(t=f.aq(e)))throw h.d(h.h5(e,"object","toString method returned 'null'"));return t},cX(e){var t,n=m.oI;return null==n&&(n=m.oI=Symbol("identityHashCode")),null==(t=e[n])&&(t=1073741823*Math.random()|0,e[n]=t),t},oP(e,t){var n,r,a,i,o,s,l=null;if("string"!=typeof e&&h.a0(h.cG(e)),null==(n=/^\s*[+-]?((0x[a-f0-9]+)|(\d+)|([a-z0-9]+))\s*$/i.exec(e)))return l;if(r=n[3],null==t)return null!=r?parseInt(e,10):null!=n[2]?parseInt(e,16):l;if(t<2||t>36)throw h.d(h.X(t,2,36,"radix",l));if(10===t&&null!=r)return parseInt(e,10);if(t<10||null==r)for(a=t<=10?47+t:86+t,o=(i=n[1]).length,s=0;s<o;++s)if((32|d.a.J(i,s))>a)return l;return parseInt(e,t)},k5:e=>h.uH(e),uH(e){var t,n,r,a;if(e instanceof h.c)return h.aA(h.ai(e),null);if((t=f.bT(e))===d.bP||t===d.bX||_.ak.b(e)){if("Object"!==(n=d.a8(e))&&""!==n)return n;if("function"==typeof(r=e.constructor)&&"string"==typeof(a=r.name)&&"Object"!==a&&""!==a)return a}return h.aA(h.ai(e),null)},oH(e){var t,n,r,a,i=e.length;if(i<=500)return String.fromCharCode.apply(null,e);for(t="",n=0;n<i;n=r)a=(r=n+500)<i?r:i,t+=String.fromCharCode.apply(null,e.slice(n,a));return t},uK(e){var t,n,r,a=h.a([],_.Z);for(t=e.length,n=0;n<e.length;e.length===t||(0,h.cI)(e),++n){if(r=e[n],!h.aH(r))throw h.d(h.cG(r));if(r<=65535)a.push(r);else{if(!(r<=1114111))throw h.d(h.cG(r));a.push(55296+(1023&d.c.ag(r-65536,10))),a.push(56320+(1023&r))}}return h.oH(a)},uJ(e){var t,n,r;for(t=e.length,n=0;n<t;++n){if(r=e[n],!h.aH(r))throw h.d(h.cG(r));if(r<0)throw h.d(h.cG(r));if(r>65535)return h.uK(e)}return h.oH(e)},uL(e,t,n){var r,a,i,o;if(n<=500&&0===t&&n===e.length)return String.fromCharCode.apply(null,e);for(r=t,a="";r<n;r=i)o=(i=r+500)<n?i:n,a+=String.fromCharCode.apply(null,e.subarray(r,o));return a},bd(e){var t;if(0<=e){if(e<=65535)return String.fromCharCode(e);if(e<=1114111)return t=e-65536,String.fromCharCode((55296|d.c.ag(t,10))>>>0,1023&t|56320)}throw h.d(h.X(e,0,1114111,null,null))},ax:e=>(void 0===e.date&&(e.date=new Date(e.a)),e.date),fh:e=>e.b?h.ax(e).getUTCFullYear()+0:h.ax(e).getFullYear()+0,oN:e=>e.b?h.ax(e).getUTCMonth()+1:h.ax(e).getMonth()+1,oJ:e=>e.b?h.ax(e).getUTCDate()+0:h.ax(e).getDate()+0,oK:e=>e.b?h.ax(e).getUTCHours()+0:h.ax(e).getHours()+0,oM:e=>e.b?h.ax(e).getUTCMinutes()+0:h.ax(e).getMinutes()+0,oO:e=>e.b?h.ax(e).getUTCSeconds()+0:h.ax(e).getSeconds()+0,oL:e=>e.b?h.ax(e).getUTCMilliseconds()+0:h.ax(e).getMilliseconds()+0,bB(e,t,n){var r,a,i={a:0};return r=[],a=[],i.a=t.length,d.d.F(r,t),i.b="",null!=n&&0!==n.a&&n.L(0,new h.k4(i,a,r)),f.tm(e,new h.iI(d.dA,0,r,a,0))},uI(e,t,n){var r,a;if(Array.isArray(t)&&(null==n||0===n.a)){if(0===(r=t.length)){if(e.$0)return e.$0()}else if(1===r){if(e.$1)return e.$1(t[0])}else if(2===r){if(e.$2)return e.$2(t[0],t[1])}else if(3===r){if(e.$3)return e.$3(t[0],t[1],t[2])}else if(4===r){if(e.$4)return e.$4(t[0],t[1],t[2],t[3])}else if(5===r&&e.$5)return e.$5(t[0],t[1],t[2],t[3],t[4]);if(null!=(a=e["$"+r]))return a.apply(e,t)}return h.uG(e,t,n)},uG(e,t,n){var r,a,i,o,s,l,u,c,p,m,g,b,v,y,x;if((a=(r=null!=t?Array.isArray(t)?t:h.ct(t,!0,_.z):[]).length)<(i=e.$R))return h.bB(e,r,n);if(l=(s=null==(o=e.$D))?null:o(),"string"==typeof(c=(u=f.bT(e)).$C)&&(c=u[c]),s)return null!=n&&0!==n.a?h.bB(e,r,n):a===i?c.apply(e,r):h.bB(e,r,n);if(Array.isArray(l))return null!=n&&0!==n.a?h.bB(e,r,n):a>(p=i+l.length)?h.bB(e,r,null):(a<p&&(m=l.slice(a-i),r===t&&(r=h.ct(r,!0,_.z)),d.d.F(r,m)),c.apply(e,r));if(a>i)return h.bB(e,r,n);if(r===t&&(r=h.ct(r,!0,_.z)),g=Object.keys(l),null==n)for(s=g.length,b=0;b<g.length;g.length===s||(0,h.cI)(g),++b){if(v=l[g[b]],d.ac===v)return h.bB(e,r,n);d.d.C(r,v)}else{for(s=g.length,y=0,b=0;b<g.length;g.length===s||(0,h.cI)(g),++b)if(x=g[b],n.v(x))++y,d.d.C(r,n.j(0,x));else{if(v=l[x],d.ac===v)return h.bB(e,r,n);d.d.C(r,v)}if(y!==n.a)return h.bB(e,r,n)}return c.apply(e,r)},ex(e,t){var n,r="index",a=null;return h.aH(t)?(n=f.a3(e),t<0||t>=n?h.eS(t,e,r,a,n):new h.dI(a,a,!0,t,r,"Value not in range")):new h.ar(!0,t,r,a)},wE:(e,t,n)=>e<0||e>n?h.X(e,0,n,"start",null):null!=t&&(t<e||t>n)?h.X(t,e,n,"end",null):new h.ar(!0,t,"end",null),cG:e=>new h.ar(!0,e,null,null),d(e){var t,n;return null==e&&(e=new h.fd),(t=new Error).dartException=e,n=h.xp,"defineProperty"in Object?(Object.defineProperty(t,"message",{get:n}),t.name=""):t.toString=n,t},xp(){return f.aq(this.dartException)},a0(e){throw h.d(e)},cI(e){throw h.d(h.af(e))},bj(e){var t,n,r,a,i,o;return null==(t=(e=h.pS(e.replace(String({}),"$receiver$"))).match(/\\\$[a-zA-Z]+\\\$/g))&&(t=h.a([],_.s)),n=t.indexOf("\\$arguments\\$"),r=t.indexOf("\\$argumentsExpr\\$"),a=t.indexOf("\\$expr\\$"),i=t.indexOf("\\$method\\$"),o=t.indexOf("\\$receiver\\$"),new h.ll(e.replace(new RegExp("\\\\\\$arguments\\\\\\$","g"),"((?:x|[^x])*)").replace(new RegExp("\\\\\\$argumentsExpr\\\\\\$","g"),"((?:x|[^x])*)").replace(new RegExp("\\\\\\$expr\\\\\\$","g"),"((?:x|[^x])*)").replace(new RegExp("\\\\\\$method\\\\\\$","g"),"((?:x|[^x])*)").replace(new RegExp("\\\\\\$receiver\\\\\\$","g"),"((?:x|[^x])*)"),n,r,a,i,o)},lm:e=>function(e){try{e.$method$("$arguments$")}catch(e){return e.message}}(e),oW:e=>function(e){try{e.$method$}catch(e){return e.message}}(e),nl(e,t){var n=null==t,r=n?null:t.method;return new h.eX(e,r,n?null:t.receiver)},K:e=>null==e?new h.fe(e):e instanceof h.dp?h.bU(e,e.a):"object"!=typeof e?e:"dartException"in e?h.bU(e,e.dartException):h.wk(e),bU:(e,t)=>(_.Q.b(t)&&null==t.$thrownJsError&&(t.$thrownJsError=e),t),wk(e){var t,n,r,a,i,o,s,l,u,c,f,p,g,b,_=null;if(!("message"in e))return e;if(t=e.message,"number"in e&&"number"==typeof e.number&&(r=65535&(n=e.number),10==(8191&d.c.ag(n,16))))switch(r){case 438:return h.bU(e,h.nl(h.b(t)+" (Error "+r+")",_));case 445:case 5007:return a=h.b(t),h.bU(e,new h.dG(a+" (Error "+r+")",_))}return e instanceof TypeError?(i=m.rY(),o=m.rZ(),s=m.t_(),l=m.t0(),u=m.t3(),c=m.t4(),f=m.t2(),m.t1(),p=m.t6(),g=m.t5(),null!=(b=i.a8(t))?h.bU(e,h.nl(t,b)):null!=(b=o.a8(t))?(b.method="call",h.bU(e,h.nl(t,b))):(a=null!=(b=s.a8(t))||null!=(b=l.a8(t))||null!=(b=u.a8(t))||null!=(b=c.a8(t))||null!=(b=f.a8(t))||null!=(b=l.a8(t))||null!=(b=p.a8(t))||null!=(b=g.a8(t)))?h.bU(e,new h.dG(t,null==b?_:b.method)):h.bU(e,new h.ft("string"==typeof t?t:""))):e instanceof RangeError?"string"==typeof t&&-1!==t.indexOf("call stack")?new h.dK:(t=function(e){try{return String(e)}catch(e){}return null}(e),h.bU(e,new h.ar(!1,_,_,"string"==typeof t?t.replace(/^RangeError:\s*/,""):t))):"function"==typeof InternalError&&e instanceof InternalError&&"string"==typeof t&&"too much recursion"===t?new h.dK:e},aR(e){var t;return e instanceof h.dp?e.b:null==e?new h.e8(e):null!=(t=e.$cachedTrace)?t:e.$cachedTrace=new h.e8(e)},fX:e=>null==e||"object"!=typeof e?f.bW(e):h.cX(e),pF(e,t){var n,r,a,i=e.length;for(n=0;n<i;n=a)a=(r=n+1)+1,t.m(0,e[n],e[r]);return t},wI(e,t){var n,r=e.length;for(n=0;n<r;++n)t.C(0,e[n]);return t},wT(e,t,n,r,a,i){switch(t){case 0:return e.$0();case 1:return e.$1(n);case 2:return e.$2(n,r);case 3:return e.$3(n,r,a);case 4:return e.$4(n,r,a,i)}throw h.d(h.tW("Unsupported number of arguments for wrapped closure"))},mH(e,t){var n,r,a,i;return null==e?null:((n=e.$identity)||(r=e,a=t,i=h.wT,n=function(e,t,n,o){return i(r,a,e,t,n,o)},e.$identity=n),n)},tO(e){var t,n,r,a,i,o,s,l,u,c=e.co,f=e.iS,d=e.iI,p=e.nDA,m=e.aI,g=e.fs,b=e.cs,_=g[0],v=b[0],y=c[_],x=e.fT;for(x.toString,(t=f?Object.create((new h.fn).constructor.prototype):Object.create(new h.cK(null,null).constructor.prototype)).$initialize=t.constructor,n=f?function(){this.$initialize()}:function(e,t){this.$initialize(e,t)},t.constructor=n,n.prototype=t,t.$_name=_,t.$_target=y,(r=!f)?a=h.oo(_,y,d,p):(t.$static_name=_,a=y),t.$S=h.tK(x,f,d),t[v]=a,i=a,o=1;o<g.length;++o)"string"==typeof(s=g[o])?(l=s,s=c[s]):l="",null!=(u=b[o])&&(r&&(s=h.oo(l,s,d,p)),t[u]=s),o===m&&(i=s);return t.$C=i,t.$R=e.rC,t.$D=e.dV,n},tK(e,t,n){if("number"==typeof e)return e;if("string"==typeof e){if(t)throw h.d("Cannot compute signature for static tearoff.");return r=e,a=h.tD,function(){return a(this,r)}}var r,a;throw h.d("Error in functionType of tearoff")},tL(e,t,n,r){var a,i,o=h.on;switch(t?-1:e){case 0:return a=n,i=o,function(){return i(this)[a]()};case 1:return function(e,t){return function(n){return t(this)[e](n)}}(n,o);case 2:return function(e,t){return function(n,r){return t(this)[e](n,r)}}(n,o);case 3:return function(e,t){return function(n,r,a){return t(this)[e](n,r,a)}}(n,o);case 4:return function(e,t){return function(n,r,a,i){return t(this)[e](n,r,a,i)}}(n,o);case 5:return function(e,t){return function(n,r,a,i,o){return t(this)[e](n,r,a,i,o)}}(n,o);default:return function(e,t){return function(){return e.apply(t(this),arguments)}}(r,o)}},oo(e,t,n,r){var a;return n?h.tN(e,t,r):(a=t.length,h.tL(a,r,e,t))},tM(e,t,n,r){var a,i,o,s=h.on,l=h.tE;switch(t?-1:e){case 0:throw h.d(new h.fm("Intercepted function with no arguments."));case 1:return a=n,i=l,o=s,function(){return i(this)[a](o(this))};case 2:return function(e,t,n){return function(r){return t(this)[e](n(this),r)}}(n,l,s);case 3:return function(e,t,n){return function(r,a){return t(this)[e](n(this),r,a)}}(n,l,s);case 4:return function(e,t,n){return function(r,a,i){return t(this)[e](n(this),r,a,i)}}(n,l,s);case 5:return function(e,t,n){return function(r,a,i,o){return t(this)[e](n(this),r,a,i,o)}}(n,l,s);case 6:return function(e,t,n){return function(r,a,i,o,s){return t(this)[e](n(this),r,a,i,o,s)}}(n,l,s);default:return function(e,t,n){return function(){var r=[n(this)];return Array.prototype.push.apply(r,arguments),e.apply(t(this),r)}}(r,l,s)}},tN(e,t,n){var r;return null==m.ol&&(m.ol=h.ok("interceptor")),null==m.om&&(m.om=h.ok("receiver")),r=t.length,h.tM(r,n,e,t)},nF:e=>h.tO(e),tD:(e,t)=>h.ml(g.typeUniverse,h.ai(e.a),t),on:e=>e.a,tE:e=>e.b,ok(e){var t,n,r,a=new h.cK("receiver","interceptor"),i=f.nj(Object.getOwnPropertyNames(a));for(t=i.length,n=0;n<t;++n)if(a[r=i[n]]===e)return r;throw h.d(h.R("Field name "+e+" not found.",null))},xn(e){throw h.d(new h.eM(e))},wN:e=>g.getIsolateTag(e),uq(e,t,n){var r=new h.cs(e,t,n.h("cs<0>"));return r.c=e.e,r},AK(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})},xa(e){var t,n,r,a,i,o=m.pK.$1(e),s=m.mI[o];if(null!=s)return Object.defineProperty(e,g.dispatchPropertyName,{value:s,enumerable:!1,writable:!0,configurable:!0}),s.i;if(null!=(t=m.mT[o]))return t;if(null==(n=g.interceptorsByTag[o])&&null!=(r=m.pB.$2(e,o))){if(null!=(s=m.mI[r]))return Object.defineProperty(e,g.dispatchPropertyName,{value:s,enumerable:!1,writable:!0,configurable:!0}),s.i;if(null!=(t=m.mT[r]))return t;n=g.interceptorsByTag[r],o=r}if(null==n)return null;if(t=n.prototype,"!"===(a=o[0]))return s=h.n5(t),m.mI[o]=s,Object.defineProperty(e,g.dispatchPropertyName,{value:s,enumerable:!1,writable:!0,configurable:!0}),s.i;if("~"===a)return m.mT[o]=t,t;if("-"===a)return i=h.n5(t),Object.defineProperty(Object.getPrototypeOf(e),g.dispatchPropertyName,{value:i,enumerable:!1,writable:!0,configurable:!0}),i.i;if("+"===a)return h.pQ(e,t);if("*"===a)throw h.d(h.oX(o));return!0===g.leafTags[o]?(i=h.n5(t),Object.defineProperty(Object.getPrototypeOf(e),g.dispatchPropertyName,{value:i,enumerable:!1,writable:!0,configurable:!0}),i.i):h.pQ(e,t)},pQ(e,t){var n=Object.getPrototypeOf(e);return Object.defineProperty(n,g.dispatchPropertyName,{value:f.nJ(t,n,null,null),enumerable:!1,writable:!0,configurable:!0}),t},n5:e=>f.nJ(e,!1,null,!!e.$iau),xc(e,t,n){var r=t.prototype;return!0===g.leafTags[e]?h.n5(r):f.nJ(r,n,null,null)},wR(){!0!==m.nH&&(m.nH=!0,h.wS())},wS(){var e,t,n,r,a,i,o,s;if(m.mI=Object.create(null),m.mT=Object.create(null),h.wQ(),e=g.interceptorsByTag,t=Object.getOwnPropertyNames(e),"undefined"!=typeof window)for(window,n=function(){},r=0;r<t.length;++r)a=t[r],null!=(i=m.pR.$1(a))&&null!=(o=h.xc(a,e[a],i))&&(Object.defineProperty(i,g.dispatchPropertyName,{value:o,enumerable:!1,writable:!0,configurable:!0}),n.prototype=i);for(r=0;r<t.length;++r)a=t[r],/^[A-Za-z_]/.test(a)&&(s=e[a],e["!"+a]=s,e["~"+a]=s,e["-"+a]=s,e["+"+a]=s,e["*"+a]=s)},wQ(){var e,t,n,r,a,i,o=d.ba();if(o=h.dg(d.bb,h.dg(d.bc,h.dg(d.a9,h.dg(d.a9,h.dg(d.bd,h.dg(d.be,h.dg(d.bf(d.a8),o))))))),"undefined"!=typeof dartNativeDispatchHooksTransformer&&("function"==typeof(e=dartNativeDispatchHooksTransformer)&&(e=[e]),e.constructor==Array))for(t=0;t<e.length;++t)"function"==typeof(n=e[t])&&(o=n(o)||o);r=o.getTag,a=o.getUnknownTag,i=o.prototypeForTag,m.pK=new h.mQ(r),m.pB=new h.mR(a),m.pR=new h.mS(i)},dg:(e,t)=>e(t)||t,u7(e,t,n,r,a,i){var o=function(e,t){try{return new RegExp(e,t)}catch(e){return e}}(e,(t?"m":"")+(n?"":"i")+(r?"u":"")+(a?"s":"")+(i?"g":""));if(o instanceof RegExp)return o;throw h.d(h.P("Illegal RegExp pattern ("+String(o)+")",e,null))},wF:e=>e.indexOf("$",0)>=0?e.replace(/\$/g,"$$$$"):e,pS:e=>/[[\]{}()*+?.\\^$|]/.test(e)?e.replace(/[[\]{}()*+?.\\^$|]/g,"\\$&"):e,pU:(e,t,n)=>h.xl(e,t,n),xl(e,t,n){var r,a,i;if(""===t){if(""===e)return n;for(r=e.length,a=n,i=0;i<r;++i)a=a+e[i]+n;return a.charCodeAt(0),a}return e.indexOf(t,0)<0?e:e.length<500||n.indexOf("$",0)>=0?e.split(t).join(n):e.replace(new RegExp(h.pS(t),"g"),h.wF(n))},dl:function(e,t){this.a=e,this.$ti=t},cM:function(){},as:function(e,t,n,r){var a=this;a.a=e,a.b=t,a.c=n,a.$ti=r},dS:function(e,t){this.a=e,this.$ti=t},Y:function(e,t){this.a=e,this.$ti=t},hX:function(e){this.a=e},iI:function(e,t,n,r,a){var i=this;i.a=e,i.c=t,i.d=n,i.e=r,i.f=a},k4:function(e,t,n){this.a=e,this.b=t,this.c=n},ll:function(e,t,n,r,a,i){var o=this;o.a=e,o.b=t,o.c=n,o.d=r,o.e=a,o.f=i},dG:function(e,t){this.a=e,this.b=t},eX:function(e,t,n){this.a=e,this.b=t,this.c=n},ft:function(e){this.a=e},fe:function(e){this.a=e},dp:function(e,t){this.a=e,this.b=t},e8:function(e){this.a=e,this.b=null},c6:function(){},eH:function(){},eI:function(){},fp:function(){},fn:function(){},cK:function(e,t){this.a=e,this.b=t},fm:function(e){this.a=e},me:function(){},aE:function(e){var t=this;t.a=0,t.f=t.e=t.d=t.c=t.b=null,t.r=0,t.$ti=e},iO:function(e){this.a=e},jJ:function(e,t){this.a=e,this.b=t,this.c=null},aM:function(e,t){this.a=e,this.$ti=t},cs:function(e,t,n){var r=this;r.a=e,r.b=t,r.d=r.c=null,r.$ti=n},mQ:function(e){this.a=e},mR:function(e){this.a=e},mS:function(e){this.a=e},iJ:function(e,t){var n=this;n.a=e,n.b=t,n.d=n.c=null},mc:function(e){this.b=e},db(e,t,n){if(!h.aH(t))throw h.d(h.R("Invalid view offsetInBytes "+h.b(t),null))},vO:e=>e,f3:(e,t,n)=>(h.db(e,t,n),null==n?new DataView(e,t):new DataView(e,t,n)),uz:e=>new Float32Array(e),uA:e=>new Int8Array(e),oE:(e,t,n)=>(h.db(e,t,n),new Uint16Array(e,t,n)),oF:(e,t,n)=>(h.db(e,t,n),new Uint32Array(e,t,n)),uB:e=>new Uint8Array(e),no:(e,t,n)=>(h.db(e,t,n),new Uint8Array(e,t,n)),bl(e,t,n){if(e>>>0!==e||e>=n)throw h.d(h.ex(t,e))},bP(e,t,n){if(e>>>0!==e||t>>>0!==t||e>t||t>n)throw h.d(h.wE(e,t,n));return t},dD:function(){},cW:function(){},dC:function(){},aw:function(){},f4:function(){},f5:function(){},f6:function(){},f7:function(){},f8:function(){},f9:function(){},fa:function(){},dE:function(){},cu:function(){},e4:function(){},e5:function(){},e6:function(){},e7:function(){},uO(e,t){var n=t.c;return null==n?t.c=h.nx(e,t.y,!0):n},oR(e,t){var n=t.c;return null==n?t.c=h.ef(e,"a5",[t.y]):n},oS(e){var t=e.x;return 6===t||7===t||8===t?h.oS(e.y):11===t||12===t},uN:e=>e.at,aB:e=>h.fR(g.typeUniverse,e,!1),bR(e,t,n,r){var a,i,o,s,l,u,c,f,d,p,m,g,b,_,v,y,x=t.x;switch(x){case 5:case 1:case 2:case 3:case 4:return t;case 6:return a=t.y,(i=h.bR(e,a,n,r))===a?t:h.pd(e,i,!0);case 7:return a=t.y,(i=h.bR(e,a,n,r))===a?t:h.nx(e,i,!0);case 8:return a=t.y,(i=h.bR(e,a,n,r))===a?t:h.pc(e,i,!0);case 9:return o=t.z,(s=h.ev(e,o,n,r))===o?t:h.ef(e,t.y,s);case 10:return l=t.y,u=h.bR(e,l,n,r),c=t.z,f=h.ev(e,c,n,r),u===l&&f===c?t:h.nv(e,u,f);case 11:return d=t.y,p=h.bR(e,d,n,r),m=t.z,g=h.wh(e,m,n,r),p===d&&g===m?t:h.pb(e,p,g);case 12:return r+=(b=t.z).length,_=h.ev(e,b,n,r),l=t.y,u=h.bR(e,l,n,r),_===b&&u===l?t:h.nw(e,u,_,!0);case 13:return(v=t.y)<r||null==(y=n[v-r])?t:y;default:throw h.d(h.h7("Attempted to substitute unexpected RTI kind "+x))}},ev(e,t,n,r){var a,i,o,s,l=t.length,u=h.mn(l);for(a=!1,i=0;i<l;++i)o=t[i],(s=h.bR(e,o,n,r))!==o&&(a=!0),u[i]=s;return a?u:t},wi(e,t,n,r){var a,i,o,s,l,u,c=t.length,f=h.mn(c);for(a=!1,i=0;i<c;i+=3)o=t[i],s=t[i+1],l=t[i+2],(u=h.bR(e,l,n,r))!==l&&(a=!0),f.splice(i,3,o,s,u);return a?f:t},wh(e,t,n,r){var a,i=t.a,o=h.ev(e,i,n,r),s=t.b,l=h.ev(e,s,n,r),u=t.c,c=h.wi(e,u,n,r);return o===i&&l===s&&c===u?t:((a=new h.fG).a=o,a.b=l,a.c=c,a)},a:(e,t)=>(e[g.arrayRti]=t,e),wB(e){var t=e.$S;return null!=t?"number"==typeof t?h.wO(t):e.$S():null},pM(e,t){var n;return h.oS(t)&&e instanceof h.c6&&null!=(n=h.wB(e))?n:h.ai(e)},ai(e){var t;return e instanceof h.c?null!=(t=e.$ti)?t:h.nA(e):Array.isArray(e)?h.Z(e):h.nA(f.bT(e))},Z(e){var t=e[g.arrayRti],n=_.b;return null==t||t.constructor!==n.constructor?n:t},C(e){var t=e.$ti;return null!=t?t:h.nA(e)},nA(e){var t=e.constructor,n=t.$ccache;return null!=n?n:h.vY(e,t)},vY(e,t){var n=e instanceof h.c6?e.__proto__.__proto__.constructor:t,r=h.vm(g.typeUniverse,n.name);return t.$ccache=r,r},wO(e){var t,n=g.types,r=n[e];return"string"==typeof r?(t=h.fR(g.typeUniverse,r,!1),n[e]=t,t):r},pD(e){var t,n,r,a=e.w;return null!=a?a:(n=(t=e.at).replace(/\*/g,""))===t?e.w=new h.ed(e):(a=(r=h.fR(g.typeUniverse,n,!0)).w,e.w=null==a?r.w=new h.ed(r):a)},u:e=>h.pD(h.fR(g.typeUniverse,e,!1)),vX(e){var t,n,r,a=this,i=_.K;if(a===i)return h.dc(a,e,h.w1);if(i=!!h.bo(a)||a===_._||a===i)return h.dc(a,e,h.w4);if(null!=(n=(t=6===(i=a.x)?a.y:a)===_.S?h.aH:t===_.gR||t===_.di?h.w0:t===_.R?h.w2:t===_.y?h.er:null))return h.dc(a,e,n);if(9===t.x){if(r=t.y,t.z.every(h.wU))return a.r="$i"+r,"o"===r?h.dc(a,e,h.w_):h.dc(a,e,h.w3)}else if(7===i)return h.dc(a,e,h.vR);return h.dc(a,e,h.vP)},dc:(e,t,n)=>(e.b=n,e.b(t)),vW(e){var t,n=this;return t=h.bo(n)||n===_._||n===_.K?h.vH:n===_.K?h.vG:h.vQ,n.a=t,n.a(e)},mC(e){var t=e.x;return!!h.bo(e)||e===_._||e===_.A||7===t||8===t&&h.mC(e.y)||e===_.P||e===_.T},vP(e){var t=this;return null==e?h.mC(t):h.ad(g.typeUniverse,h.pM(e,t),null,t,null)},vR(e){return null==e||this.y.b(e)},w3(e){var t;return null==e?h.mC(this):(t=this.r,e instanceof h.c?!!e[t]:!!f.bT(e)[t])},w_(e){var t;return null==e?h.mC(this):!("object"!=typeof e||!Array.isArray(e)&&(t=this.r,e instanceof h.c?!e[t]:!f.bT(e)[t]))},AD(e){return null==e||this.b(e)?e:void h.po(e,this)},vQ(e){return null==e||this.b(e)?e:void h.po(e,this)},po(e,t){throw h.d(h.vc(h.p5(e,h.pM(e,t),h.aA(t,null))))},p5:(e,t,n)=>h.cO(e)+": type '"+h.b(h.aA(null==t?h.ai(e):t,null))+"' is not a subtype of type '"+h.b(n)+"'",vc:e=>new h.ee("TypeError: "+e),ao:(e,t)=>new h.ee("TypeError: "+h.p5(e,null,t)),w1:e=>null!=e,vG:e=>e,w4:e=>!0,vH:e=>e,er:e=>!0===e||!1===e,An(e){if(!0===e)return!0;if(!1===e)return!1;throw h.d(h.ao(e,"bool"))},Ap(e){if(!0===e)return!0;if(!1===e)return!1;if(null==e)return e;throw h.d(h.ao(e,"bool"))},Ao(e){if(!0===e)return!0;if(!1===e)return!1;if(null==e)return e;throw h.d(h.ao(e,"bool?"))},Aq(e){if("number"==typeof e)return e;throw h.d(h.ao(e,"double"))},As(e){if("number"==typeof e)return e;if(null==e)return e;throw h.d(h.ao(e,"double"))},Ar(e){if("number"==typeof e)return e;if(null==e)return e;throw h.d(h.ao(e,"double?"))},aH:e=>"number"==typeof e&&Math.floor(e)===e,At(e){if("number"==typeof e&&Math.floor(e)===e)return e;throw h.d(h.ao(e,"int"))},Av(e){if("number"==typeof e&&Math.floor(e)===e)return e;if(null==e)return e;throw h.d(h.ao(e,"int"))},Au(e){if("number"==typeof e&&Math.floor(e)===e)return e;if(null==e)return e;throw h.d(h.ao(e,"int?"))},w0:e=>"number"==typeof e,Aw(e){if("number"==typeof e)return e;throw h.d(h.ao(e,"num"))},Ay(e){if("number"==typeof e)return e;if(null==e)return e;throw h.d(h.ao(e,"num"))},Ax(e){if("number"==typeof e)return e;if(null==e)return e;throw h.d(h.ao(e,"num?"))},w2:e=>"string"==typeof e,Az(e){if("string"==typeof e)return e;throw h.d(h.ao(e,"String"))},AB(e){if("string"==typeof e)return e;if(null==e)return e;throw h.d(h.ao(e,"String"))},AA(e){if("string"==typeof e)return e;if(null==e)return e;throw h.d(h.ao(e,"String?"))},wd(e,t){var n,r,a;for(n="",r="",a=0;a<e.length;++a,r=", ")n+=d.a.ak(r,h.aA(e[a],t));return n},pq(e,t,n){var r,a,i,o,s,l,u,c,p,m,g,b,v,y,x,A,w,T,E,P,S,C=", ";if(null!=n){for(r=n.length,null==t?(t=h.a([],_.s),a=null):a=t.length,i=t.length,o=r;o>0;--o)t.push("T"+(i+o));for(s=_.cK,l=_._,u=_.K,c="<",p="",o=0;o<r;++o,p=C)c=d.a.ak(c+p,t[t.length-1-o]),2===(g=(m=n[o]).x)||3===g||4===g||5===g||m===s||m===l||m===u||(c+=d.a.ak(" extends ",h.aA(m,t)));c+=">"}else c="",a=null;for(s=e.y,y=(v=(b=e.z).a).length,A=(x=b.b).length,T=(w=b.c).length,E=h.aA(s,t),P="",S="",o=0;o<y;++o,S=C)P+=d.a.ak(S,h.aA(v[o],t));if(A>0){for(P+=S+"[",S="",o=0;o<A;++o,S=C)P+=d.a.ak(S,h.aA(x[o],t));P+="]"}if(T>0){for(P+=S+"{",S="",o=0;o<T;o+=3,S=C)P+=S,w[o+1]&&(P+="required "),P+=f.oc(h.aA(w[o+2],t)," ")+w[o];P+="}"}return null!=a&&(t.toString,t.length=a),c+"("+P+") => "+h.b(E)},aA(e,t){var n,r,a,i,o,s,l=e.x;return 5===l?"erased":2===l?"dynamic":3===l?"void":1===l?"Never":4===l?"any":6===l?n=h.aA(e.y,t):7===l?(r=e.y,n=h.aA(r,t),a=r.x,f.oc(11===a||12===a?d.a.ak("(",n)+")":n,"?")):8===l?"FutureOr<"+h.b(h.aA(e.y,t))+">":9===l?(i=h.wj(e.y),(o=e.z).length>0?i+"<"+h.wd(o,t)+">":i):11===l?h.pq(e,t,null):12===l?h.pq(e.y,t,e.z):13===l?(t.toString,s=e.y,t[t.length-1-s]):"?"},wj(e){var t=g.mangledGlobalNames[e];return null!=t?t:"minified:"+e},vn(e,t){for(var n=e.tR[t];"string"==typeof n;)n=e.tR[n];return n},vm(e,t){var n,r,a,i,o,s=e.eT,l=s[t];if(null==l)return h.fR(e,t,!1);if("number"==typeof l){for(n=l,r=h.eg(e,5,"#"),a=h.mn(n),i=0;i<n;++i)a[i]=r;return o=h.ef(e,t,a),s[t]=o,o}return l},vk:(e,t)=>h.pl(e.tR,t),vj:(e,t)=>h.pl(e.eT,t),fR(e,t,n){var r,a=e.eC,i=a.get(t);return null!=i?i:(r=h.pa(h.p8(e,null,t,n)),a.set(t,r),r)},ml(e,t,n){var r,a,i=t.Q;return null==i&&(i=t.Q=new Map),null!=(r=i.get(n))?r:(a=h.pa(h.p8(e,t,n,!0)),i.set(n,a),a)},vl(e,t,n){var r,a,i,o=t.as;return null==o&&(o=t.as=new Map),r=n.at,null!=(a=o.get(r))?a:(i=h.nv(e,t,10===n.x?n.z:[n]),o.set(r,i),i)},bO:(e,t)=>(t.a=h.vW,t.b=h.vX,t),eg(e,t,n){var r,a,i=e.eC.get(n);return null!=i?i:((r=new h.aQ(null,null)).x=t,r.at=n,a=h.bO(e,r),e.eC.set(n,a),a)},pd(e,t,n){var r,a=t.at+"*",i=e.eC.get(a);return null!=i?i:(r=h.vh(e,t,a,n),e.eC.set(a,r),r)},vh(e,t,n,r){var a,i;return r&&(a=t.x,h.bo(t)||t===_.P||t===_.T||7===a||6===a)?t:((i=new h.aQ(null,null)).x=6,i.y=t,i.at=n,h.bO(e,i))},nx(e,t,n){var r,a=t.at+"?",i=e.eC.get(a);return null!=i?i:(r=h.vg(e,t,a,n),e.eC.set(a,r),r)},vg(e,t,n,r){var a,i,o;if(r){if(a=t.x,h.bo(t)||t===_.P||t===_.T||7===a||8===a&&h.mU(t.y))return t;if(1===a||t===_.A)return _.P;if(6===a)return 8===(i=t.y).x&&h.mU(i.y)?i:h.uO(e,t)}return(o=new h.aQ(null,null)).x=7,o.y=t,o.at=n,h.bO(e,o)},pc(e,t,n){var r,a=t.at+"/",i=e.eC.get(a);return null!=i?i:(r=h.ve(e,t,a,n),e.eC.set(a,r),r)},ve(e,t,n,r){var a,i;if(r){if(a=t.x,h.bo(t)||t===_._||t===_.K||t===_.K)return t;if(1===a)return h.ef(e,"a5",[t]);if(t===_.P||t===_.T)return _.eH}return(i=new h.aQ(null,null)).x=8,i.y=t,i.at=n,h.bO(e,i)},vi(e,t){var n,r,a=t+"^",i=e.eC.get(a);return null!=i?i:((n=new h.aQ(null,null)).x=13,n.y=t,n.at=a,r=h.bO(e,n),e.eC.set(a,r),r)},fQ(e){var t,n,r,a=e.length;for(t="",n="",r=0;r<a;++r,n=",")t+=n+e[r].at;return t},vd(e){var t,n,r,a=e.length;for(t="",n="",r=0;r<a;r+=3,n=",")t+=n+e[r]+(e[r+1]?"!":":")+e[r+2].at;return t},ef(e,t,n){var r,a,i,o=t;return n.length>0&&(o+="<"+h.fQ(n)+">"),null!=(r=e.eC.get(o))?r:((a=new h.aQ(null,null)).x=9,a.y=t,a.z=n,n.length>0&&(a.c=n[0]),a.at=o,i=h.bO(e,a),e.eC.set(o,i),i)},nv(e,t,n){var r,a,i,o,s,l;return 10===t.x?(r=t.y,a=t.z.concat(n)):(a=n,r=t),i=r.at+";<"+h.fQ(a)+">",null!=(o=e.eC.get(i))?o:((s=new h.aQ(null,null)).x=10,s.y=r,s.z=a,s.at=i,l=h.bO(e,s),e.eC.set(i,l),l)},pb(e,t,n){var r,a,i,o,s=t.at,l=n.a,u=l.length,c=n.b,f=c.length,d=n.c,p=d.length,m="("+h.fQ(l);return f>0&&(m+=(u>0?",":"")+"["+h.fQ(c)+"]"),p>0&&(m+=(u>0?",":"")+"{"+h.vd(d)+"}"),r=s+(m+")"),null!=(a=e.eC.get(r))?a:((i=new h.aQ(null,null)).x=11,i.y=t,i.z=n,i.at=r,o=h.bO(e,i),e.eC.set(r,o),o)},nw(e,t,n,r){var a,i=t.at+"<"+h.fQ(n)+">",o=e.eC.get(i);return null!=o?o:(a=h.vf(e,t,n,i,r),e.eC.set(i,a),a)},vf(e,t,n,r,a){var i,o,s,l,u,c,f,d;if(a){for(i=n.length,o=h.mn(i),s=0,l=0;l<i;++l)1===(u=n[l]).x&&(o[l]=u,++s);if(s>0)return c=h.bR(e,t,o,0),f=h.ev(e,n,o,0),h.nw(e,c,f,n!==f)}return(d=new h.aQ(null,null)).x=12,d.y=t,d.z=n,d.at=r,h.bO(e,d)},p8:(e,t,n,r)=>({u:e,e:t,r:n,s:[],p:0,n:r}),pa(e){var t,n,r,a,i,o,s,l,u,c,f,d,p=e.r,m=e.s;for(t=p.length,n=0;n<t;)if((r=p.charCodeAt(n))>=48&&r<=57)n=h.v7(n+1,r,p,m);else if((((32|r)>>>0)-97&65535)<26||95===r||36===r)n=h.p9(e,n,p,m,!1);else if(46===r)n=h.p9(e,n,p,m,!0);else switch(++n,r){case 44:break;case 58:m.push(!1);break;case 33:m.push(!0);break;case 59:m.push(h.bN(e.u,e.e,m.pop()));break;case 94:m.push(h.vi(e.u,m.pop()));break;case 35:m.push(h.eg(e.u,5,"#"));break;case 64:m.push(h.eg(e.u,2,"@"));break;case 126:m.push(h.eg(e.u,3,"~"));break;case 60:case 40:case 91:case 123:m.push(e.p),e.p=m.length;break;case 62:a=e.u,i=m.splice(e.p),h.nu(e.u,e.e,i),e.p=m.pop(),"string"==typeof(o=m.pop())?m.push(h.ef(a,o,i)):11===(s=h.bN(a,e.e,o)).x?m.push(h.nw(a,s,i,e.n)):m.push(h.nv(a,s,i));break;case 38:h.v8(e,m);break;case 42:l=e.u,m.push(h.pd(l,h.bN(l,e.e,m.pop()),e.n));break;case 63:l=e.u,m.push(h.nx(l,h.bN(l,e.e,m.pop()),e.n));break;case 47:l=e.u,m.push(h.pc(l,h.bN(l,e.e,m.pop()),e.n));break;case 41:if(a=e.u,u=new h.fG,c=a.sEA,f=a.sEA,"number"==typeof(o=m.pop()))switch(o){case-1:c=m.pop();break;case-2:f=m.pop();break;default:m.push(o)}else m.push(o);i=m.splice(e.p),h.nu(e.u,e.e,i),e.p=m.pop(),u.a=i,u.b=c,u.c=f,m.push(h.pb(a,h.bN(a,e.e,m.pop()),u));break;case 93:i=m.splice(e.p),h.nu(e.u,e.e,i),e.p=m.pop(),m.push(i),m.push(-1);break;case 125:i=m.splice(e.p),h.va(e.u,e.e,i),e.p=m.pop(),m.push(i),m.push(-2);break;default:throw"Bad character "+r}return d=m.pop(),h.bN(e.u,e.e,d)},v7(e,t,n,r){var a,i,o=t-48;for(a=n.length;e<a&&(i=n.charCodeAt(e))>=48&&i<=57;++e)o=10*o+(i-48);return r.push(o),e},p9(e,t,n,r,a){var i,o,s,l,u,c=t+1;for(i=n.length;c<i;++c)if(46===(o=n.charCodeAt(c))){if(a)break;a=!0}else if(!((((32|o)>>>0)-97&65535)<26||95===o||36===o||o>=48&&o<=57))break;return s=n.substring(t,c),a?(i=e.u,10===(l=e.e).x&&(l=l.y),null==(u=h.vn(i,l.y)[s])&&h.a0('No "'+s+'" in "'+h.uN(l)+'"'),r.push(h.ml(i,l,u))):r.push(s),c},v8(e,t){var n=t.pop();if(0!==n){if(1!==n)throw h.d(h.h7("Unexpected extended operation "+h.b(n)));t.push(h.eg(e.u,4,"1&"))}else t.push(h.eg(e.u,1,"0&"))},bN:(e,t,n)=>"string"==typeof n?h.ef(e,n,e.sEA):"number"==typeof n?h.v9(e,t,n):n,nu(e,t,n){var r,a=n.length;for(r=0;r<a;++r)n[r]=h.bN(e,t,n[r])},va(e,t,n){var r,a=n.length;for(r=2;r<a;r+=3)n[r]=h.bN(e,t,n[r])},v9(e,t,n){var r,a,i=t.x;if(10===i){if(0===n)return t.y;if(n<=(a=(r=t.z).length))return r[n-1];n-=a,i=(t=t.y).x}else if(0===n)return t;if(9!==i)throw h.d(h.h7("Indexed base must be an interface type"));if(n<=(r=t.z).length)return r[n-1];throw h.d(h.h7("Bad index "+n+" for "+t.k(0)))},ad(e,t,n,r,a){var i,o,s,l,u,c,f,d,p,m;if(t===r)return!0;if(i=!!h.bo(r)||r===_._||r===_.K)return!0;if(4===(o=t.x))return!0;if(h.bo(t))return!1;if(i=1===t.x||t===_.P||t===_.T)return!0;if((s=13===o)&&h.ad(e,n[t.y],n,r,a))return!0;if(l=r.x,6===o)return h.ad(e,t.y,n,r,a);if(6===l)return i=r.y,h.ad(e,t,n,i,a);if(8===o)return!!h.ad(e,t.y,n,r,a)&&h.ad(e,h.oR(e,t),n,r,a);if(7===o)return h.ad(e,t.y,n,r,a);if(8===l)return!!h.ad(e,t,n,r.y,a)||h.ad(e,t,n,h.oR(e,r),a);if(7===l)return h.ad(e,t,n,r.y,a);if(s)return!1;if((!(i=11!==o)||12===o)&&r===_.b8)return!0;if(12===l){if(t===_.g)return!0;if(12!==o)return!1;if(u=t.z,c=r.z,(f=u.length)!==c.length)return!1;for(n=null==n?u:u.concat(n),a=null==a?c:c.concat(a),d=0;d<f;++d)if(p=u[d],m=c[d],!h.ad(e,p,n,m,a)||!h.ad(e,m,a,p,n))return!1;return h.ps(e,t.y,n,r.y,a)}return 11===l?t===_.g||!i&&h.ps(e,t,n,r,a):9===o&&9===l&&h.vZ(e,t,n,r,a)},ps(e,t,n,r,a){var i,o,s,l,u,c,f,d,p,m,g,b,_,v,y,x,A,w,T,E;if(!h.ad(e,t.y,n,r.y,a))return!1;if(i=t.z,o=r.z,s=i.a,l=o.a,(u=s.length)>(c=l.length))return!1;if(f=c-u,d=i.b,p=o.b,u+d.length<c+(m=p.length))return!1;for(g=0;g<u;++g)if(b=s[g],!h.ad(e,l[g],a,b,n))return!1;for(g=0;g<f;++g)if(b=d[g],!h.ad(e,l[u+g],a,b,n))return!1;for(g=0;g<m;++g)if(b=d[f+g],!h.ad(e,p[g],a,b,n))return!1;for(_=i.c,v=o.c,y=_.length,x=v.length,A=0,w=0;w<x;w+=3)for(T=v[w];;){if(A>=y)return!1;if(E=_[A],A+=3,T<E)return!1;if(!(E<T)){if(b=_[A-1],!h.ad(e,v[w+2],a,b,n))return!1;break}}return!0},vZ(e,t,n,r,a){for(var i,o,s,l,u,c,f,d=t.y,p=r.y;d!==p;){if(null==(i=e.tR[d]))return!1;if("string"!=typeof i){if(null==(o=i[p]))return!1;for(l=(s=o.length)>0?new Array(s):g.typeUniverse.sEA,u=0;u<s;++u)l[u]=h.ml(e,t,o[u]);return h.pm(e,l,null,n,r.z,a)}d=i}return c=t.z,f=r.z,h.pm(e,c,null,n,f,a)},pm(e,t,n,r,a,i){var o,s,l,u=t.length;for(o=0;o<u;++o)if(s=t[o],l=a[o],!h.ad(e,s,r,l,i))return!1;return!0},mU(e){var t=e.x;return e===_.P||e===_.T||!!h.bo(e)||7===t||!(6!==t||!h.mU(e.y))||8===t&&h.mU(e.y)},wU:e=>!!h.bo(e)||e===_._||e===_.K,bo(e){var t=e.x;return 2===t||3===t||4===t||5===t||e===_.cK},pl(e,t){var n,r,a=Object.keys(t),i=a.length;for(n=0;n<i;++n)e[r=a[n]]=t[r]},mn:e=>e>0?new Array(e):g.typeUniverse.sEA,aQ:function(e,t){var n=this;n.a=e,n.b=t,n.w=n.r=n.c=null,n.x=0,n.at=n.as=n.Q=n.z=n.y=null},fG:function(){this.c=this.b=this.a=null},ed:function(e){this.a=e},fF:function(){},ee:function(e){this.a=e},uZ(){var e,t,n={};return null!=a.scheduleImmediate?h.ws():null!=a.MutationObserver&&null!=a.document?(e=a.document.createElement("div"),t=a.document.createElement("span"),n.a=null,new a.MutationObserver(h.mH(new h.lO(n),1)).observe(e,{childList:!0}),new h.lN(n,e,t)):null!=a.setImmediate?h.wt():h.wu()},v_(e){a.scheduleImmediate(h.mH(new h.lP(e),0))},v0(e){a.setImmediate(h.mH(new h.lQ(e),0))},v1(e){h.vb(0,e)},vb(e,t){var n=new h.mj;return n.dc(e,t),n},eu:e=>new h.fz(new h.B(m.A,e.h("B<0>")),e.h("fz<0>")),eq:(e,t)=>(e.$2(0,null),t.b=!0,t.a),da(e,t){h.vI(e,t)},ep(e,t){t.a2(e)},eo(e,t){t.bH(h.K(e),h.aR(e))},vI(e,t){var n,r,a=new h.mp(t),i=new h.mq(t);e instanceof h.B?e.cs(a,i,_.z):(n=_.z,_.d.b(e)?e.ar(0,a,i,n):((r=new h.B(m.A,_.eI)).a=8,r.c=e,r.cs(a,i,n)))},ew(e){var t,n=(t=e,function(e,n){for(;;)try{t(e,n);break}catch(t){n=t,e=1}});return m.A.bX(new h.mG(n))},m7:e=>new h.d3(e,1),bL:()=>d.ea,bM:e=>new h.d3(e,3),bQ:(e,t)=>new h.ec(e,t.h("ec<0>")),h8(e,t){var n=h.bS(e,"error",_.K);return new h.eD(n,null==t?h.eE(e):t)},eE(e){var t;return _.Q.b(e)&&null!=(t=e.gaZ())?t:d.bj},nr(e,t){for(var n,r;0!=(4&(n=e.a));)e=e.c;0!=(24&n)?(r=t.b7(),t.bv(e),h.d2(t,r)):(r=t.c,t.a=1&t.a|4,t.c=e,e.cn(r))},d2(e,t){var n,r,a,i,o,s,l,u,c,f,d,p,g,b={},v=b.a=e;for(n=_.d;;){if(r={},o=!(i=0==(16&(a=v.a))),null==t)return void(o&&0==(1&a)&&(v=v.c,h.de(v.a,v.b)));for(r.a=t,s=t.a,v=t;null!=s;v=s,s=l)v.a=null,h.d2(b.a,v),r.a=s,l=s.a;if(u=(a=b.a).c,r.b=o,r.c=u,c=!i||0!=(1&(c=v.c))||8==(15&c)){if(f=v.b.b,a=!!o&&!((a=a.b===f)||a))return void h.de(u.a,u.b);if((d=m.A)!==f?m.A=f:d=null,8==(15&(v=v.c))?new h.m5(r,b,o).$0():i?0!=(1&v)&&new h.m4(r,u).$0():0!=(2&v)&&new h.m3(b,r).$0(),null!=d&&(m.A=d),v=r.c,a=!!n.b(v)&&((a=r.a.$ti).h("a5<2>").b(v)||!a.z[1].b(v))){if(p=r.a.b,v instanceof h.B){if(0!=(24&v.a)){g=p.c,p.c=null,t=p.b8(g),p.a=30&v.a|1&p.a,p.c=v.c,b.a=v;continue}h.nr(v,p)}else p.c9(v);return}}g=(p=r.a.b).c,p.c=null,t=p.b8(g),v=r.b,a=r.c,v?(p.a=1&p.a|16,p.c=a):(p.a=8,p.c=a),b.a=p,v=p}},wc(e,t){if(_.C.b(e))return t.bX(e);if(_.v.b(e))return e;throw h.d(h.h5(e,"onError",b.c))},w8(){var e,t;for(e=m.dd;null!=e;e=m.dd)m.et=null,t=e.b,m.dd=t,null==t&&(m.es=null),e.a.$0()},wf(){m.nB=!0;try{h.w8()}finally{m.et=null,m.nB=!1,null!=m.dd&&m.o9().$1(h.pC())}},pz(e){var t=new h.fA(e),n=m.es;null==n?(m.dd=m.es=t,m.nB||m.o9().$1(h.pC())):m.es=n.b=t},we(e){var t,n,r,a=m.dd;if(null==a)return h.pz(e),void(m.et=m.es);t=new h.fA(e),null==(n=m.et)?(t.b=a,m.dd=m.et=t):(r=n.b,t.b=r,m.et=n.b=t,null==r&&(m.es=t))},pT(e){var t=null,n=m.A;d.i!==n?h.df(t,t,n,n.cu(e)):h.df(t,t,d.i,e)},np(e,t){var n=null,r=t.h("b_<0>"),a=new h.b_(n,n,n,n,r);return a.aH(e),a.aI(),new h.ah(a,r.h("ah<1>"))},uS(e,t){var n=null,r=t.h("d8<0>"),a=new h.d8(n,n,n,n,r);return e.ar(0,new h.lf(a,t),new h.lg(a),_.P),new h.ah(a,r.h("ah<1>"))},A7:e=>(h.bS(e,"stream",_.K),new h.fN),oU:(e,t,n,r)=>new h.b_(null,t,n,e,r.h("b_<0>")),nD(e){var t,n,r;if(null!=e)try{e.$0()}catch(r){t=h.K(r),n=h.aR(r),h.de(t,n)}},v5(e,t){if(null==t&&(t=h.wv()),_.k.b(t))return e.bX(t);if(_.d5.b(t))return t;throw h.d(h.R("handleError callback must take either an Object (the error), or both an Object (the error) and a StackTrace.",null))},w9(e,t){h.de(e,t)},de(e,t){h.we(new h.mD(e,t))},pv(e,t,n,r){var a,i=m.A;if(i===n)return r.$0();m.A=n,a=i;try{return i=r.$0()}finally{m.A=a}},px(e,t,n,r,a){var i,o=m.A;if(o===n)return r.$1(a);m.A=n,i=o;try{return o=r.$1(a)}finally{m.A=i}},pw(e,t,n,r,a,i){var o,s=m.A;if(s===n)return r.$2(a,i);m.A=n,o=s;try{return s=r.$2(a,i)}finally{m.A=o}},df(e,t,n,r){d.i!==n&&(r=n.cu(r)),h.pz(r)},lO:function(e){this.a=e},lN:function(e,t,n){this.a=e,this.b=t,this.c=n},lP:function(e){this.a=e},lQ:function(e){this.a=e},mj:function(){},mk:function(e,t){this.a=e,this.b=t},fz:function(e,t){this.a=e,this.b=!1,this.$ti=t},mp:function(e){this.a=e},mq:function(e){this.a=e},mG:function(e){this.a=e},d3:function(e,t){this.a=e,this.b=t},aG:function(e,t){var n=this;n.a=e,n.d=n.c=n.b=null,n.$ti=t},ec:function(e,t){this.a=e,this.$ti=t},eD:function(e,t){this.a=e,this.b=t},fC:function(){},ay:function(e,t){this.a=e,this.$ti=t},bK:function(e,t,n,r,a){var i=this;i.a=null,i.b=e,i.c=t,i.d=n,i.e=r,i.$ti=a},B:function(e,t){var n=this;n.a=0,n.b=e,n.c=null,n.$ti=t},lW:function(e,t){this.a=e,this.b=t},m2:function(e,t){this.a=e,this.b=t},lZ:function(e){this.a=e},m_:function(e){this.a=e},m0:function(e,t,n){this.a=e,this.b=t,this.c=n},lY:function(e,t){this.a=e,this.b=t},m1:function(e,t){this.a=e,this.b=t},lX:function(e,t,n){this.a=e,this.b=t,this.c=n},m5:function(e,t,n){this.a=e,this.b=t,this.c=n},m6:function(e){this.a=e},m4:function(e,t){this.a=e,this.b=t},m3:function(e,t){this.a=e,this.b=t},fA:function(e){this.a=e,this.b=null},bg:function(){},lf:function(e,t){this.a=e,this.b=t},lg:function(e){this.a=e},lh:function(e,t){this.a=e,this.b=t},li:function(e,t){this.a=e,this.b=t},fo:function(){},d7:function(){},mi:function(e){this.a=e},mh:function(e){this.a=e},fP:function(){},fB:function(){},b_:function(e,t,n,r,a){var i=this;i.a=null,i.b=0,i.c=null,i.d=e,i.e=t,i.f=n,i.r=r,i.$ti=a},d8:function(e,t,n,r,a){var i=this;i.a=null,i.b=0,i.c=null,i.d=e,i.e=t,i.f=n,i.r=r,i.$ti=a},ah:function(e,t){this.a=e,this.$ti=t},dT:function(e,t,n,r,a,i){var o=this;o.w=e,o.a=t,o.b=n,o.c=r,o.d=a,o.e=i,o.r=o.f=null},dP:function(){},lT:function(e,t,n){this.a=e,this.b=t,this.c=n},lS:function(e){this.a=e},e9:function(){},fE:function(){},cD:function(e){this.b=e,this.a=null},dU:function(e,t){this.b=e,this.c=t,this.a=null},lU:function(){},fK:function(){},md:function(e,t){this.a=e,this.b=t},ea:function(){this.c=this.b=null,this.a=0},fN:function(){},mo:function(){},mD:function(e,t){this.a=e,this.b=t},mf:function(){},mg:function(e,t){this.a=e,this.b=t},p6(e,t){var n=e[t];return n===e?null:n},ns(e,t,n){e[t]=null==n?e:n},p7(){var e=Object.create(null);return h.ns(e,"<non-identifier-key>",e),delete e["<non-identifier-key>"],e},ur:(e,t,n,r)=>h.v6(h.wC(),e,t,n,r),nm:(e,t,n)=>h.pF(e,new h.aE(t.h("@<0>").I(n).h("aE<1,2>"))),a8:(e,t)=>new h.aE(e.h("@<0>").I(t).h("aE<1,2>")),v6(e,t,n,r,a){var i=null!=n?n:new h.ma(r);return new h.e1(e,t,i,r.h("@<0>").I(a).h("e1<1,2>"))},ox:e=>new h.b0(e.h("b0<0>")),aN:e=>new h.b0(e.h("b0<0>")),aO:(e,t)=>h.wI(e,new h.b0(t.h("b0<0>"))),nt(){var e=Object.create(null);return e["<non-identifier-key>"]=e,delete e["<non-identifier-key>"],e},vN:(e,t)=>f.aj(e,t),u4(e,t,n){var r,a;if(h.nC(e))return"("===t&&")"===n?"(...)":t+"..."+n;r=h.a([],_.s),m.cE.push(e);try{h.w5(e,r)}finally{m.cE.pop()}return(a=h.nq(t,r,", ")+n).charCodeAt(0),a},iH(e,t,n){var r,a;if(h.nC(e))return t+"..."+n;r=new h.ab(t),m.cE.push(e);try{(a=r).a=h.nq(a.a,e,", ")}finally{m.cE.pop()}return r.a+=n,(a=r.a).charCodeAt(0),a},nC(e){var t,n;for(t=m.cE.length,n=0;n<t;++n)if(e===m.cE[n])return!0;return!1},w5(e,t){for(var n,r,a,i,o,s,l,u=e.gD(e),c=0,f=0;c<80||f<3;){if(!u.p())return;n=h.b(u.gt()),t.push(n),c+=n.length+2,++f}if(u.p())if(i=u.gt(),++f,u.p()){for(o=u.gt(),++f;u.p();i=o,o=s)if(s=u.gt(),++f>100){for(;c>75&&f>3;)c-=t.pop().length+2,--f;return void t.push("...")}a=h.b(i),c+=(r=h.b(o)).length+a.length+4}else{if(f<=4)return void t.push(h.b(i));r=h.b(i),a=t.pop(),c+=r.length+2}else{if(f<=5)return;r=t.pop(),a=t.pop()}for(f>t.length+2?(c+=5,l="..."):l=null;c>80&&t.length>3;)c-=t.pop().length+2,null==l&&(c+=5,l="...");null!=l&&t.push(l),t.push(a),t.push(r)},us(e,t){var n,r,a=h.ox(t);for(n=e.length,r=0;r<e.length;e.length===n||(0,h.cI)(e),++r)a.C(0,t.a(e[r]));return a},nn(e){var t,n={};if(h.nC(e))return"{...}";t=new h.ab("");try{m.cE.push(e),t.a+="{",n.a=!0,e.L(0,new h.jK(n,t)),t.a+="}"}finally{m.cE.pop()}return(n=t.a).charCodeAt(0),n},vo(){throw h.d(h.ac("Cannot change an unmodifiable set"))},dY:function(){},e0:function(e){var t=this;t.a=0,t.e=t.d=t.c=t.b=null,t.$ti=e},dZ:function(e,t){this.a=e,this.$ti=t},e_:function(e,t,n){var r=this;r.a=e,r.b=t,r.c=0,r.d=null,r.$ti=n},e1:function(e,t,n,r){var a=this;a.w=e,a.x=t,a.y=n,a.a=0,a.f=a.e=a.d=a.c=a.b=null,a.r=0,a.$ti=r},ma:function(e){this.a=e},b0:function(e){var t=this;t.a=0,t.f=t.e=t.d=t.c=t.b=null,t.r=0,t.$ti=e},mb:function(e){this.a=e,this.c=this.b=null},e2:function(e,t,n){var r=this;r.a=e,r.b=t,r.d=r.c=null,r.$ti=n},aY:function(e,t){this.a=e,this.$ti=t},du:function(){},dy:function(){},n:function(){},dz:function(){},jK:function(e,t){this.a=e,this.b=t},I:function(){},jL:function(e){this.a=e},fS:function(){},dA:function(){},bk:function(e,t){this.a=e,this.$ti=t},cY:function(){},d5:function(){},fT:function(){},ei:function(e,t){this.a=e,this.$ti=t},e3:function(){},eh:function(){},em:function(){},en:function(){},pu(e,t){var n,r,a,i=null;try{i=JSON.parse(e)}catch(r){throw n=h.K(r),a=h.P(String(n),null,null),h.d(a)}return h.ms(i)},ms(e){var t;if(null==e)return null;if("object"!=typeof e)return e;if(Object.getPrototypeOf(e)!==Array.prototype)return new h.fI(e,Object.create(null));for(t=0;t<e.length;++t)e[t]=h.ms(e[t]);return e},uX(e,t,n,r){var a,i;return t instanceof Uint8Array?(r=(a=t).length)-n<15||null!=(i=h.uY(e,a,n,r))&&e&&i.indexOf("ï¿½")>=0?null:i:null},uY(e,t,n,r){var a=e?m.t8():m.t7();return null==a?null:0===n&&r===t.length?h.p0(a,t):h.p0(a,t.subarray(n,h.aP(n,r,t.length)))},p0(e,t){try{return e.decode(t)}catch(e){}return null},oj(e,t,n,r,a,i){if(0!==d.c.bo(i,4))throw h.d(h.P("Invalid base64 padding, padded length must be multiple of four, is "+i,e,n));if(r+a!==i)throw h.d(h.P("Invalid base64 padding, '=' not at the end",e,t));if(a>2)throw h.d(h.P("Invalid base64 padding, more than two '=' characters",e,t))},v4(e,t,n,r,a,i){var o,s,l,u,c,f,p="Invalid encoding before padding",g="Invalid character",b=d.c.ag(i,2),_=3&i,v=m.oa();for(o=t,s=0;o<n;++o){if(s|=l=d.a.B(e,o),!((u=v[127&l])>=0)){if(-1===u&&_>1){if(s>127)break;if(3===_){if(0!=(3&b))throw h.d(h.P(p,e,o));r[a]=b>>>10,r[a+1]=b>>>2}else{if(0!=(15&b))throw h.d(h.P(p,e,o));r[a]=b>>>4}return f=3*(3-_),37===l&&(f+=2),h.p4(e,o+1,n,-f-1)}throw h.d(h.P(g,e,o))}b=16777215&(b<<6|u),0==(_=_+1&3)&&(c=a+1,r[a]=b>>>16&255,a=c+1,r[c]=b>>>8&255,c=a+1,r[a]=255&b,a=c,b=0)}if(s>=0&&s<=127)return(b<<2|_)>>>0;for(o=t;o<n&&!((l=d.a.B(e,o))>127);++o);throw h.d(h.P(g,e,o))},v2(e,t,n,r){var a=h.v3(e,t,n),i=a-t+(3&r),o=3*d.c.ag(i,2),s=3&i;return 0!==s&&a<n&&(o+=s-1),o>0?new Uint8Array(o):m.t9()},v3(e,t,n){for(var r,a=n,i=a,o=0;i>t&&o<2;)if(--i,61!==(r=d.a.B(e,i))){if(100==(32|r)){if(i===t)break;--i,r=d.a.B(e,i)}if(51===r){if(i===t)break;--i,r=d.a.B(e,i)}if(37!==r)break;++o,a=i}else++o,a=i;return a},p4(e,t,n,r){var a,i;if(t===n)return r;for(a=-r-1;a>0;){if(i=d.a.B(e,t),3===a){if(61===i){a-=3,++t;break}if(37!==i)break;if(--a,++t===n)break;i=d.a.B(e,t)}if(2===(a>3?a-3:a)){if(51!==i)break;if(--a,++t===n)break;i=d.a.B(e,t)}if(100!=(32|i))break;if(--a,++t===n)break}if(t!==n)throw h.d(h.P("Invalid padding character",e,t));return-a-1},pk(e){switch(e){case 65:return"Missing extension byte";case 67:return"Unexpected extension byte";case 69:return"Invalid UTF-8 byte";case 71:return"Overlong encoding";case 73:return"Out of unicode range";case 75:return"Encoded surrogate";case 77:return"Unfinished UTF-8 octet sequence";default:return""}},vF(e,t,n){var r,a,i,o=n-t,s=new Uint8Array(o);for(r=f.T(e),a=0;a<o;++a)i=r.j(e,t+a),s[a]=(4294967040&i)>>>0!=0?255:i;return s},fI:function(e,t){this.a=e,this.b=t,this.c=null},fJ:function(e){this.a=e},m9:function(e,t,n){this.b=e,this.c=t,this.a=n},lv:function(){},lu:function(){},h9:function(){},hb:function(){},ha:function(){},lR:function(){this.a=0},hc:function(){},eF:function(){},fL:function(e,t,n){this.a=e,this.b=t,this.$ti=n},eJ:function(){},eL:function(){},hV:function(){},iP:function(){},iQ:function(e){this.a=e},lj:function(){},lk:function(){},eb:function(){},mm:function(e,t,n){this.a=e,this.b=t,this.c=n},ls:function(){},lt:function(e){this.a=e},fU:function(e){this.a=e,this.b=16,this.c=0},cH(e,t){var n=h.oP(e,t);if(null!=n)return n;throw h.d(h.P(e,null,null))},tT:e=>e instanceof h.c6?e.k(0):"Instance of '"+h.b(h.k5(e))+"'",tU(e,t){throw(e=h.d(e)).stack=f.aq(t),e},S(e,t,n,r){var a,i=f.b8(e,r);if(0!==e&&null!=t)for(a=0;a<e;++a)i[a]=t;return i},ut(e,t){var n,r=h.a([],t.h("D<0>"));for(n=e.gD(e);n.p();)r.push(n.gt());return r},ct:(e,t,n)=>t?h.oy(e,n):f.nj(h.oy(e,n)),oy(e,t){var n,r;if(Array.isArray(e))return h.a(e.slice(0),t.h("D<0>"));for(n=h.a([],t.h("D<0>")),r=f.aC(e);r.p();)n.push(r.gt());return n},oz(e,t,n,r){var a,i=f.b8(e,r);for(a=0;a<e;++a)i[a]=t.$1(a);return i},oV:(e,t,n)=>_.bm.b(e)?h.uL(e,t,h.aP(t,n,e.length)):h.uT(e,t,n),uT(e,t,n){var r,a,i,o,s=null;if(t<0)throw h.d(h.X(t,0,e.length,s,s));if(!(r=null==n)&&n<t)throw h.d(h.X(n,t,e.length,s,s));for(a=new h.a9(e,e.length,h.ai(e).h("a9<n.E>")),i=0;i<t;++i)if(!a.p())throw h.d(h.X(t,0,i,s,s));if(o=[],r)for(;a.p();)o.push(a.d);else for(i=t;i<n;++i){if(!a.p())throw h.d(h.X(n,t,i,s,s));o.push(a.d)}return h.uJ(o)},oQ:e=>new h.iJ(e,h.u7(e,!1,!0,!1,!1,!1)),nq(e,t,n){var r=f.aC(t);if(!r.p())return e;if(0===n.length)do{e+=h.b(r.gt())}while(r.p());else for(e+=h.b(r.gt());r.p();)e=e+n+h.b(r.gt());return e},oG:(e,t,n,r)=>new h.fb(e,t,n,r),op(e){var t=Math.abs(e),n=e<0?"-":"";return t>=1e3?""+e:t>=100?n+"0"+t:t>=10?n+"00"+t:n+"000"+t},tS(e){var t=Math.abs(e),n=e<0?"-":"+";return t>=1e5?n+t:n+"0"+t},oq:e=>e>=100?""+e:e>=10?"0"+e:"00"+e,b6:e=>e>=10?""+e:"0"+e,cO:e=>"number"==typeof e||h.er(e)||null==e?f.aq(e):"string"==typeof e?JSON.stringify(e):h.tT(e),tV(e,t){h.bS(e,"error",_.K),h.bS(t,"stackTrace",_.gm),h.tU(e,t),h.aW(b.g)},h7:e=>new h.eC(e),R:(e,t)=>new h.ar(!1,null,t,e),h5:(e,t,n)=>new h.ar(!0,e,t,n),h6:(e,t)=>e,X:(e,t,n,r,a)=>new h.dI(t,n,!0,e,r,"Invalid value"),aP(e,t,n){if(0>e||e>n)throw h.d(h.X(e,0,n,"start",null));if(null!=t){if(e>t||t>n)throw h.d(h.X(t,e,n,"end",null));return t}return n},aV(e,t){if(e<0)throw h.d(h.X(e,0,null,t,null));return e},eS(e,t,n,r,a){var i=null==a?f.a3(t):a;return new h.eR(i,!0,e,n,"Index out of range")},ac:e=>new h.fv(e),oX:e=>new h.fq(e),cZ:e=>new h.bG(e),af:e=>new h.eK(e),tW:e=>new h.dW(e),P:(e,t,n)=>new h.aI(e,t,n),ot:(e,t,n)=>e<=0?new h.b7(n.h("b7<0>")):new h.dX(e,t,n.h("dX<0>")),oA:(e,t,n,r,a)=>new h.c5(e,t.h("@<0>").I(n).I(r).I(a).h("c5<1,2,3,4>")),k1(e){var t,n,r=m.ta();for(t=e.length,n=0;n<t;++n)r=(r=r+f.bW(e[n])&536870911)+((524287&r)<<10)&536870911,r^=r>>>6;return r=r+((67108863&r)<<3)&536870911,(r^=r>>>11)+((16383&r)<<15)&536870911},oZ(e){var t,n,r,a,i,o,s,l,u,c,f,p,m,g,v,y,x,A,w,T,E,P,S=null,C=e.length;if(C>=5){if(0===(t=h.pA(e,0)))return(n=h.lo(C<C?d.a.u(e,0,C):e,5,S)).gbl(n);if(32===t)return(n=h.lo(d.a.u(e,5,C),0,S)).gbl(n)}return(r=h.S(8,0,!1,_.S))[0]=0,r[1]=-1,r[2]=-1,r[7]=-1,r[3]=0,r[4]=0,r[5]=C,r[6]=C,h.py(e,0,C,0,r)>=14&&(r[7]=C),(a=r[1])>=0&&20===h.py(e,0,a,20,r)&&(r[7]=a),i=r[2]+1,o=r[3],s=r[4],l=r[5],(u=r[6])<l&&(l=u),s<i?s=l:s<=a&&(s=a+1),o<i&&(o=s),(c=r[7]<0)?i>a+3||(n=o>0)&&o+1===s||l<C&&l===s+2&&d.a.X(e,"..",s)||l>s+2&&d.a.X(e,"/..",l-3)?(f=S,c=!1):(4===a?d.a.X(e,"file",0)?(i<=0?(d.a.X(e,"/",s)?(p="file://",m=2):(p="file:///",m=3),a-=0,l+=n=m-0,u+=n,C=(e=p+d.a.u(e,s,C)).length,i=7,o=7,s=7):s===l&&(++u,g=l+1,e=d.a.aF(e,s,l,"/"),++C,l=g),f="file"):d.a.X(e,"http",0)?(n&&o+3===s&&d.a.X(e,"80",o+1)&&(u-=3,v=s-3,l-=3,e=d.a.aF(e,o,s,""),C-=3,s=v),f="http"):f=S:5===a&&d.a.X(e,"https",0)?(n&&o+4===s&&d.a.X(e,"443",o+1)&&(u-=4,v=s-4,l-=4,e=d.a.aF(e,o,s,""),C-=3,s=v),f="https"):f=S,c=!0):f=S,c?(C<e.length&&(e=d.a.u(e,0,C),a-=0,i-=0,o-=0,s-=0,l-=0,u-=0),new h.fM(e,a,i,o,s,l,u,f)):(null==f&&(a>0?f=h.vy(e,0,a):(0===a&&(h.d9(e,0,"Invalid empty scheme"),h.aW(b.g)),f="")),i>0?(x=(y=a+3)<i?h.vz(e,y,i-1):"",A=h.vu(e,i,o,!1),(n=o+1)<s?(w=h.oP(d.a.u(e,n,s),S),T=h.vw(null==w?h.a0(h.P("Invalid port",e,n)):w,f)):T=S):(A=T=S,x=""),E=h.vv(e,s,l,S,f,null!=A),P=l<u?h.vx(e,l+1,u,S):S,h.vp(f,x,A,T,E,P,u<C?h.vt(e,u+1,C):S))},uW(e,t,n){var r,a,i,o,s,l,u="IPv4 address should contain exactly 4 parts",c="each part must be in the range 0..255",f=new h.lp(e),p=new Uint8Array(4);for(a=r=t,i=0;r<n;++r)46!==(o=d.a.B(e,r))?(48^o)>9&&f.$2("invalid character",r):(3===i&&f.$2(u,r),(s=h.cH(d.a.u(e,a,r),null))>255&&f.$2(c,a),l=i+1,p[i]=s,a=r+1,i=l);return 3!==i&&f.$2(u,n),(s=h.cH(d.a.u(e,a,n),null))>255&&f.$2(c,a),p[i]=s,p},p_(e,t,n){var r,a,i,o,s,l,u,c,f,p,m,g,b,v,y=null,x=new h.lq(e),A=new h.lr(x,e);for(e.length<2&&x.$2("address is too short",y),r=h.a([],_.Z),i=a=t,o=!1,s=!1;a<n;++a)58===(l=d.a.B(e,a))?(a===t&&(++a,58!==d.a.B(e,a)&&x.$2("invalid start colon.",a),i=a),a===i?(o&&x.$2("only one wildcard `::` is allowed",a),r.push(-1),o=!0):r.push(A.$2(i,a)),i=a+1):46===l&&(s=!0);for(0===r.length&&x.$2("too few parts",y),u=i===n,c=d.d.gaS(r),u&&-1!==c&&x.$2("expected a part after last `:`",n),u||(s?(f=h.uW(e,i,n),r.push((f[0]<<8|f[1])>>>0),r.push((f[2]<<8|f[3])>>>0)):r.push(A.$2(i,n))),o?r.length>7&&x.$2("an address with a wildcard must have less than 7 parts",y):8!==r.length&&x.$2("an address without a wildcard must contain exactly 8 parts",y),p=new Uint8Array(16),m=9-(c=r.length),a=0,g=0;a<c;++a)if(-1===(b=r[a]))for(v=0;v<m;++v)p[g]=0,p[g+1]=0,g+=2;else p[g]=d.c.ag(b,8),p[g+1]=255&b,g+=2;return p},vp:(e,t,n,r,a,i,o)=>new h.ej(e,t,n,r,a,i,o),pe:e=>"http"===e?80:"https"===e?443:0,d9(e,t,n){throw h.d(h.P(n,e,t))},vw:(e,t)=>e===h.pe(t)?null:e,vu(e,t,n,r){var a,i,o,s,l,u;if(t===n)return"";if(91===d.a.B(e,t))return a=n-1,93!==d.a.B(e,a)&&(h.d9(e,t,"Missing end `]` to match `[` in host"),h.aW(b.g)),i=t+1,(o=h.vr(e,i,a))<a?(s=o+1,l=h.pj(e,d.a.X(e,"25",s)?o+3:s,a,"%25")):l="",h.p_(e,i,o),d.a.u(e,t,o).toLowerCase()+l+"]";for(u=t;u<n;++u)if(58===d.a.B(e,u))return(o=(o=d.a.bd(e,"%",t))>=t&&o<n?o:n)<n?(s=o+1,l=h.pj(e,d.a.X(e,"25",s)?o+3:s,n,"%25")):l="",h.p_(e,t,o),"["+d.a.u(e,t,o)+l+"]";return h.vB(e,t,n)},vr(e,t,n){var r=d.a.bd(e,"%",t);return r>=t&&r<n?r:n},pj(e,t,n,r){var a,i,o,s,l,u,c,f,p,m,g=""!==r?new h.ab(r):null;for(i=a=t,o=!0;a<n;)if(37===(s=d.a.B(e,a))){if((u=null==(l=h.nz(e,a,!0)))&&o){a+=3;continue}null==g&&(g=new h.ab("")),c=g.a+=d.a.u(e,i,a),u?l=d.a.u(e,a,a+3):"%"===l&&(h.d9(e,a,"ZoneID should not contain % anymore"),h.aW(b.g)),g.a=c+l,i=a+=3,o=!0}else s<127&&0!=(d.au[s>>>4]&1<<(15&s))?(o&&65<=s&&90>=s&&(null==g&&(g=new h.ab("")),i<a&&(g.a+=d.a.u(e,i,a),i=a),o=!1),++a):(55296==(64512&s)&&a+1<n&&56320==(64512&(f=d.a.B(e,a+1)))?(s=(1023&s)<<10|1023&f|65536,p=2):p=1,m=d.a.u(e,i,a),(u=null==g?g=new h.ab(""):g).a+=m,u.a+=h.ny(s),i=a+=p);return null==g?d.a.u(e,t,n):(i<n&&(g.a+=d.a.u(e,i,n)),(u=g.a).charCodeAt(0),u)},vB(e,t,n){var r,a,i,o,s,l,u,c,f,p,m;for(a=r=t,i=null,o=!0;r<n;)if(37===(s=d.a.B(e,r))){if((u=null==(l=h.nz(e,r,!0)))&&o){r+=3;continue}null==i&&(i=new h.ab("")),c=d.a.u(e,a,r),f=i.a+=o?c:c.toLowerCase(),u?(l=d.a.u(e,r,r+3),p=3):"%"===l?(l="%25",p=1):p=3,i.a=f+l,a=r+=p,o=!0}else s<127&&0!=(d.d_[s>>>4]&1<<(15&s))?(o&&65<=s&&90>=s&&(null==i&&(i=new h.ab("")),a<r&&(i.a+=d.a.u(e,a,r),a=r),o=!1),++r):s<=93&&0!=(d.am[s>>>4]&1<<(15&s))?(h.d9(e,r,"Invalid character"),h.aW(b.g)):(55296==(64512&s)&&r+1<n&&56320==(64512&(m=d.a.B(e,r+1)))?(s=(1023&s)<<10|1023&m|65536,p=2):p=1,c=d.a.u(e,a,r),o||(c=c.toLowerCase()),(u=null==i?i=new h.ab(""):i).a+=c,u.a+=h.ny(s),a=r+=p);return null==i?d.a.u(e,t,n):(a<n&&(c=d.a.u(e,a,n),i.a+=o?c:c.toLowerCase()),(u=i.a).charCodeAt(0),u)},vy(e,t,n){var r,a,i,o=b.g;if(t===n)return"";for(h.pg(d.a.J(e,t))||(h.d9(e,t,"Scheme not starting with alphabetic character"),h.aW(o)),r=t,a=!1;r<n;++r)(i=d.a.J(e,r))<128&&0!=(d.ar[i>>>4]&1<<(15&i))||(h.d9(e,r,"Illegal scheme character"),h.aW(o)),65<=i&&i<=90&&(a=!0);return e=d.a.u(e,t,n),h.vq(a?e.toLowerCase():e)},vq:e=>"http"===e?"http":"file"===e?"file":"https"===e?"https":"package"===e?"package":e,vz:(e,t,n)=>h.ek(e,t,n,d.cF,!1),vv(e,t,n,r,a,i){var o="file"===a,s=o||i,l=h.ek(e,t,n,d.aw,!0);if(0===l.length){if(o)return"/"}else s&&!d.a.W(l,"/")&&(l="/"+l);return h.vA(l,a,i)},vA(e,t,n){var r=0===t.length;return!r||n||d.a.W(e,"/")?h.vD(e):h.vC(e,!r||n)},vx:(e,t,n,r)=>h.ek(e,t,n,d.D,!0),vt:(e,t,n)=>h.ek(e,t,n,d.D,!0),nz(e,t,n){var r,a,i,o,s,l=t+2;return l>=e.length?"%":(r=d.a.B(e,t+1),a=d.a.B(e,l),i=h.mP(r),o=h.mP(a),i<0||o<0?"%":(s=16*i+o)<127&&0!=(d.au[d.c.ag(s,4)]&1<<(15&s))?h.bd(n&&65<=s&&90>=s?(32|s)>>>0:s):r>=97||a>=97?d.a.u(e,t,t+3).toUpperCase():null)},ny(e){var t,n,r,a,i,o="0123456789ABCDEF";if(e<128)(t=new Uint8Array(3))[0]=37,t[1]=d.a.J(o,e>>>4),t[2]=d.a.J(o,15&e);else for(e>2047?e>65535?(n=240,r=4):(n=224,r=3):(n=192,r=2),t=new Uint8Array(3*r),a=0;--r>=0;n=128)i=63&d.c.dP(e,6*r)|n,t[a]=37,t[a+1]=d.a.J(o,i>>>4),t[a+2]=d.a.J(o,15&i),a+=3;return h.oV(t,0,null)},ek(e,t,n,r,a){var i=h.pi(e,t,n,r,a);return null==i?d.a.u(e,t,n):i},pi(e,t,n,r,a){var i,o,s,l,u,c,f,p,m,g,_=null;for(i=!a,s=o=t,l=_;o<n;)if((u=d.a.B(e,o))<127&&0!=(r[u>>>4]&1<<(15&u)))++o;else{if(37===u){if(null==(c=h.nz(e,o,!1))){o+=3;continue}"%"===c?(c="%25",f=1):f=3}else i&&u<=93&&0!=(d.am[u>>>4]&1<<(15&u))?(h.d9(e,o,"Invalid character"),h.aW(b.g),c=f=_):(55296==(64512&u)&&(p=o+1)<n&&56320==(64512&(m=d.a.B(e,p)))?(u=(1023&u)<<10|1023&m|65536,f=2):f=1,c=h.ny(u));g=(p=null==l?l=new h.ab(""):l).a+=d.a.u(e,s,o),p.a=g+h.b(c),s=o+=f}return null==l?_:(s<n&&(l.a+=d.a.u(e,s,n)),(i=l.a).charCodeAt(0),i)},ph:e=>!!d.a.W(e,".")||-1!==d.a.bN(e,"/."),vD(e){var t,n,r,a,i,o;if(!h.ph(e))return e;for(t=h.a([],_.s),r=(n=e.split("/")).length,a=!1,i=0;i<r;++i)o=n[i],f.aj(o,"..")?(0!==t.length&&(t.pop(),0===t.length&&t.push("")),a=!0):"."===o?a=!0:(t.push(o),a=!1);return a&&t.push(""),d.d.cM(t,"/")},vC(e,t){var n,r,a,i,o,s;if(!h.ph(e))return t?e:h.pf(e);for(n=h.a([],_.s),a=(r=e.split("/")).length,i=!1,o=0;o<a;++o)".."===(s=r[o])?0!==n.length&&".."!==d.d.gaS(n)?(n.pop(),i=!0):(n.push(".."),i=!1):"."===s?i=!0:(n.push(s),i=!1);return(r=0===(r=n.length)||1===r&&0===n[0].length)?"./":((i||".."===d.d.gaS(n))&&n.push(""),t||(n[0]=h.pf(n[0])),d.d.cM(n,"/"))},pf(e){var t,n,r=e.length;if(r>=2&&h.pg(d.a.J(e,0)))for(t=1;t<r;++t){if(58===(n=d.a.J(e,t)))return d.a.u(e,0,t)+"%3A"+d.a.br(e,t+1);if(n>127||0==(d.ar[n>>>4]&1<<(15&n)))break}return e},vs(e,t){var n,r,a;for(n=0,r=0;r<2;++r)if(48<=(a=d.a.B(e,t+r))&&a<=57)n=16*n+a-48;else{if(!(97<=(a|=32)&&a<=102))throw h.d(h.R("Invalid URL encoding",null));n=16*n+a-87}return n},vE(e,t,n,r,a){for(var i,o,s,l,u=t;;){if(!(u<n)){i=!0;break}if(s=!((o=d.a.B(e,u))<=127)||37===o){i=!1;break}++u}if(i){if(s=d.ab===r)return d.a.u(e,t,n);l=new h.cL(d.a.u(e,t,n))}else for(l=h.a([],_.Z),s=e.length,u=t;u<n;++u){if((o=d.a.B(e,u))>127)throw h.d(h.R("Illegal percent encoding in URI",null));if(37===o){if(u+3>s)throw h.d(h.R("Truncated URI",null));l.push(h.vs(e,u+1)),u+=2}else l.push(o)}return d.e8.dW(l)},pg(e){var t=32|e;return 97<=t&&t<=122},oY(e){var t;if(e.length>=5){if(0===(t=h.pA(e,0)))return h.lo(e,5,null);if(32===t)return h.lo(d.a.br(e,5),0,null)}throw h.d(h.P("Does not start with 'data:'",e,0))},lo(e,t,n){var r,a,i,o,s,l,u,c,f="Invalid MIME type",p=h.a([t-1],_.Z);for(r=e.length,a=t,i=-1,o=null;a<r&&44!==(o=d.a.J(e,a))&&59!==o;++a)if(47===o){if(i<0){i=a;continue}throw h.d(h.P(f,e,a))}if(i<0&&a>t)throw h.d(h.P(f,e,a));for(;44!==o;){for(p.push(a),++a,s=-1;a<r;++a)if(61===(o=d.a.J(e,a)))s<0&&(s=a);else if(59===o||44===o)break;if(!(s>=0)){if(l=d.d.gaS(p),44!==o||a!==l+7||!d.a.X(e,"base64",l+1))throw h.d(h.P("Expecting '='",e,a));break}p.push(s)}return p.push(a),u=a+1,1==(1&p.length)?e=d.b6.ea(e,u,r):null!=(c=h.pi(e,u,r,d.D,!0))&&(e=d.a.aF(e,u,r,c)),new h.ln(e,p,n)},vM(){var e,t,n,r,a,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-._~!$&'()*+,;=",o=".",s=":",l="/",u="?",c="#",f=h.a(new Array(22),_.gN);for(e=0;e<22;++e)f[e]=new Uint8Array(96);return t=new h.mt(f),n=new h.mu,r=new h.mv,a=t.$2(0,225),n.$3(a,i,1),n.$3(a,o,14),n.$3(a,s,34),n.$3(a,l,3),n.$3(a,u,172),n.$3(a,c,205),a=t.$2(14,225),n.$3(a,i,1),n.$3(a,o,15),n.$3(a,s,34),n.$3(a,l,234),n.$3(a,u,172),n.$3(a,c,205),a=t.$2(15,225),n.$3(a,i,1),n.$3(a,"%",225),n.$3(a,s,34),n.$3(a,l,9),n.$3(a,u,172),n.$3(a,c,205),a=t.$2(1,225),n.$3(a,i,1),n.$3(a,s,34),n.$3(a,l,10),n.$3(a,u,172),n.$3(a,c,205),a=t.$2(2,235),n.$3(a,i,139),n.$3(a,l,131),n.$3(a,o,146),n.$3(a,u,172),n.$3(a,c,205),a=t.$2(3,235),n.$3(a,i,11),n.$3(a,l,68),n.$3(a,o,18),n.$3(a,u,172),n.$3(a,c,205),a=t.$2(4,229),n.$3(a,i,5),r.$3(a,"AZ",229),n.$3(a,s,102),n.$3(a,"@",68),n.$3(a,"[",232),n.$3(a,l,138),n.$3(a,u,172),n.$3(a,c,205),a=t.$2(5,229),n.$3(a,i,5),r.$3(a,"AZ",229),n.$3(a,s,102),n.$3(a,"@",68),n.$3(a,l,138),n.$3(a,u,172),n.$3(a,c,205),a=t.$2(6,231),r.$3(a,"19",7),n.$3(a,"@",68),n.$3(a,l,138),n.$3(a,u,172),n.$3(a,c,205),a=t.$2(7,231),r.$3(a,"09",7),n.$3(a,"@",68),n.$3(a,l,138),n.$3(a,u,172),n.$3(a,c,205),n.$3(t.$2(8,8),"]",5),a=t.$2(9,235),n.$3(a,i,11),n.$3(a,o,16),n.$3(a,l,234),n.$3(a,u,172),n.$3(a,c,205),a=t.$2(16,235),n.$3(a,i,11),n.$3(a,o,17),n.$3(a,l,234),n.$3(a,u,172),n.$3(a,c,205),a=t.$2(17,235),n.$3(a,i,11),n.$3(a,l,9),n.$3(a,u,172),n.$3(a,c,205),a=t.$2(10,235),n.$3(a,i,11),n.$3(a,o,18),n.$3(a,l,234),n.$3(a,u,172),n.$3(a,c,205),a=t.$2(18,235),n.$3(a,i,11),n.$3(a,o,19),n.$3(a,l,234),n.$3(a,u,172),n.$3(a,c,205),a=t.$2(19,235),n.$3(a,i,11),n.$3(a,l,234),n.$3(a,u,172),n.$3(a,c,205),a=t.$2(11,235),n.$3(a,i,11),n.$3(a,l,10),n.$3(a,u,172),n.$3(a,c,205),a=t.$2(12,236),n.$3(a,i,12),n.$3(a,u,12),n.$3(a,c,205),a=t.$2(13,237),n.$3(a,i,13),n.$3(a,u,13),r.$3(t.$2(20,245),"az",21),a=t.$2(21,245),r.$3(a,"az",21),r.$3(a,"09",21),n.$3(a,"+-.",21),f},py(e,t,n,r,a){var i,o,s,l=m.te();for(i=t;i<n;++i)r=31&(s=l[r][(o=96^d.a.J(e,i))>95?31:o]),a[s>>>5]=i;return r},pA:(e,t)=>(3*(58^d.a.J(e,t+4))|100^d.a.J(e,t)|97^d.a.J(e,t+1)|116^d.a.J(e,t+2)|97^d.a.J(e,t+3))>>>0,jY:function(e,t){this.a=e,this.b=t},dm:function(e,t){this.a=e,this.b=t},lV:function(){},G:function(){},eC:function(e){this.a=e},aX:function(){},fd:function(){},ar:function(e,t,n,r){var a=this;a.a=e,a.b=t,a.c=n,a.d=r},dI:function(e,t,n,r,a,i){var o=this;o.e=e,o.f=t,o.a=n,o.b=r,o.c=a,o.d=i},eR:function(e,t,n,r,a){var i=this;i.f=e,i.a=t,i.b=n,i.c=r,i.d=a},fb:function(e,t,n,r){var a=this;a.a=e,a.b=t,a.c=n,a.d=r},fv:function(e){this.a=e},fq:function(e){this.a=e},bG:function(e){this.a=e},eK:function(e){this.a=e},ff:function(){},dK:function(){},eM:function(e){this.a=e},dW:function(e){this.a=e},aI:function(e,t,n){this.a=e,this.b=t,this.c=n},j:function(){},dX:function(e,t,n){this.a=e,this.b=t,this.$ti=n},M:function(){},cU:function(e,t,n){this.a=e,this.b=t,this.$ti=n},k:function(){},c:function(){},fO:function(){},ab:function(e){this.a=e},lp:function(e){this.a=e},lq:function(e){this.a=e},lr:function(e,t){this.a=e,this.b=t},ej:function(e,t,n,r,a,i,o){var s=this;s.a=e,s.b=t,s.c=n,s.d=r,s.e=a,s.f=i,s.r=o,s.y=s.w=m},ln:function(e,t,n){this.a=e,this.b=t,this.c=n},mt:function(e){this.a=e},mu:function(){},mv:function(){},fM:function(e,t,n,r,a,i,o,s){var l=this;l.a=e,l.b=t,l.c=n,l.d=r,l.e=a,l.f=i,l.r=o,l.w=s,l.x=null},fD:function(e,t,n,r,a,i,o){var s=this;s.a=e,s.b=t,s.c=n,s.d=r,s.e=a,s.f=i,s.r=o,s.y=s.w=m},nI(e){if(!_.I.b(e)&&!_.j.b(e))throw h.d(h.R("object must be a Map or Iterable",null));return h.vL(e)},vL(e){var t=new h.mr(new h.e0(_.aH)).$1(e);return t.toString,t},mr:function(e){this.a=e},tz(e,t){var n,r,a,i,o,s,l,u,c,p,g,b,v,y="byteOffset",x=null,A="normalized";switch(h.w(e,d.cO,t),-1===(n=h.W(e,"bufferView",t,!1))?((r=e.v(y))&&t.l(m.cJ(),h.a(["bufferView"],_.M),y),a=0):a=h.a_(e,y,t,0,x,-1,0,!1),i=h.a_(e,"componentType",t,-1,d.cl,-1,0,!0),o=h.a_(e,"count",t,-1,x,-1,1,!0),s=h.J(e,"type",t,x,d.m.gM(),x,!0),l=h.pG(e,A,t),null!=s&&-1!==i&&null!=(u=d.m.j(0,s))?5126===i?(r=_.V,c=h.ae(e,"min",t,x,h.a([u],r),1/0,-1/0,!0),p=h.ae(e,"max",t,x,h.a([u],r),1/0,-1/0,!0)):(c=h.pH(e,"min",t,i,u),p=h.pH(e,"max",t,i,u)):p=c=x,g=h.U(e,"sparse",t,h.wn(),!1),(r=!!l&&(5126===i||5125===i))&&t.n(m.rj(),A),"MAT2"!==s&&"MAT3"!==s&&"MAT4"!==s||-1===a||0==(3&a)||t.n(m.ri(),y),i){case 5120:case 5121:case 5122:case 5123:case 5125:(r=_.w).a(p),r.a(c),h.J(e,"name",t,x,x,x,!1),r=h.t(e,d.S,t,x),b=h.x(e,t),v=new h.fy(n,a,i,o,s,l,p,c,g,h.b1(i),r,b,!1),null!=c&&(r=t.R(),b=_.e,t.Z(v,new h.f2(h.S(c.length,0,!1,b),h.S(c.length,0,!1,b),f.h2(c,!1),r))),null!=p&&(r=t.R(),b=_.e,t.Z(v,new h.f0(h.S(p.length,0,!1,b),h.S(p.length,0,!1,b),f.h2(p,!1),r)));break;default:(r=_.fy).a(p),r.a(c),h.J(e,"name",t,x,x,x,!1),r=h.t(e,d.S,t,x),b=h.x(e,t),v=new h.fx(n,a,i,o,s,l,p,c,g,h.b1(i),r,b,!1),t.Z(v,new h.eU(t.R())),null!=c&&(r=t.R(),t.Z(v,new h.f1(h.S(c.length,0,!1,_.e),h.S(c.length,0,!1,_.F),f.h2(c,!1),r))),null!=p&&(r=t.R(),t.Z(v,new h.f_(h.S(p.length,0,!1,_.e),h.S(p.length,0,!1,_.F),f.h2(p,!1),r)))}return v},bs(e,t,n,r,a,i){var o,s,l="byteOffset";if(-1===e)return!1;if(e%t!=0){if(null==i)return!1;i.l(m.rk(),h.a([e,t],_.M),l)}if(-1===(o=r.x))return!1;if((s=o+e)%t!=0){if(null==i)return!1;i.G(m.qE(),h.a([s,t],_.M))}if(e>(o=r.y)){if(null==i)return!1;i.l(m.nU(),h.a([e,n,a,o],_.M),l)}else if(e+n>o){if(null==i)return!1;i.G(m.nU(),h.a([e,n,a,o],_.M))}return!0},nh(e,t,n,r){if(t.byteLength<n+h.b1(e)*r)return null;switch(e){case 5121:return h.no(t,n,r);case 5123:return h.oE(t,n,r);case 5125:return h.oF(t,n,r);default:return null}},oh:(e,t,n,r)=>t.byteLength<n+h.b1(e)*r?null:5126===e?(h.db(t,n,r),new Float32Array(t,n,r)):null,oi(e,t,n,r){var a=t.byteLength;if(a<n+h.b1(e)*r)return null;switch(e){case 5120:return h.db(t,n,r),new Int8Array(t,n,r);case 5121:return h.no(t,n,r);case 5122:return h.db(t,n,r),new Int16Array(t,n,r);case 5123:return h.oE(t,n,r);case 5125:return h.oF(t,n,r);default:return null}},ty(e,t){var n,r,a;return h.w(e,d.cx,t),n=h.a_(e,"count",t,-1,null,-1,1,!0),r=h.U(e,"indices",t,h.wl(),!0),a=h.U(e,"values",t,h.wm(),!0),-1===n||null==r||null==a?null:new h.bX(n,r,a,h.t(e,d.dD,t,null),h.x(e,t),!1)},tw:(e,t)=>(h.w(e,d.cq,t),new h.bY(h.W(e,"bufferView",t,!0),h.a_(e,"byteOffset",t,0,null,-1,0,!1),h.a_(e,"componentType",t,-1,d.c7,-1,0,!0),h.t(e,d.dB,t,null),h.x(e,t),!1)),tx:(e,t)=>(h.w(e,d.ct,t),new h.bZ(h.W(e,"bufferView",t,!0),h.a_(e,"byteOffset",t,0,null,-1,0,!1),h.t(e,d.dC,t,null),h.x(e,t),!1)),a4:function(){},fy:function(e,t,n,r,a,i,o,s,l,u,c,h,f){var d=this;d.w=e,d.x=t,d.y=n,d.z=r,d.Q=a,d.as=i,d.at=o,d.ax=s,d.ay=l,d.ch=u,d.CW=null,d.cx=0,d.fr=d.dy=null,d.a=c,d.b=h,d.a$=f},lJ:function(e,t,n,r,a){var i=this;i.a=e,i.b=t,i.c=n,i.d=r,i.e=a},lK:function(e){this.a=e},lL:function(){},lM:function(e,t,n,r,a){var i=this;i.a=e,i.b=t,i.c=n,i.d=r,i.e=a},lH:function(e){this.a=e},lI:function(e){this.a=e},fx:function(e,t,n,r,a,i,o,s,l,u,c,h,f){var d=this;d.w=e,d.x=t,d.y=n,d.z=r,d.Q=a,d.as=i,d.at=o,d.ax=s,d.ay=l,d.ch=u,d.CW=null,d.cx=0,d.fr=d.dy=null,d.a=c,d.b=h,d.a$=f},lD:function(e,t,n,r,a){var i=this;i.a=e,i.b=t,i.c=n,i.d=r,i.e=a},lE:function(e){this.a=e},lF:function(){},lG:function(e,t,n,r,a){var i=this;i.a=e,i.b=t,i.c=n,i.d=r,i.e=a},bX:function(e,t,n,r,a,i){var o=this;o.d=e,o.e=t,o.f=n,o.a=r,o.b=a,o.a$=i},bY:function(e,t,n,r,a,i){var o=this;o.d=e,o.e=t,o.f=n,o.r=null,o.a=r,o.b=a,o.a$=i},bZ:function(e,t,n,r,a){var i=this;i.d=e,i.e=t,i.f=null,i.a=n,i.b=r,i.a$=a},eU:function(e){this.a=e},f1:function(e,t,n,r){var a=this;a.a=e,a.b=t,a.c=n,a.d=r},f_:function(e,t,n,r){var a=this;a.a=e,a.b=t,a.c=n,a.d=r},f2:function(e,t,n,r){var a=this;a.a=e,a.b=t,a.c=n,a.d=r},f0:function(e,t,n,r){var a=this;a.a=e,a.b=t,a.c=n,a.d=r},tB(e,t){var n,r,a,i,o,s,l,u,c,f,p,g,b,v,y,x=null,A="channels",w="extras",T="samplers";if(h.w(e,d.cv,t),null!=(n=h.ey(e,A,t))){for(r=n.gi(n),a=h.S(r,x,!1,_.aA),i=new h.E(a,r,A,_.eq),(r=t.c).push(A),o=_.h,s=0;s<n.gi(n);++s)l=n.j(0,s),r.push(d.c.k(s)),h.w(l,d.d7,t),u=h.W(l,"sampler",t,!0),c=h.U(l,"target",t,h.wp(),!0),f=h.t(l,d.dF,t,x),(g=null!=(p=l.j(0,w))&&!o.b(p))&&t.n(m.di(),w),a[s]=new h.b2(u,c,f,p,!1),r.pop();r.pop()}else i=x;if(null!=(b=h.ey(e,T,t))){for(r=b.gi(b),a=h.S(r,x,!1,_.gW),v=new h.E(a,r,T,_.az),(r=t.c).push(T),o=_.h,s=0;s<b.gi(b);++s)y=b.j(0,s),r.push(d.c.k(s)),h.w(y,d.cL,t),u=h.W(y,"input",t,!0),c=h.J(y,"interpolation",t,"LINEAR",d.ci,x,!1),f=h.W(y,"output",t,!0),g=h.t(y,d.dG,t,x),null!=(p=y.j(0,w))&&!o.b(p)&&t.n(m.di(),w),a[s]=new h.b3(u,c,f,g,p,!1),r.pop();r.pop()}else v=x;return h.J(e,"name",t,x,x,x,!1),new h.bt(i,v,h.t(e,d.aB,t,x),h.x(e,t),!1)},tA:(e,t)=>(h.w(e,d.cT,t),new h.c0(h.W(e,"node",t,!1),h.J(e,"path",t,null,d.R,null,!0),h.t(e,d.dE,t,null),h.x(e,t),!1)),bt:function(e,t,n,r,a){var i=this;i.w=e,i.x=t,i.a=n,i.b=r,i.a$=a},h3:function(e,t){this.a=e,this.b=t},h4:function(e,t,n){this.a=e,this.b=t,this.c=n},b2:function(e,t,n,r,a){var i=this;i.d=e,i.e=t,i.f=null,i.a=n,i.b=r,i.a$=a},c0:function(e,t,n,r,a){var i=this;i.d=e,i.e=t,i.f=null,i.a=n,i.b=r,i.a$=a},b3:function(e,t,n,r,a,i){var o=this;o.d=e,o.e=t,o.f=n,o.w=o.r=null,o.a=r,o.b=a,o.a$=i},eB:function(e){this.a=0,this.b=e},dH:function(e,t,n,r){var a=this;a.a=e,a.b=t,a.c=n,a.e=a.d=0,a.$ti=r},tC(e,t){var n,r,a,i,o=null,s="minVersion";return h.w(e,d.cs,t),h.J(e,"copyright",t,o,o,o,!1),n=h.J(e,"generator",t,o,o,o,!1),r=m.bp(),a=h.J(e,"version",t,o,o,r,!0),r=h.J(e,s,t,o,o,r,!1),i=new h.bu(n,a,r,h.t(e,d.dH,t,o),h.x(e,t),!1),(n=null!=r&&null!=a)&&(n=!(i.gcO()<=i.gbg())||i.gcO()===i.gbg()&&i.ge9()>i.gbR())&&t.l(m.rG(),h.a([r,a],_.M),s),i},bu:function(e,t,n,r,a,i){var o=this;o.e=e,o.f=t,o.r=n,o.a=r,o.b=a,o.a$=i},tG(e,t){var n,r,a,i,o,s,l,u,c=null,f="uri";if(h.w(e,d.d9,t),i=h.a_(e,"byteLength",t,-1,c,-1,1,!0),n=null,o=e.v(f)){if(null!=(r=h.J(e,f,t,c,c,c,!1))){t.dx&&t.n(m.nT(),f),a=null;try{a=h.oY(r)}catch(s){if(!(h.K(s)instanceof h.aI))throw s;n=h.pL(r,t)}if(null!=a)switch(t.dx&&t.n(m.nS(),f),a.gbQ().toLowerCase()){case"application/gltf-buffer":case"application/octet-stream":l=a.cz();break;default:t.l(m.rn(),h.a([a.gbQ()],_.M),f),l=c}else l=c}else l=c;o=!0}else l=c;return u=n,h.J(e,"name",t,c,c,c,!1),new h.aS(u,i,o,l,h.t(e,d.dI,t,c),h.x(e,t),!1)},aS:function(e,t,n,r,a,i,o){var s=this;s.w=e,s.x=t,s.y=n,s.z=r,s.a=a,s.b=i,s.a$=o},tF(e,t){var n,r,a,i,o,s=null,l="byteStride";return h.w(e,d.ch,t),n=h.a_(e,"byteLength",t,-1,s,-1,1,!0),r=h.a_(e,l,t,-1,s,252,4,!1),a=h.a_(e,"target",t,-1,d.c4,-1,0,!1),-1!==r&&(-1!==n&&r>n&&t.l(m.ro(),h.a([r,n],_.M),l),r%4!=0&&t.l(m.rg(),h.a([r,4],_.M),l),34963===a&&t.n(m.nc(),l)),i=h.W(e,"buffer",t,!0),o=h.a_(e,"byteOffset",t,0,s,-1,0,!1),h.J(e,"name",t,s,s,s,!1),new h.bv(i,o,n,r,a,h.t(e,d.aC,t,s),h.x(e,t),!1)},bv:function(e,t,n,r,a,i,o,s){var l=this;l.w=e,l.x=t,l.y=n,l.z=r,l.Q=a,l.at=l.as=null,l.ax=-1,l.a=i,l.b=o,l.a$=s},tJ(e,t){var n=null,r="orthographic",a="perspective";switch(h.w(e,d.d8,t),e.v(r)&&e.v(a)&&t.G(m.o4(),d.av),h.J(e,"type",t,n,d.av,n,!0)){case"orthographic":h.U(e,r,t,h.wy(),!0);break;case"perspective":h.U(e,a,t,h.wz(),!0)}return h.J(e,"name",t,n,n,n,!1),new h.bw(h.t(e,d.dL,t,n),h.x(e,t),!1)},tH(e,t){var n,r,a="xmag",i="ymag";return h.w(e,d.de,t),n=h.H(e,a,t,NaN,1/0,-1/0,1/0,-1/0,!0,NaN),r=h.H(e,i,t,NaN,1/0,-1/0,1/0,-1/0,!0,NaN),h.H(e,"zfar",t,NaN,1/0,0,1/0,-1/0,!0,NaN)<=h.H(e,"znear",t,NaN,1/0,-1/0,1/0,0,!0,NaN)&&t.O(m.o7()),0===n?t.n(m.o6(),a):n<0&&t.n(m.o5(),a),0===r?t.n(m.o6(),i):r<0&&t.n(m.o5(),i),new h.c2(h.t(e,d.dJ,t,null),h.x(e,t),!1)},tI:(e,t)=>(h.w(e,d.cr,t),h.H(e,"yfov",t,NaN,1/0,0,1/0,-1/0,!0,NaN)>=3.141592653589793&&t.O(m.rp()),h.H(e,"zfar",t,NaN,1/0,0,1/0,-1/0,!1,NaN)<=h.H(e,"znear",t,NaN,1/0,0,1/0,-1/0,!0,NaN)&&t.O(m.o7()),h.H(e,"aspectRatio",t,NaN,1/0,0,1/0,-1/0,!1,NaN),new h.c3(h.t(e,d.dK,t,null),h.x(e,t),!1)),bw:function(e,t,n){this.a=e,this.b=t,this.a$=n},c2:function(e,t,n){this.a=e,this.b=t,this.a$=n},c3:function(e,t,n){this.a=e,this.b=t,this.a$=n},or(e,t){var n,r,a,i,o,s,l,u,c,f,p,g,b,v,y,x,A,w,T,E,P,S,C,N,I,M,F,L,R,k,$,D,O,U,j,z="extensionsRequired",B="extensionsUsed",H=null,X=new h.iv(t);if(X.$0(),h.w(e,d.df,t),e.v(z)&&!e.v(B)&&t.l(m.cJ(),h.a(["extensionsUsed"],_.M),z),null==(n=h.pJ(e,B,t))&&(n=h.a([],_.i)),null==(r=h.pJ(e,z,t))&&(r=h.a([],_.i)),t.e5(n,r),a=new h.iw(e,X,t),null==(null==(i=new h.ix(X,e,t).$1$3$req("asset",h.wr(),!0,_.gP))?H:i.f))return H;if(2!==i.gbg())return o=m.rU(),s=i.gbg(),t.l(o,h.a([s],_.M),"version"),H;for(i.gbR()>0&&(o=m.rV(),s=i.gbR(),t.l(o,h.a([s],_.M),"version")),l=a.$1$2("accessors",h.wo(),_.W),u=a.$1$2("animations",h.wq(),_.bj),c=a.$1$2("buffers",h.ww(),_.cT),f=a.$1$2("bufferViews",h.wx(),_.r),p=a.$1$2("cameras",h.wA(),_.h2),g=a.$1$2("images",h.wP(),_.ec),b=a.$1$2("materials",h.xd(),_.fC),v=a.$1$2("meshes",h.xg(),_.eM),o=_.L,y=a.$1$2("nodes",h.xh(),o),x=a.$1$2("samplers",h.xi(),_.c2),A=a.$1$2("scenes",h.xj(),_.bn),X.$0(),w=h.W(e,"scene",t,!1),T=A.j(0,w),(s=-1!==w&&null==T)&&t.l(m.N(),h.a([w],_.M),"scene"),E=a.$1$2("skins",h.xk(),_.aV),P=a.$1$2("textures",h.xm(),_.ai),X.$0(),S=h.t(e,d.T,t,H),X.$0(),C=new h.ds(n,r,l,u,i,c,f,p,g,b,v,y,x,T,E,P,S,h.x(e,t),!1),(N=new h.it(t,C)).$2(f,d.aC),N.$2(l,d.S),N.$2(g,d.aD),N.$2(P,d.V),N.$2(b,d.h),N.$2(v,d.aF),N.$2(y,d.U),N.$2(E,d.aJ),N.$2(u,d.aB),N.$2(A,d.aI),0!==S.a&&((s=t.c).push("extensions"),S.L(0,new h.ir(t,C)),s.pop()),(s=t.c).push("nodes"),y.a3(new h.is(t,h.aN(o))),s.pop(),I=[l,c,f,p,g,b,v,y,x,E,P],M=0;M<11;++M)if(0!==(F=I[M]).gi(F)){for(s.push(F.c),o=F.b,R=(L=F.a).length,k=0;k<o;++k)!1===(null==($=($=k>=R)?H:L[k])?H:$.a$)&&t.Y(m.h_(),k);s.pop()}if(0!==(o=t.x).a){for(L=h.uq(o,o.r,h.C(o).c);L.p();)if(0!==(R=L.d).gi(R))for(D=o.j(0,R),d.d.si(s,0),d.d.F(s,D),$=R.b,O=(R=R.a).length,k=0;k<$;++k)!1===(null==(U=(U=k>=O)?H:R[k])?H:U.a$)&&t.Y(m.h_(),k);d.d.si(s,0)}for(s.push("meshes"),o=v.b,R=(L=v.a).length,k=0;k<o;++k)null!=(null==(j=($=k>=R)?H:L[k])?H:j.x)&&j.a$&&!j.y&&(s.push(d.c.k(k)),t.n(m.rd(),"weights"),s.pop());return d.d.si(s,0),C},ds:function(e,t,n,r,a,i,o,s,l,u,c,h,f,d,p,m,g,b,_){var v=this;v.d=e,v.e=t,v.f=n,v.r=r,v.w=a,v.x=i,v.y=o,v.z=s,v.Q=l,v.as=u,v.at=c,v.ax=h,v.ay=f,v.ch=d,v.cx=p,v.cy=m,v.a=g,v.b=b,v.a$=_},iv:function(e){this.a=e},iw:function(e,t,n){this.a=e,this.b=t,this.c=n},ix:function(e,t,n){this.a=e,this.b=t,this.c=n},it:function(e,t){this.a=e,this.b=t},iu:function(e,t){this.a=e,this.b=t},ir:function(e,t){this.a=e,this.b=t},is:function(e,t){this.a=e,this.b=t},ip:function(){},iq:function(){},iy:function(e,t){this.a=e,this.b=t},iz:function(e,t){this.a=e,this.b=t},m:function(){},l:function(){},eN:function(){},fH:function(){},u3(e,t){var n,r,a,i,o,s,l,u,c,f="bufferView",p=null,g="uri";if(h.w(e,d.cu,t),i=h.W(e,f,t,!1),o=h.J(e,"mimeType",t,p,t.dy,p,!1),n=h.J(e,g,t,p,p,p,!1),(l=!(s=-1===i))&&null==o&&t.l(m.cJ(),h.a(["mimeType"],_.M),f),(s=!(!l||null==n)||s&&null==n)&&t.G(m.o4(),h.a(["bufferView","uri"],_.M)),r=null,null!=n){t.dx&&t.n(m.nT(),g),a=null;try{a=h.oY(n)}catch(u){if(!(h.K(u)instanceof h.aI))throw u;r=h.pL(n,t)}null!=a?(t.dx&&t.n(m.nS(),g),c=a.cz(),(s=(s=null==(s=h.os(c))?p:d.cb[s.a])!==a.gbQ().toLowerCase())&&(t.l(m.o3(),h.a([n,"The declared mediatype does not match the embedded content."],_.M),g),c=p)):c=p}else c=p;return s=r,h.J(e,"name",t,p,p,p,!1),new h.aT(i,o,s,c,h.t(e,d.aD,t,p),h.x(e,t),!1)},aT:function(e,t,n,r,a,i,o){var s=this;s.w=e,s.x=t,s.y=n,s.z=r,s.as=s.Q=null,s.a=a,s.b=i,s.a$=o},uu(e,t){var n,r,a,i,o,s,l,u,c,f,p=null,g="alphaCutoff";return h.w(e,d.ck,t),n=h.U(e,"pbrMetallicRoughness",t,h.xf(),!1),r=h.U(e,"normalTexture",t,h.pO(),!1),a=h.U(e,"occlusionTexture",t,h.xe(),!1),i=h.U(e,"emissiveTexture",t,h.ap(),!1),o=h.ae(e,"emissiveFactor",t,d.aj,d.l,1,0,!1),s=h.J(e,"alphaMode",t,"OPAQUE",d.cj,p,!1),h.H(e,g,t,.5,1/0,-1/0,1/0,0,!1,NaN),"MASK"!==s&&e.v(g)&&t.n(m.rz(),g),u=h.pG(e,"doubleSided",t),c=h.t(e,d.h,t,p),h.J(e,"name",t,p,p,p,!1),f=new h.av(n,r,a,i,o,u,h.a8(_.X,_.e),c,h.x(e,t),!1),l=h.a([n,r,a,i],_.M),d.d.F(l,c.gV()),t.U(f,l),f},uF(e,t){var n,r,a,i,o;return h.w(e,d.cw,t),h.ae(e,"baseColorFactor",t,d.ak,d.P,1,0,!1),n=h.U(e,"baseColorTexture",t,h.ap(),!1),h.H(e,"metallicFactor",t,1,1/0,-1/0,1,0,!1,NaN),h.H(e,"roughnessFactor",t,1,1/0,-1/0,1,0,!1,NaN),r=h.U(e,"metallicRoughnessTexture",t,h.ap(),!1),a=h.t(e,d.e5,t,null),i=new h.cx(n,r,a,h.x(e,t),!1),o=h.a([n,r],_.M),d.d.F(o,a.gV()),t.U(i,o),i},uE(e,t){var n,r,a,i;return h.w(e,d.cJ,t),n=h.t(e,d.aH,t,d.h),r=h.W(e,"index",t,!0),a=h.a_(e,"texCoord",t,0,null,-1,0,!1),h.H(e,"strength",t,1,1/0,-1/0,1,0,!1,NaN),i=new h.cw(r,a,n,h.x(e,t),!1),t.U(i,n.gV()),i},uD(e,t){var n,r,a,i;return h.w(e,d.cI,t),n=h.t(e,d.aG,t,d.h),r=h.W(e,"index",t,!0),a=h.a_(e,"texCoord",t,0,null,-1,0,!1),h.H(e,"scale",t,1,1/0,-1/0,1/0,-1/0,!1,NaN),i=new h.cv(r,a,n,h.x(e,t),!1),t.U(i,n.gV()),i},uU(e,t){var n,r;return h.w(e,d.cH,t),n=h.t(e,d.aK,t,d.h),r=new h.bh(h.W(e,"index",t,!0),h.a_(e,"texCoord",t,0,null,-1,0,!1),n,h.x(e,t),!1),t.U(r,n.gV()),r},av:function(e,t,n,r,a,i,o,s,l,u){var c=this;c.w=e,c.x=t,c.y=n,c.z=r,c.Q=a,c.ax=i,c.ay=!1,c.ch=o,c.a=s,c.b=l,c.a$=u},jN:function(e,t){this.a=e,this.b=t},cx:function(e,t,n,r,a){var i=this;i.e=e,i.w=t,i.a=n,i.b=r,i.a$=a},cw:function(e,t,n,r,a){var i=this;i.d=e,i.e=t,i.f=null,i.a=n,i.b=r,i.a$=a},cv:function(e,t,n,r,a){var i=this;i.d=e,i.e=t,i.f=null,i.a=n,i.b=r,i.a$=a},bh:function(e,t,n,r,a){var i=this;i.d=e,i.e=t,i.f=null,i.a=n,i.b=r,i.a$=a},dj:e=>new h.y(e.Q,e.y,e.as),c1:function(e){this.a=e},c_:function(e){this.a=e},y:function(e,t,n){this.a=e,this.b=t,this.c=n},uy(e,t){var n,r,a,i,o,s,l,u,c,f,p=null,g="primitives";if(h.w(e,d.cZ,t),n=h.ae(e,"weights",t,p,p,1/0,-1/0,!1),null!=(r=h.ey(e,g,t))){for(a=r.gi(r),i=h.S(a,p,!1,_.ft),o=new h.E(i,a,g,_.b_),(a=t.c).push(g),s=0,l=0;l<r.gi(r);++l)a.push(d.c.k(l)),null==(f=null==(c=(u=h.ux(r.j(0,l),t)).w)?p:c.length)&&(f=0),0===l?s=f:s!==f&&(c=m.rF(),t.n(c,f>0?"targets":p)),i[l]=u,a.pop();a.pop(),(a=null!=n&&s!==n.length)&&t.l(m.rA(),h.a([n.length,s],_.M),"weights")}else o=p;return h.J(e,"name",t,p,p,p,!1),new h.aU(o,n,h.t(e,d.aF,t,p),h.x(e,t),!1)},uw(e,t,n,r,a,i,o,s,l,u,c,d,p,m){var g,b=f.ou(d,_.e);for(g=0;g<d;++g)b[g]=g;return new h.aF(e,t,n,r,a,s,u,c,d,h.a8(_.X,_.W),b,p,m,!1)},ux(e,t){var n,r,a,i,o,s,l,u="attributes",c={};return h.w(e,d.cN,t),c.a=c.b=c.c=!1,c.d=0,c.e=-1,c.f=0,c.r=-1,c.w=0,c.x=-1,c.y=0,c.z=-1,n=h.a_(e,"mode",t,4,null,6,0,!1),null!=(r=h.wJ(e,u,t,new h.jO(c,t)))&&((a=t.c).push(u),c.c||t.O(m.rD()),!c.b&&c.a&&t.n(m.rE(),"TANGENT"),i=new h.jP(t),c.d=i.$3(c.e,c.d,"COLOR"),c.f=i.$3(c.r,c.f,"JOINTS"),c.w=i.$3(c.x,c.w,"WEIGHTS"),c.y=i.$3(c.z,c.y,"TEXCOORD"),(i=c.f)!==(o=c.w)&&(t.G(m.rC(),h.a([i,o],_.M)),c.w=c.f=0),a.pop()),s=h.wK(e,"targets",t,new h.jQ(t)),l=h.uw(r,h.W(e,"indices",t,!1),h.W(e,"material",t,!1),n,s,c.c,c.b,c.a,c.d,c.f,c.w,c.y,h.t(e,d.aE,t,null),h.x(e,t)),t.U(l,l.a.gV()),l},aU:function(e,t,n,r,a){var i=this;i.w=e,i.x=t,i.y=!1,i.a=n,i.b=r,i.a$=a},jX:function(e,t){this.a=e,this.b=t},jW:function(e,t){this.a=e,this.b=t},aF:function(e,t,n,r,a,i,o,s,l,u,c,h,f,d){var p=this;p.d=e,p.e=t,p.f=n,p.r=r,p.w=a,p.z=i,p.as=o,p.at=s,p.ax=l,p.ay=u,p.CW=p.ch=-1,p.db=p.cy=p.cx=null,p.dx=c,p.a=h,p.b=f,p.a$=d},jO:function(e,t){this.a=e,this.b=t},jP:function(e){this.a=e},jQ:function(e){this.a=e},jS:function(e,t,n){this.a=e,this.b=t,this.c=n},jT:function(e,t){this.a=e,this.b=t},jU:function(){},jV:function(e,t,n,r){var a=this;a.a=e,a.b=t,a.c=n,a.d=r},jR:function(){},eQ:function(e,t,n,r,a,i){var o=this;o.a=e,o.b=t,o.c=n,o.w=r,o.Q=o.z=0,o.as=a,o.at=i},uC(e,t){var n,r,a,i,o,s,l,u,c,f,p,g,b,v,y,x,A,w,T,E,P,S,C,N,I,M,F,L,R,k=null,$="matrix",D="translation",O="rotation";return h.w(e,d.cc,t),e.v($)&&null!=(n=h.ae(e,$,t,k,d.c_,1/0,-1/0,!1))?(r=new Float32Array(16),a=new h.cV(r),i=n[0],o=n[1],s=n[2],l=n[3],u=n[4],c=n[5],f=n[6],p=n[7],g=n[8],b=n[9],v=n[10],y=n[11],x=n[12],A=n[13],w=n[14],r[15]=n[15],r[14]=w,r[13]=A,r[12]=x,r[11]=y,r[10]=v,r[9]=b,r[8]=g,r[7]=p,r[6]=f,r[5]=c,r[4]=u,r[3]=l,r[2]=s,r[1]=o,r[0]=i):a=k,E=e.v(D)&&null!=(T=h.ae(e,D,t,k,d.l,1/0,-1/0,!1))?h.p3(T):k,e.v(O)&&null!=(P=h.ae(e,O,t,k,d.P,1,-1,!1))?(r=P[0],i=P[1],o=P[2],s=P[3],l=new Float32Array(4),S=new h.fi(l),l[0]=r,l[1]=i,l[2]=o,l[3]=s,r=Math.sqrt(S.gaT()),Math.abs(1-r)>.00769&&t.n(m.rR(),O)):S=k,N=e.v("scale")&&null!=(C=h.ae(e,"scale",t,k,d.l,1/0,-1/0,!1))?h.p3(C):k,I=h.W(e,"camera",t,!1),M=h.mK(e,"children",t,!1),F=h.W(e,"mesh",t,!1),L=h.W(e,"skin",t,!1),R=h.ae(e,"weights",t,k,k,1/0,-1/0,!1),-1===F&&(-1!==L&&t.l(m.cJ(),h.a(["mesh"],_.M),"skin"),null!=R&&t.l(m.cJ(),h.a(["mesh"],_.M),"weights")),null!=a&&(null==E&&null==S&&null==N||t.n(m.rK(),$),a.cL()?t.n(m.rI(),$):h.wV(a)||t.n(m.rL(),$)),h.J(e,"name",t,k,k,k,!1),new h.an(I,M,L,a,F,E,S,N,R,h.aN(_.bn),h.t(e,d.U,t,k),h.x(e,t),!1)},an:function(e,t,n,r,a,i,o,s,l,u,c,h,f){var d=this;d.w=e,d.x=t,d.y=n,d.z=r,d.Q=a,d.as=i,d.at=o,d.ax=s,d.ay=l,d.ch=u,d.dx=d.db=d.cy=d.cx=d.CW=null,d.dy=!1,d.a=c,d.b=h,d.a$=f},jZ:function(){},k_:function(){},k0:function(e,t){this.a=e,this.b=t},uP(e,t){var n=null;return h.w(e,d.d0,t),h.a_(e,"magFilter",t,-1,d.c9,-1,0,!1),h.a_(e,"minFilter",t,-1,d.cd,-1,0,!1),h.a_(e,"wrapS",t,10497,d.an,-1,0,!1),h.a_(e,"wrapT",t,10497,d.an,-1,0,!1),h.J(e,"name",t,n,n,n,!1),new h.bC(h.t(e,d.e6,t,n),h.x(e,t),!1)},bC:function(e,t,n){this.a=e,this.b=t,this.a$=n},uQ(e,t){var n,r=null;return h.w(e,d.cU,t),n=h.mK(e,"nodes",t,!1),h.J(e,"name",t,r,r,r,!1),new h.bD(n,h.t(e,d.aI,t,r),h.x(e,t),!1)},bD:function(e,t,n,r){var a=this;a.w=e,a.x=null,a.a=t,a.b=n,a.a$=r},k9:function(e,t){this.a=e,this.b=t},uR(e,t){var n,r,a,i=null;return h.w(e,d.cm,t),n=h.W(e,"inverseBindMatrices",t,!1),r=h.W(e,"skeleton",t,!1),a=h.mK(e,"joints",t,!0),h.J(e,"name",t,i,i,i,!1),new h.bF(n,r,a,h.aN(_.L),h.t(e,d.aJ,t,i),h.x(e,t),!1)},bF:function(e,t,n,r,a,i,o){var s=this;s.w=e,s.x=t,s.y=n,s.as=s.Q=s.z=null,s.at=r,s.a=a,s.b=i,s.a$=o},le:function(e){this.a=e},eP:function(e){this.a=e},uV(e,t){var n,r,a=null;return h.w(e,d.d3,t),n=h.W(e,"sampler",t,!1),r=h.W(e,"source",t,!1),h.J(e,"name",t,a,a,a,!1),new h.bH(n,r,h.t(e,d.V,t,a),h.x(e,t),!1)},bH:function(e,t,n,r,a){var i=this;i.w=e,i.x=t,i.z=i.y=null,i.a=n,i.b=r,i.a$=a},p1(e,t,n){var r=h.aN(_.X),a=null==t?0:t;return null!=e&&r.F(0,e),new h.lw(a,r,n)},tR:()=>new h.aa(d.as,new h.hg,_.gw),tQ(e){var t,n,r,a,i=_.i,o=h.a([],i),s=_._,l=h.a([],_.d6),u=h.a8(_.al,_.f9),c=h.a([],i),f=h.a([],i),p=h.a([],_.fh),m=h.a([],_.a9);return i=h.a(["image/jpeg","image/png"],i),t=_.aD,n=_.X,r=_.cn,a=h.nm(["POSITION",h.aO([d.k],t),"NORMAL",h.aO([d.k],t),"TANGENT",h.aO([d.n],t),"TEXCOORD",h.aO([d.a3,d.a_,d.a2],t),"COLOR",h.aO([d.k,d.H,d.I,d.n,d.y,d.z],t),"JOINTS",h.aO([d.aZ,d.b_],t),"WEIGHTS",h.aO([d.n,d.y,d.z],t)],n,r),r=h.nm(["POSITION",h.aO([d.k],t),"NORMAL",h.aO([d.k],t),"TANGENT",h.aO([d.k],t),"TEXCOORD",h.aO([d.a3,d.Z,d.a_,d.a1,d.a2],t),"COLOR",h.aO([d.k,d.w,d.H,d.x,d.I,d.n,d.J,d.y,d.K,d.z],t)],n,r),t=null==e?h.p1(null,null,null):e,r=new h.i(t,o,h.a8(_.W,_.b7),h.a8(s,s),h.a8(_.f7,_.an),l,h.a8(_.r,_.gz),h.a8(_.b5,_.eG),u,c,f,p,h.aN(_.af),m,new h.ab(""),i,a,r),a=_.em,r.ay=new h.aY(f,a),r.at=new h.aY(c,a),r.Q=new h.bk(u,_.f8),r.CW=new h.aY(p,_.go),r},lw:function(e,t,n){this.a=e,this.b=t,this.c=n},i:function(e,t,n,r,a,i,o,s,l,u,c,h,f,d,p,m,g,b){var _=this;_.b=e,_.c=t,_.d=n,_.e=r,_.f=a,_.r=i,_.w=o,_.x=s,_.y=!1,_.z=l,_.Q=null,_.as=u,_.at=null,_.ax=c,_.ay=null,_.ch=h,_.CW=null,_.cx=f,_.cy=d,_.db=p,_.dx=!1,_.dy=m,_.fr=g,_.fx=b},hg:function(){},hf:function(){},hh:function(){},hk:function(e){this.a=e},hl:function(e){this.a=e},hi:function(e){this.a=e},hj:function(){},hm:function(e,t){this.a=e,this.b=t},bx:function(){},u2(e){var t,n,r={};return r.a=r.b=null,t=new h.B(m.A,_.dD),n=new h.ay(t,_.eP),r.c=!1,r.a=e.bO(new h.iB(r,n),new h.iC(r),new h.iD(r,n)),t},os(e){var t,n;return e.length<14?null:16767231==(16777215&(n=(t=h.f3(e.buffer,e.byteOffset,14)).getUint32(0,!0)))?d.af:1196314761===n&&169478669===t.getUint32(4,!0)?d.ag:1179011410===n&&1346520407===t.getUint32(8,!0)&&20566===t.getUint16(12,!0)?d.ah:1481919403===n&&3140497952===t.getUint32(4,!0)&&169478669===t.getUint32(8,!0)?d.bO:null},cQ:function(e,t){this.a=e,this.b=t},dR:function(e,t){this.a=e,this.b=t},d1:function(e,t){this.a=e,this.b=t},ca:function(e,t){this.a=e,this.b=t},cb:function(e,t,n,r,a,i,o,s,l){var u=this;u.a=e,u.b=t,u.c=n,u.d=r,u.e=a,u.f=i,u.r=o,u.w=s,u.x=l},iB:function(e,t){this.a=e,this.b=t},iD:function(e,t){this.a=e,this.b=t},iC:function(e){this.a=e},iA:function(){},iL:function(e,t){var n=this;n.f=n.e=n.d=n.c=0,n.r=null,n.a=e,n.b=t},iN:function(){},iM:function(){},k2:function(e,t,n,r,a,i){var o=this;o.x=o.w=o.r=o.f=o.e=o.d=o.c=0,o.z=o.y=!1,o.Q=e,o.as=t,o.at=!1,o.ax=n,o.ay=r,o.a=a,o.b=i},k3:function(e){this.a=e},lB:function(e,t,n){var r=this;r.c=e,r.d=0,r.a=t,r.b=n},dO:function(){},dN:function(){},aJ:function(e){this.a=e},d6:function(e,t){this.a=e,this.b=t},fk:function(e){var t=this;t.a=e,t.f=t.e=t.d=t.c=t.b=null},k6:function(e,t,n,r){var a=this;a.a=e,a.b=t,a.c=n,a.d=r},k7:function(e,t,n){this.a=e,this.b=t,this.c=n},k8:function(e,t){this.a=e,this.b=t},mB:e=>null==e||null==e.Q||-1===e.y||-1===e.z||null==e.CW&&null==e.ay?null:e,xr(e,t){var n,r,a,i,o,s,l,u,c,f,p,m,g,b,v,y,x,A,w;for(e.f.a3(new h.n7(t)),h.wa(t),n=h.a([],_.b2),r=h.a([],_.bd),a=t.c,d.d.si(a,0),a.push("meshes"),o=(i=e.at).b,l=(s=e.ax).$ti.h("a9<n.E>"),u=e.cx,c=(i=i.a).length,f=0;f<o;++f)if(p={},null!=(null==(g=(m=f>=c)?null:i[f])?null:g.w)&&!(m=g.w).ba(m,new h.n8)){for(p.a=p.b=-1,b=new h.a9(s,s.gi(s),l);b.p();)(y=(v=b.d).cy==g&&null!=(null==(y=v.dx)?null:y.Q))&&(x=(v=v.dx).Q.length,(-1===(y=p.b)||x<y)&&(p.b=x,p.a=u.bN(u,v)));p.b<1||(a.push(d.c.k(f)),a.push("primitives"),m.a3(new h.n9(p,t,n,r)),a.pop(),a.pop())}if(a.pop(),0!==n.length)for(;h.wg(n);)for(a=r.length,A=0;A<r.length;r.length===a||(0,h.cI)(r),++A)(w=r[A]).w||w.dU(t)},wg(e){var t,n;for(t=e.length,n=0;n<e.length;e.length===t||(0,h.cI)(e),++n)e[n].p();return e.fixed$length&&h.a0(h.ac("removeWhere")),d.d.dL(e,new h.mE,!0),0!==e.length},wa(e){var t,n,r,a,i,o,s,l,u,c,p,m;for(t=(t=e.d.ge0()).gD(t),n=e.c;t.p();)if(r=t.gt(),null!=(a=h.mB(r.a))){for(null==(i=d.m.j(0,a.Q))&&(i=0),o=r.b,d.d.si(n,0),r=a.ad(),r=new h.aG(r.a(),h.C(r).h("aG<1>")),s=f.T(o),l=0,u=0,c=!1;r.p();c=!0){for(p=r.gt(),m=0;m<s.gi(o);++m)if(!s.j(o,m).a_(e,l,u,p))continue;++u===i&&(u=0),++l}if(c)for(m=0;m<s.gi(o);++m)s.j(o,m).aD(e)}},n7:function(e){this.a=e},n8:function(){},n9:function(e,t,n,r){var a=this;a.a=e,a.b=t,a.c=n,a.d=r},mE:function(){},eT:function(e,t,n,r,a,i){var o=this;o.a=e,o.b=t,o.c=n,o.d=r,o.e=a,o.r=o.f=0,o.w=!1,o.y=o.x=0,o.z=i},F:(e,t,n)=>new h.hn(n,e,t),al:(e,t,n)=>new h.ka(n,e,t),r:(e,t,n)=>new h.kr(n,e,t),v:(e,t,n)=>new h.iX(n,e,t),ak:(e,t,n)=>new h.hY(n,e,t),wb:e=>"'"+h.b(e)+"'",w7:e=>"string"==typeof e?"'"+e+"'":f.aq(e),bE:function(e,t){this.a=e,this.b=t},iG:function(){},hn:function(e,t,n){this.a=e,this.b=t,this.c=n},hK:function(){},hL:function(){},hD:function(){},hC:function(){},hs:function(){},hr:function(){},hH:function(){},hy:function(){},hq:function(){},hE:function(){},hw:function(){},ht:function(){},hv:function(){},hu:function(){},ho:function(){},hp:function(){},hG:function(){},hF:function(){},hx:function(){},hN:function(){},hP:function(){},hS:function(){},hT:function(){},hQ:function(){},hR:function(){},hO:function(){},hU:function(){},hM:function(){},hA:function(){},hz:function(){},hI:function(){},hJ:function(){},hB:function(){},iE:function(e,t,n){this.a=e,this.b=t,this.c=n},iF:function(){},ka:function(e,t,n){this.a=e,this.b=t,this.c=n},kc:function(){},kd:function(){},kb:function(){},kf:function(){},kg:function(){},kh:function(){},ke:function(){},ki:function(){},kj:function(){},kk:function(){},kp:function(){},kq:function(){},ko:function(){},kl:function(){},km:function(){},kn:function(){},kr:function(e,t,n){this.a=e,this.b=t,this.c=n},la:function(){},lb:function(){},kW:function(){},kG:function(){},kt:function(){},ku:function(){},ks:function(){},kv:function(){},kw:function(){},kx:function(){},kz:function(){},ky:function(){},kA:function(){},kB:function(){},kC:function(){},kD:function(){},kO:function(){},kR:function(){},kV:function(){},kT:function(){},kQ:function(){},kU:function(){},kS:function(){},kP:function(){},l_:function(){},kY:function(){},l0:function(){},l7:function(){},ld:function(){},l6:function(){},lc:function(){},kF:function(){},kZ:function(){},l3:function(){},l2:function(){},l1:function(){},l8:function(){},l9:function(){},l5:function(){},kX:function(){},l4:function(){},kE:function(){},kH:function(){},kI:function(){},kN:function(){},kM:function(){},kK:function(){},kJ:function(){},kL:function(){},iX:function(e,t,n){this.a=e,this.b=t,this.c=n},j_:function(){},iY:function(){},iZ:function(){},j0:function(){},j3:function(){},j1:function(){},j2:function(){},j7:function(){},j5:function(){},j9:function(){},j6:function(){},j8:function(){},j4:function(){},ja:function(){},jd:function(){},jc:function(){},jb:function(){},je:function(){},jf:function(){},jj:function(){},jk:function(){},jq:function(){},ji:function(){},jh:function(){},jn:function(){},jm:function(){},jl:function(){},jr:function(){},js:function(){},jp:function(){},jo:function(){},jt:function(){},ju:function(){},jx:function(){},jv:function(){},jw:function(){},jy:function(){},jA:function(){},jz:function(){},jB:function(){},jC:function(){},jD:function(){},jE:function(){},jF:function(){},jI:function(){},jH:function(){},jG:function(){},jg:function(){},hY:function(e,t,n){this.a=e,this.b=t,this.c=n},i4:function(){},i5:function(){},i7:function(){},hZ:function(){},i6:function(){},i_:function(){},i2:function(){},i1:function(){},i0:function(){},ia:function(){},i9:function(){},ib:function(){},ic:function(){},i8:function(){},id:function(){},i3:function(){},cS:function(e,t,n,r,a){var i=this;i.a=e,i.b=t,i.c=n,i.d=r,i.e=a},vU(e){e.dy.push("image/webp")},tX:(e,t)=>(t.toString,h.w(e,d.d4,t),new h.c8(h.W(e,"source",t,!1),h.t(e,d.dN,t,null),h.x(e,t),!1)),c8:function(e,t,n,r){var a=this;a.d=e,a.e=null,a.a=t,a.b=n,a.a$=r},ua(e,t){var n,r,a,i,o,s,l,u,c,p,g,b=null,v="lights",y="spot";if(t.toString,h.w(e,d.cQ,t),n=h.ey(e,v,t),r=_.cp,null!=n){for(a=n.gi(n),r=h.S(a,b,!1,r),i=new h.E(r,a,v,_.E),(a=t.c).push(v),o=_.h,s=0;s<n.gi(n);++s)l=n.j(0,s),a.push(d.c.k(s)),h.w(l,d.cg,t),h.ae(l,"color",t,d.C,d.l,1,0,!1),h.H(l,"intensity",t,1,1/0,-1/0,1/0,0,!1,NaN),"spot"===(u=h.J(l,"type",t,b,d.cz,b,!0))?h.U(l,y,t,h.wX(),!0):(c=l.v(y))&&t.n(m.o8(),y),p=h.H(l,"range",t,NaN,1/0,0,1/0,-1/0,!1,NaN),(c="directional"===u&&!isNaN(p))&&t.n(m.o8(),"range"),h.J(l,"name",t,b,b,b,!1),c=h.t(l,d.dQ,t,b),null!=(g=l.j(0,"extras"))&&!o.b(g)&&t.n(m.di(),"extras"),r[s]=new h.ba(c,g,!1),a.pop();a.pop()}else r=f.b8(0,r),i=new h.E(r,0,v,_.E);return new h.bz(i,h.t(e,d.dO,t,b),h.x(e,t),!1)},ub(e,t){var n,r,a="outerConeAngle";return h.w(e,d.cK,t),n=h.H(e,"innerConeAngle",t,0,1.5707963267948966,-1/0,1/0,0,!1,NaN),(r=h.H(e,a,t,.7853981633974483,1/0,0,1.5707963267948966,-1/0,!1,NaN))<=n&&t.l(m.rs(),h.a([n,r],_.M),a),new h.cd(h.t(e,d.dP,t,null),h.x(e,t),!1)},uc:(e,t)=>(t.toString,h.w(e,d.cP,t),new h.ce(h.W(e,"light",t,!0),h.t(e,d.dR,t,null),h.x(e,t),!1)),bz:function(e,t,n,r){var a=this;a.d=e,a.a=t,a.b=n,a.a$=r},iR:function(e,t){this.a=e,this.b=t},ba:function(e,t,n){this.a=e,this.b=t,this.a$=n},cd:function(e,t,n){this.a=e,this.b=t,this.a$=n},ce:function(e,t,n,r){var a=this;a.d=e,a.e=null,a.a=t,a.b=n,a.a$=r},ud(e,t){var n,r,a,i,o,s;return t.toString,h.w(e,d.c3,t),h.H(e,"clearcoatFactor",t,0,1/0,-1/0,1,0,!1,NaN),n=h.U(e,"clearcoatTexture",t,h.ap(),!1),h.H(e,"clearcoatRoughnessFactor",t,0,1/0,-1/0,1,0,!1,NaN),r=h.U(e,"clearcoatRoughnessTexture",t,h.ap(),!1),a=h.U(e,"clearcoatNormalTexture",t,h.pO(),!1),i=h.t(e,d.dS,t,null),o=new h.cf(n,r,a,i,h.x(e,t),!1),s=h.a([n,r,a],_.M),d.d.F(s,i.gV()),t.U(o,s),o},cf:function(e,t,n,r,a,i){var o=this;o.e=e,o.r=t,o.w=n,o.a=r,o.b=a,o.a$=i},ue:(e,t)=>(t.toString,h.w(e,d.cA,t),new h.cg(h.H(e,"emissiveStrength",t,1,1/0,-1/0,1/0,0,!1,NaN),h.t(e,d.dT,t,null),h.x(e,t),!1)),cg:function(e,t,n,r){var a=this;a.d=e,a.a=t,a.b=n,a.a$=r},uf:(e,t)=>(t.toString,h.w(e,d.cM,t),h.H(e,"ior",t,1.5,1/0,-1/0,1/0,1,!1,0),new h.ch(h.t(e,d.dU,t,null),h.x(e,t),!1)),ch:function(e,t,n){this.a=e,this.b=t,this.a$=n},ug(e,t){var n,r,a,i,o,s,l,u="iridescenceThicknessMinimum",c="iridescenceThicknessMaximum",f="iridescenceThicknessTexture";return t.toString,h.w(e,d.d5,t),h.H(e,"iridescenceFactor",t,0,1/0,-1/0,1,0,!1,NaN),n=h.U(e,"iridescenceTexture",t,h.ap(),!1),h.H(e,"iridescenceIor",t,1.3,1/0,-1/0,1/0,1,!1,NaN),r=h.H(e,u,t,100,1/0,-1/0,1/0,0,!1,NaN),a=h.H(e,c,t,400,1/0,-1/0,1/0,0,!1,NaN),i=h.U(e,f,t,h.ap(),!1),r>a&&(o=m.ru(),t.n(o,e.v(u)?u:c)),null!=i?r===a&&t.n(m.rw(),f):!isNaN(r)&&e.v(u)&&t.n(m.rv(),u),s=h.t(e,d.dV,t,null),l=new h.ci(n,i,s,h.x(e,t),!1),o=h.a([n,i],_.M),d.d.F(o,s.gV()),t.U(l,o),l},ci:function(e,t,n,r,a){var i=this;i.e=e,i.x=t,i.a=n,i.b=r,i.a$=a},uh(e,t){var n,r,a,i,o;return t.toString,h.w(e,d.cy,t),h.ae(e,"diffuseFactor",t,d.ak,d.P,1,0,!1),n=h.U(e,"diffuseTexture",t,h.ap(),!1),h.ae(e,"specularFactor",t,d.C,d.l,1,0,!1),h.H(e,"glossinessFactor",t,1,1/0,-1/0,1,0,!1,NaN),r=h.U(e,"specularGlossinessTexture",t,h.ap(),!1),a=h.t(e,d.dM,t,null),i=new h.cj(n,r,a,h.x(e,t),!1),o=h.a([n,r],_.M),d.d.F(o,a.gV()),t.U(i,o),i},cj:function(e,t,n,r,a){var i=this;i.e=e,i.w=t,i.a=n,i.b=r,i.a$=a},ui(e,t){var n,r,a,i,o;return t.toString,h.w(e,d.c2,t),h.ae(e,"sheenColorFactor",t,d.aj,d.l,1,0,!1),n=h.U(e,"sheenColorTexture",t,h.ap(),!1),h.H(e,"sheenRoughnessFactor",t,0,1/0,-1/0,1,0,!1,NaN),r=h.U(e,"sheenRoughnessTexture",t,h.ap(),!1),a=h.t(e,d.dW,t,null),i=new h.ck(n,r,a,h.x(e,t),!1),o=h.a([n,r],_.M),d.d.F(o,a.gV()),t.U(i,o),i},ck:function(e,t,n,r,a){var i=this;i.e=e,i.r=t,i.a=n,i.b=r,i.a$=a},uj(e,t){var n,r,a,i,o;return t.toString,h.w(e,d.c5,t),h.H(e,"specularFactor",t,1,1/0,-1/0,1,0,!1,NaN),n=h.U(e,"specularTexture",t,h.ap(),!1),h.ae(e,"specularColorFactor",t,d.C,d.l,1/0,0,!1),r=h.U(e,"specularColorTexture",t,h.ap(),!1),a=h.t(e,d.dX,t,null),i=new h.cl(n,r,a,h.x(e,t),!1),o=h.a([n,r],_.M),d.d.F(o,a.gV()),t.U(i,o),i},cl:function(e,t,n,r,a){var i=this;i.e=e,i.r=t,i.a=n,i.b=r,i.a$=a},uk(e,t){var n,r,a,i;return t.toString,h.w(e,d.c8,t),h.H(e,"transmissionFactor",t,0,1/0,-1/0,1,0,!1,NaN),n=h.U(e,"transmissionTexture",t,h.ap(),!1),r=h.t(e,d.dY,t,null),a=new h.cm(n,r,h.x(e,t),!1),i=h.a([n],_.M),d.d.F(i,r.gV()),t.U(a,i),a},cm:function(e,t,n,r){var a=this;a.e=e,a.a=t,a.b=n,a.a$=r},ul:(e,t)=>(t.toString,h.w(e,d.cB,t),new h.cn(h.t(e,d.dZ,t,null),h.x(e,t),!1)),cn:function(e,t,n){this.a=e,this.b=t,this.a$=n},um(e,t){var n,r,a,i,o,s,l,u,c,p=null,g="variants";if(t.toString,h.w(e,d.da,t),n=h.ey(e,g,t),r=_.J,null!=n){for(a=n.gi(n),r=h.S(a,p,!1,r),i=new h.E(r,a,g,_.u),(a=t.c).push(g),o=_.h,s=0;s<n.gi(n);++s)l=n.j(0,s),a.push(d.c.k(s)),h.w(l,d.cS,t),h.J(l,"name",t,p,p,p,!0),u=h.t(l,d.e1,t,p),null!=(c=l.j(0,"extras"))&&!o.b(c)&&t.n(m.di(),"extras"),r[s]=new h.aK(u,c,!1),a.pop();a.pop()}else r=f.b8(0,r),i=new h.E(r,0,g,_.u);return new h.bA(i,h.t(e,d.e_,t,p),h.x(e,t),!1)},un(e,t){var n,r,a,i,o,s,l,u,c,p,g,b,v=null,y="mappings";if(t.toString,h.w(e,d.cR,t),n=h.ey(e,y,t),r=_.aa,null!=n){for(a=n.gi(n),r=h.S(a,v,!1,r),i=new h.E(r,a,y,_.B),(a=t.c).push(y),o=_.h,s=0;s<n.gi(n);++s)l=n.j(0,s),a.push(d.c.k(s)),h.w(l,d.db,t),u=h.mK(l,"variants",t,!0),c=h.W(l,"material",t,!0),h.J(l,"name",t,v,v,v,!1),p=h.t(l,d.e0,t,v),null!=(g=l.j(0,"extras"))&&!o.b(g)&&t.n(m.di(),"extras"),r[s]=new h.bb(u,c,p,g,!1),a.pop();a.pop()}else r=f.b8(0,r),i=new h.E(r,0,y,_.B);return b=new h.co(i,h.t(e,d.e7,t,v),h.x(e,t),!1),t.U(b,h.ct(i,!0,_._)),b},bA:function(e,t,n,r){var a=this;a.d=e,a.a=t,a.b=n,a.a$=r},iS:function(e,t){this.a=e,this.b=t},aK:function(e,t,n){this.a=e,this.b=t,this.a$=n},co:function(e,t,n,r){var a=this;a.d=e,a.a=t,a.b=n,a.a$=r},iV:function(e,t,n){this.a=e,this.b=t,this.c=n},bb:function(e,t,n,r,a){var i=this;i.d=e,i.e=t,i.r=null,i.a=n,i.b=r,i.a$=a},iT:function(e,t,n,r){var a=this;a.a=e,a.b=t,a.c=n,a.d=r},iU:function(e,t){this.a=e,this.b=t},uo(e,t){var n,r,a,i,o;return t.toString,h.w(e,d.dd,t),h.ae(e,"attenuationColor",t,d.C,d.l,1,0,!1),h.H(e,"attenuationDistance",t,NaN,1/0,0,1/0,-1/0,!1,NaN),n=h.H(e,"thicknessFactor",t,0,1/0,-1/0,1/0,0,!1,NaN),r=h.U(e,"thicknessTexture",t,h.ap(),!1),a=h.t(e,d.e2,t,null),i=new h.cp(n,r,a,h.x(e,t),!1),o=h.a([r],_.M),d.d.F(o,a.gV()),t.U(i,o),i},cp:function(e,t,n,r,a){var i=this;i.f=e,i.r=t,i.a=n,i.b=r,i.a$=a},iW:function(){},up:(e,t)=>(t.toString,h.w(e,d.cY,t),h.ae(e,"offset",t,d.bZ,d.al,1/0,-1/0,!1),h.H(e,"rotation",t,0,1/0,-1/0,1/0,-1/0,!1,NaN),h.ae(e,"scale",t,d.c0,d.al,1/0,-1/0,!1),new h.cq(h.a_(e,"texCoord",t,-1,null,-1,0,!1),h.t(e,d.e3,t,null),h.x(e,t),!1)),cq:function(e,t,n,r){var a=this;a.r=e,a.a=t,a.b=n,a.a$=r},O:function(e,t,n,r){var a=this;a.a=e,a.b=t,a.c=n,a.d=r},V:function(e,t,n){this.a=e,this.b=t,this.c=n},c9:function(e,t){this.a=e,this.b=t},cr:function(e,t){this.a=e,this.b=t},fl:function(e,t){this.a=e,this.b=t},dr:function(e,t,n){var r=this;r.a=e,r.b=null,r.c=t,r.d=null,r.e=n,r.f=null,r.as=r.Q=r.z=r.y=r.x=r.w=r.r=0,r.at=!1,r.ch=r.ay=r.ax=null,r.CW=!1,r.cx=null},ih:function(e){this.a=e},ii:function(e){this.a=e},ie:function(e){this.a=e},ig:function(e){this.a=e},u1(e,t){var n,r={},a=new h.B(m.A,_.eD);return r.a=!1,r.b=null,n=h.oU(new h.ik(r),new h.il(r),new h.im(r),_.w),r.b=e.e6(new h.io(r,n,new h.ay(a,_.a_),t),n.gdV()),a},u_(e,t){var n=new h.cP(e,new h.ay(new h.B(m.A,_.f),_.G));return n.e=t,n},u0(e,t){var n,r,a,i,o=null,s=null;try{s=d.aa.dY(e)}catch(a){if((i=h.K(a))instanceof h.aI)return n=i,t.aC(m.h1(),h.a([n],_.M),!0),o;throw a}if(!_.t.b(s))return t.aC(m.a2(),h.a([s,"object"],_.M),!0),o;try{return r=h.or(s,t),new h.at("model/gltf+json",r,o)}catch(a){if(h.K(a)instanceof h.bx)return o;throw a}},at:function(e,t,n){this.a=e,this.b=t,this.c=n},il:function(e){this.a=e},im:function(e){this.a=e},ik:function(e){this.a=e},io:function(e,t,n,r){var a=this;a.a=e,a.b=t,a.c=n,a.d=r},cP:function(e,t){var n=this;n.a=e,n.b=null,n.c=t,n.e=n.d=null,n.f=!0},ij:function(e){this.a=e},dt:function(){},az(e,t,n,r){var a=e.j(0,t);return null==a&&e.v(t)&&r.l(m.a2(),h.a([null,n],_.M),t),a},mF:e=>"number"==typeof e&&Math.floor(e)===e?f.ng(e):e,W(e,t,n,r){var a=h.mF(h.az(e,t,"integer",n));if(h.aH(a)){if(a>=0)return a;n.n(m.h0(),t)}else null==a?r&&n.G(m.bq(),h.a([t],_.M)):n.l(m.a2(),h.a([a,"integer"],_.M),t);return-1},pG(e,t,n){var r=h.az(e,t,"boolean",n);return null!=r&&(h.er(r)?r:(n.l(m.a2(),h.a([r,"boolean"],_.M),t),!1))},a_(e,t,n,r,a,i,o,s){var l=h.mF(h.az(e,t,"integer",n));if(h.aH(l)){if(null!=a){if(!h.nE(t,l,a,n,!1))return-1}else if(l<o||-1!==i&&l>i)return n.l(m.nb(),h.a([l],_.M),t),-1;return l}if(null==l){if(!s)return r;n.G(m.bq(),h.a([t],_.M))}else n.l(m.a2(),h.a([l,"integer"],_.M),t);return-1},H(e,t,n,r,a,i,o,s,l,u){var c=h.az(e,t,"number",n);if("number"==typeof c)return c!==u&&(c<s||c<=i||c>o||c>=a)?(n.l(m.nb(),h.a([c],_.M),t),NaN):c;if(null==c){if(!l)return r;n.G(m.bq(),h.a([t],_.M))}else n.l(m.a2(),h.a([c,"number"],_.M),t);return NaN},J(e,t,n,r,a,i,o){var s=h.az(e,t,"string",n);if("string"==typeof s){if(null!=a)h.nE(t,s,a,n,!1);else if(!1===(null==i?null:i.b.test(s)))return n.l(m.re(),h.a([s,i.a],_.M),t),null;return s}if(null==s){if(!o)return r;n.G(m.bq(),h.a([t],_.M))}else n.l(m.a2(),h.a([s,"string"],_.M),t);return null},pL(e,t){var n,r,a,i;try{return((a=n=h.oZ(e)).gcG()||a.gbJ()||a.gcF()||a.gbL()||a.gbK())&&t.l(m.rP(),h.a([e],_.M),"uri"),n}catch(i){if((a=h.K(i))instanceof h.aI)return r=a,t.l(m.o3(),h.a([e,r],_.M),"uri"),null;throw i}},nG(e,t,n,r){var a=h.az(e,t,"object",n);if(_.t.b(a))return a;if(null==a){if(r)return n.G(m.bq(),h.a([t],_.M)),null}else if(n.l(m.a2(),h.a([a,"object"],_.M),t),r)return null;return h.a8(_.X,_._)},U(e,t,n,r,a){var i,o,s=h.az(e,t,"object",n);return _.t.b(s)?((i=n.c).push(t),o=r.$2(s,n),i.pop(),o):(null==s?a&&n.G(m.bq(),h.a([t],_.M)):n.l(m.a2(),h.a([s,"object"],_.M),t),null)},mK(e,t,n,r){var a,i,o,s,l,u,c=h.az(e,t,"array",n);if(_.m.b(c)){if((a=f.T(c)).gA(c))return n.n(m.bV(),t),null;for((i=n.c).push(t),o=_.e,s=h.aN(o),l=0;l<a.gi(c);++l)"number"==typeof(u=a.j(c,l))&&Math.floor(u)===u&&(u=f.ng(u)),h.aH(u)&&u>=0?(s.C(0,u)||n.Y(m.o1(),l),a.m(c,l,u)):(a.m(c,l,-1),n.Y(m.h0(),l));return i.pop(),a.ah(c,o)}return null==c?r&&n.G(m.bq(),h.a([t],_.M)):n.l(m.a2(),h.a([c,"array"],_.M),t),null},wJ(e,t,n,r){var a,i=h.az(e,t,"object",n);return _.t.b(i)?i.gA(i)?(n.n(m.bV(),t),null):((a=n.c).push(t),i.L(0,new h.mL(r,i,n)),a.pop(),i.ai(0,_.X,_.e)):(a=_.M,null==i?n.G(m.bq(),h.a([t],a)):n.l(m.a2(),h.a([i,"object"],a),t),null)},wK(e,t,n,r){var a,i,o,s,l,u,c,p=h.az(e,t,"array",n);if(_.m.b(p)){if((a=f.T(p)).gA(p))return n.n(m.bV(),t),null;for((i=n.c).push(t),o=_.M,s=_.t,l=!1,u=0;u<a.gi(p);++u)c=a.j(p,u),s.b(c)?c.gA(c)?(n.Y(m.bV(),u),l=!0):(i.push(d.c.k(u)),c.L(0,new h.mM(r,c,n)),i.pop()):(n.G(m.ez(),h.a([c,"object"],o)),l=!0);return i.pop(),l?null:(a=f.nf(p,_.h),i=h.C(a).h("aa<n.E,h<e*,f*>*>"),h.ct(new h.aa(a,new h.mN,i),!1,i.h("ag.E")))}return null!=p&&n.l(m.a2(),h.a([p,"array"],_.M),t),null},ae(e,t,n,r,a,i,o,s){var l,u,c,d,p,g,b,v,y=null,x=h.az(e,t,"array",n);if(_.m.b(x)){if((l=f.T(x)).gA(x))return n.n(m.bV(),t),y;if(null!=a&&!h.nE(t,l.gi(x),a,n,!0))return y;for(u=h.S(l.gi(x),0,!1,_.F),c=_.M,d=n.c,p=!1,g=0;g<l.gi(x);++g)"number"==typeof(b=l.j(x,g))?((v=b==1/0||b==-1/0||b<o||b>i)&&(d.push(t),n.an(m.nb(),h.a([b],c),g),d.pop(),p=!0),s?((v=m.ob())[0]=b,u[g]=v[0]):u[g]=b):(n.l(m.ez(),h.a([b,"number"],c),t),p=!0);return p?y:u}return null==x?l=null==r?y:f.cT(r.slice(0),h.Z(r).c):(n.l(m.a2(),h.a([x,"array"],_.M),t),y)},pH(e,t,n,r,a){var i,o,s,l,u,c,p,g,b=h.az(e,t,"array",n);if(_.m.b(b)){if((i=f.T(b)).gi(b)!==a)return n.l(m.o2(),h.a([i.gi(b),h.a([a],_.V)],_.M),t),null;for(o=h.xq(r),s=h.pV(r),l=h.wD(r,a),u=_.M,c=!1,p=0;p<i.gi(b);++p)"number"==typeof(g=i.j(b,p))&&Math.floor(g)===g&&(g=f.ng(g)),h.aH(g)?((g<o||g>s)&&(n.l(m.rr(),h.a([g,d.ax.j(0,r)],u),t),c=!0),l[p]=g):(n.l(m.ez(),h.a([g,"integer"],u),t),c=!0);return c?null:l}return null!=b&&n.l(m.a2(),h.a([b,"array"],_.M),t),null},pJ(e,t,n){var r,a,i,o,s,l,u,c,d=h.az(e,t,"array",n);if(_.m.b(d)){if((r=f.T(d)).gA(d))return n.n(m.bV(),t),null;for((a=n.c).push(t),i=_.X,o=h.aN(i),s=_.M,l=!1,u=0;u<r.gi(d);++u)"string"==typeof(c=r.j(d,u))?o.C(0,c)||n.Y(m.o1(),u):(n.an(m.ez(),h.a([c,"string"],s),u),l=!0);return a.pop(),l?null:r.ah(d,i)}return null!=d&&n.l(m.a2(),h.a([d,"array"],_.M),t),null},ey(e,t,n){var r,a,i,o,s,l,u=h.az(e,t,"array",n);if(_.m.b(u)){if((r=f.T(u)).gA(u))return n.n(m.bV(),t),null;for(a=r.gD(u),i=_.t,o=_.M,s=!1;a.p();)l=a.gt(),i.b(l)||(n.l(m.ez(),h.a([l,"object"],o),t),s=!0);return s?null:r.ah(u,i)}return r=_.M,null==u?n.G(m.bq(),h.a([t],r)):n.l(m.a2(),h.a([u,"array"],r),t),null},t(e,t,n,r){var a,i,o,s,l,u,c,d,p,g,b,v,y="extensions",x=h.a8(_.X,_._),A=h.nG(e,y,n,!1);if(A.gA(A))return x;for((a=n.c).push(y),i=(i=A.gM()).gD(i),o=_.ax,s=_.c,l=null==r,u=n.f,c=n.r;i.p();)d=i.gt(),p=h.nG(A,d,n,!1),(g=n.ay).H(g,d)?null!=(b=n.Q.a.j(0,new h.c9(t,d)))?(A.gi(A)>1&&b.b&&n.n(m.rH(),d),null!=p&&(a.push(d),v=b.a.$2(p,n),x.m(0,d,v),!b.c&&s.b(v)&&(d=l?t:r,d=u.bV(d,new h.mJ),(g=h.a(a.slice(0),h.Z(a))).fixed$length=Array,f.ne(d,new h.cr(v,g))),o.b(v)&&((d=h.a(a.slice(0),h.Z(a))).fixed$length=Array,c.push(new h.fl(v,d))),a.pop())):n.n(m.ra(),d):((g=(g=n.at).H(g,d))||n.n(m.r9(),d),x.m(0,d,p));return a.pop(),x},x(e,t){var n=e.j(0,"extras");return null!=n&&!_.h.b(n)&&t.n(m.di(),"extras"),n},nE(e,t,n,r,a){var i;return!!f.oe(n,t)||(i=a?m.o2():m.rh(),r.l(i,h.a([t,n],_.M),e),!1)},w(e,t,n){var r,a;for(r=(r=e.gM()).gD(r);r.p();)a=r.gt(),!d.d.H(t,a)&&!d.d.H(d.cE,a)&&n.n(m.rf(),a)},nK(e,t,n,r,a,i){var o,s,l,u,c,f,d=a.c;for(d.push(r),o=_.M,l=(s=n.a).length,u=0;u<e.gi(e);++u)-1!==(c=e.j(0,u))&&(null!=(f=null==c||c<0||c>=l?null:s[c])?(f.a$=!0,t[u]=f,i.$3(f,c,u)):a.an(m.N(),h.a([c],o),u));d.pop()},wV(e){var t,n,r,a,i,o,s,l,u,c,f,d,p,g,b,_,v,y,x,A,w,T,E,P,S,C,N,I,M,F,L,R,k,$,D,O,U=e.a;return 0===U[3]&&0===U[7]&&0===U[11]&&1===U[15]&&0!==e.cC()&&(t=m.tf(),n=m.tc(),r=m.td(),null==(a=m.oD)&&(a=m.oD=new h.cB(new Float32Array(3))),a.bq(U[0],U[1],U[2]),i=Math.sqrt(a.gaT()),a.bq(U[4],U[5],U[6]),o=Math.sqrt(a.gaT()),a.bq(U[8],U[9],U[10]),s=Math.sqrt(a.gaT()),e.cC()<0&&(i=-i),(t=t.a)[0]=U[12],t[1]=U[13],t[2]=U[14],l=1/i,u=1/o,c=1/s,null==(f=m.oB)&&(f=m.oB=new h.cV(new Float32Array(16))),(d=f.a)[15]=U[15],d[14]=U[14],d[13]=U[13],d[12]=U[12],d[11]=U[11],d[10]=U[10],d[9]=U[9],d[8]=U[8],d[7]=U[7],d[6]=U[6],d[5]=U[5],d[4]=U[4],d[3]=U[3],d[2]=U[2],d[1]=U[1],d[0]=U[0],d[0]=d[0]*l,d[1]=d[1]*l,d[2]=d[2]*l,d[4]=d[4]*u,d[5]=d[5]*u,d[6]=d[6]*u,d[8]=d[8]*c,d[9]=d[9]*c,d[10]=d[10]*c,null==(p=m.oC)&&(p=m.oC=new h.eZ(new Float32Array(9))),(g=p.a)[0]=d[0],g[1]=d[1],g[2]=d[2],g[3]=d[4],g[4]=d[5],g[5]=d[6],g[6]=d[8],g[7]=d[9],g[8]=d[10],n.toString,(_=0+(U=g[0])+(d=g[4])+(b=g[8]))>0?(v=Math.sqrt(_+1),(U=n.a)[3]=.5*v,v=.5/v,U[0]=(g[5]-g[7])*v,U[1]=(g[6]-g[2])*v,U[2]=(g[1]-g[3])*v):(U=3*(y=U<d?d<b?2:1:U<b?2:0),d=3*(x=(y+1)%3),b=3*(A=(y+2)%3),v=Math.sqrt(g[U+y]-g[d+x]-g[b+A]+1),(n=n.a)[y]=.5*v,v=.5/v,n[3]=(g[d+A]-g[b+x])*v,n[x]=(g[U+x]+g[d+y])*v,n[A]=(g[U+A]+g[b+y])*v,U=n),(r=r.a)[0]=i,r[1]=o,r[2]=s,n=m.tb(),I=(w=U[0])*(S=w+w),M=w*(C=(T=U[1])+T),F=w*(N=(E=U[2])+E),L=T*C,R=T*N,k=E*N,$=(P=U[3])*S,D=P*C,O=P*N,(U=n.a)[0]=1-(L+k),U[1]=M+O,U[2]=F-D,U[3]=0,U[4]=M-O,U[5]=1-(I+k),U[6]=R+$,U[7]=0,U[8]=F+D,U[9]=R-$,U[10]=1-(I+L),U[11]=0,U[12]=t[0],U[13]=t[1],U[14]=t[2],U[15]=1,i=r[0],o=r[1],s=r[2],U[0]=U[0]*i,U[1]=U[1]*i,U[2]=U[2]*i,U[3]=U[3]*i,U[4]=U[4]*o,U[5]=U[5]*o,U[6]=U[6]*o,U[7]=U[7]*o,U[8]=U[8]*s,U[9]=U[9]*s,U[10]=U[10]*s,U[11]=U[11]*s,U[12]=U[12],U[13]=U[13],U[14]=U[14],U[15]=U[15],Math.abs(n.cH()-e.cH())<5e-5)},wD(e,t){switch(e){case 5120:return new Int8Array(t);case 5121:return new Uint8Array(t);case 5122:return new Int16Array(t);case 5123:return new Uint16Array(t);case 5124:return new Int32Array(t);case 5125:return new Uint32Array(t);default:throw h.d(h.R(null,null))}},mL:function(e,t,n){this.a=e,this.b=t,this.c=n},mM:function(e,t,n){this.a=e,this.b=t,this.c=n},mN:function(){},mJ:function(){},E:function(e,t,n,r){var a=this;a.a=e,a.b=t,a.c=n,a.$ti=r},a1:function(){},fr:function(e,t){this.a=0,this.b=e,this.c=t},fs:function(e,t){this.a=0,this.b=e,this.c=t},eG:function(e){this.a=e},lx:function(e,t,n,r){var a=this;a.a=e,a.b=t,a.c=n,a.d=r},lA:function(e,t){this.a=e,this.b=t},lz:function(){},ly:function(){},uv:()=>new h.cV(new Float32Array(16)),uM:()=>new h.fi(new Float32Array(4)),p3(e){var t=new Float32Array(3);return t[2]=e[2],t[1]=e[1],t[0]=e[0],new h.cB(t)},p2:()=>new h.cB(new Float32Array(3)),eZ:function(e){this.a=e},cV:function(e){this.a=e},fi:function(e){this.a=e},cB:function(e){this.a=e},fw:function(e){this.a=e},xb(){var e=new h.n4;f.tp(a.exports,h.cF(new h.n0(e))),f.tq(a.exports,h.cF(new h.n1(e))),f.tr(a.exports,h.cF(new h.n2)),f.to(a.exports,h.cF(new h.n3))},fY:(e,t)=>h.xs(e,t),xs(e,t){var n,r,a,i,o,s,l,u=0,c=h.eu(_.t),f=2,d=h.ew((function(p,m){for(1===p&&(r=m,u=f);;)switch(u){case 0:if(!_.a.b(e))throw h.d(h.R("data: Argument must be a Uint8Array.",null));return s=h.pn(t),a=h.pr(s),i=null,f=4,u=7,h.da(h.u1(h.np(e,_.w),a),d);case 7:return o=m,u=8,h.da(o.bW(),d);case 8:i=m,f=2,u=6;break;case 4:throw f=3,l=r,h.K(l),h.dt,l;case 3:u=2;break;case 6:n=h.fW(s,a,i),u=1;break;case 1:return h.ep(n,c);case 2:return h.eo(r,c)}}));return h.eq(d,c)},nL(e,t){var n,r,a,i=0,o=h.eu(_.t),s=h.ew((function(s,l){if(1===s)return h.eo(l,o);for(;;)switch(i){case 0:if("string"!=typeof e)throw h.d(h.R("json: Argument must be a string.",null));r=h.pn(t),a=h.pr(r),n=h.fW(r,a,h.u0(e,a)),i=1;break;case 1:return h.ep(n,o)}}));return h.eq(s,o)},pn(e){if(null!=e&&("number"==typeof e||h.er(e)||"string"==typeof e||_.l.b(e)))throw h.d(h.R("options: Value must be an object.",null));return _.bv.a(e)},fW(e,t,n){var r,a,i,o,s,l=0,u=h.eu(_.t),c=h.ew((function(d,p){if(1===d)return h.eo(p,u);for(;;)switch(l){case 0:if(s=null==e)i=null,o=null;else{if(a=f.bn(e),i=h.vT(a.gbl(e)),null!=a.gbI(e)&&!_.b1.b(a.gbI(e)))throw h.d(h.R("options.externalResourceFunction: Value must be a function.",null));if(o=a.gbI(e),null!=a.gc1(e)&&!h.er(a.gc1(e)))throw h.d(h.R("options.writeTimestamp: Value must be a boolean.",null))}l=null!=(null==n?null:n.b)?3:4;break;case 3:return l=5,h.da(h.vS(t,n,o).aU(),c);case 5:case 4:s=s?null:f.tk(e),r=new h.lx(i,t,n,null==s||s).bk(),l=1;break;case 1:return h.ep(r,u)}}));return h.eq(c,u)},vT(e){var t,n,r;if(null!=e){if("string"!=typeof e)throw h.d(h.R("options.uri: Value must be a string.",null));try{return h.oZ(e)}catch(r){throw(n=h.K(r))instanceof h.aI?(t=n,h.d(h.R("options.uri: "+h.b(t)+".",null))):r}}return null},pr(e){var t,n,r,i,o,s,l,u,c,p=null;if(null!=e){if(n=null!=(t=f.bn(e)).gbh(e)&&(!h.aH(t.gbh(e))||t.gbh(e)<0))throw h.d(h.R("options.maxIssues: Value must be a non-negative integer.",p));if(null!=t.gbc(e)){if(!_.l.b(t.gbc(e)))throw h.d(h.R("options.ignoredIssues: Value must be an array.",p));for(r=h.a([],_.i),i=0;i<f.a3(t.gbc(e));++i){if("string"!=typeof(o=f.od(t.gbc(e),i))||0===o.length)throw h.d(h.R("options.ignoredIssues["+i+"]: Value must be a non-empty String.",p));r.push(o)}}else r=p;if(null!=t.gal(e)){if("number"==typeof t.gal(e)||h.er(t.gal(e))||"string"==typeof t.gal(e)||_.l.b(t.gal(e)))throw h.d(h.R("options.severityOverrides: Value must be an object.",p));for(n=_.X,s=h.a8(n,_.dz),n=f.nf(a.Object.keys(t.gal(e)),n),n=new h.a9(n,n.gi(n),h.C(n).h("a9<n.E>"));n.p();){if(l=n.d,u=t.gal(e)[l],!(h.aH(u)&&u>=0&&u<=3))throw h.d(h.R('options.severityOverrides["'+h.b(l)+'"]: Value must be one of [0, 1, 2, 3].',p));s.m(0,l,d.cf[u])}}else s=p;c=h.p1(r,t.gbh(e),s)}else c=p;return h.tQ(c)},vS(e,t,n){var r=new h.my(n),a=new h.dW("options.externalResourceFunction is required to load this resource.");return new h.k6(t.b,e,new h.mw(e,t,n,r,a),new h.mx(n,r,a))},be:function(){},hW:function(){},d4:function(){},n4:function(){},n0:function(e){this.a=e},n_:function(e,t,n){this.a=e,this.b=t,this.c=n},mX:function(e){this.a=e},mY:function(e,t){this.a=e,this.b=t},n1:function(e){this.a=e},mZ:function(e,t,n){this.a=e,this.b=t,this.c=n},mV:function(e){this.a=e},mW:function(e,t){this.a=e,this.b=t},n2:function(){},n3:function(){},my:function(e){this.a=e},mz:function(e){this.a=e},mA:function(e){this.a=e},mw:function(e,t,n,r,a){var i=this;i.a=e,i.b=t,i.c=n,i.d=r,i.e=a},mx:function(e,t,n){this.a=e,this.b=t,this.c=n},fc:function(e){this.a=e},xo:e=>h.a0(h.ow(e)),pt(e,t){if(e!==m)throw h.d(h.ow(t))},vK(e){var t,n,r,a=e.$dart_jsFunction;return null!=a?a:(n=h.vJ,r=e,t=function(){return n(r,Array.prototype.slice.apply(arguments))},t[m.nM()]=e,e.$dart_jsFunction=t,t)},vJ:(e,t)=>h.uI(e,t,null),cF:e=>"function"==typeof e?e:h.vK(e),vV(e){var t="POSITION",n="TEXCOORD",r=e.fr;r.j(0,t).F(0,d.d6),r.j(0,"NORMAL").F(0,d.Q),r.j(0,"TANGENT").F(0,d.dg),r.j(0,n).F(0,d.c6),(r=e.fx).j(0,t).F(0,d.cn),r.j(0,"NORMAL").F(0,d.Q),r.j(0,"TANGENT").F(0,d.Q),r.j(0,n).F(0,d.dc)},b1(e){switch(e){case 5120:case 5121:return 1;case 5122:case 5123:return 2;case 5124:case 5125:case 5126:return 4;default:return-1}},xq(e){switch(e){case 5121:case 5123:case 5125:return 0;case 5120:return-128;case 5122:return-32768;case 5124:return-2147483648;default:throw h.d(h.R(null,null))}},pV(e){switch(e){case 5120:return 127;case 5121:return 255;case 5122:return 32767;case 5123:return 65535;case 5124:return 2147483647;case 5125:return 4294967295;default:throw h.d(h.R(null,null))}},fV(e,t){var n=e+t&536870911;return(n=n+((524287&n)<<10)&536870911)^n>>>6},pp(e){var t=e+((67108863&e)<<3)&536870911;return(t^=t>>>11)+((16383&t)<<15)&536870911}},f={nJ:(e,t,n,r)=>({i:e,p:t,e:n,x:r}),mO(e){var t,n,r,a,i,o=e[g.dispatchPropertyName];if(null==o&&null==m.nH&&(h.wR(),o=e[g.dispatchPropertyName]),null!=o){if(!1===(t=o.p))return o.i;if(!0===t)return e;if(t===(n=Object.getPrototypeOf(e)))return o.i;if(o.e===n)throw h.d(h.oX("Return interceptor for "+h.b(t(e,o))))}return null==(r=e.constructor)?a=null:(null==(i=m.m8)&&(i=m.m8=g.getIsolateTag("_$dart_js")),a=r[i]),null!=a||null!=(a=h.xa(e))?a:"function"==typeof e?d.bW:null==(t=Object.getPrototypeOf(e))||t===Object.prototype?d.az:"function"==typeof r?(null==(i=m.m8)&&(i=m.m8=g.getIsolateTag("_$dart_js")),Object.defineProperty(r,i,{value:d.W,enumerable:!1,writable:!0,configurable:!0}),d.W):d.W},b8(e,t){if(e<0||e>4294967295)throw h.d(h.X(e,0,4294967295,"length",null));return f.cT(new Array(e),t)},ou(e,t){if(e>4294967295)throw h.d(h.X(e,0,4294967295,"length",null));return f.cT(new Array(e),t)},cT:(e,t)=>f.nj(h.a(e,t.h("D<0>"))),nj:e=>(e.fixed$length=Array,e),u6(e){if(e<256)switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 133:case 160:return!0;default:return!1}switch(e){case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8232:case 8233:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}},ov(e,t){for(var n,r;t>0&&(n=t-1,32===(r=d.a.B(e,n))||13===r||f.u6(r));t=n);return t},bT:e=>"number"==typeof e?Math.floor(e)==e?f.dw.prototype:f.eV.prototype:"string"==typeof e?f.by.prototype:null==e?f.dx.prototype:"boolean"==typeof e?f.dv.prototype:e.constructor==Array?f.D.prototype:"object"!=typeof e?"function"==typeof e?f.b9.prototype:e:e instanceof h.c?e:f.mO(e),T:e=>"string"==typeof e?f.by.prototype:null==e?e:e.constructor==Array?f.D.prototype:"object"!=typeof e?"function"==typeof e?f.b9.prototype:e:e instanceof h.c?e:f.mO(e),bm:e=>null==e?e:e.constructor==Array?f.D.prototype:"object"!=typeof e?"function"==typeof e?f.b9.prototype:e:e instanceof h.c?e:f.mO(e),wL:e=>"number"==typeof e?f.cc.prototype:null==e||e instanceof h.c?e:f.bI.prototype,wM:e=>"number"==typeof e?f.cc.prototype:"string"==typeof e?f.by.prototype:null==e||e instanceof h.c?e:f.bI.prototype,pI:e=>"string"==typeof e?f.by.prototype:null==e||e instanceof h.c?e:f.bI.prototype,bn:e=>null==e?e:"object"!=typeof e?"function"==typeof e?f.b9.prototype:e:e instanceof h.c?e:f.mO(e),oc:(e,t)=>"number"==typeof e&&"number"==typeof t?e+t:f.wM(e).ak(e,t),aj:(e,t)=>null==e?null==t:"object"!=typeof e?null!=t&&e===t:f.bT(e).N(e,t),od:(e,t)=>"number"==typeof t&&(e.constructor==Array||"string"==typeof e||h.pN(e,e[g.dispatchPropertyName]))&&t>>>0===t&&t<e.length?e[t]:f.T(e).j(e,t),th:(e,t,n)=>"number"==typeof t&&(e.constructor==Array||h.pN(e,e[g.dispatchPropertyName]))&&!e.immutable$list&&t>>>0===t&&t<e.length?e[t]=n:f.bm(e).m(e,t,n),ne:(e,t)=>f.bm(e).C(e,t),nf:(e,t)=>f.bm(e).ah(e,t),oe:(e,t)=>f.bm(e).H(e,t),eA:(e,t)=>f.bm(e).T(e,t),bW:e=>f.bT(e).gE(e),of:e=>f.T(e).gA(e),ti:e=>f.T(e).ga7(e),aC:e=>f.bm(e).gD(e),a3:e=>f.T(e).gi(e),tj:e=>f.bn(e).gen(e),tk:e=>f.bn(e).gc1(e),tl:(e,t,n)=>f.bm(e).aX(e,t,n),br:(e,t,n)=>f.bm(e).aj(e,t,n),tm:(e,t)=>f.bT(e).bj(e,t),tn:(e,t)=>f.T(e).si(e,t),to:(e,t)=>f.bn(e).sda(e,t),tp:(e,t)=>f.bn(e).sex(e,t),tq:(e,t)=>f.bn(e).sez(e,t),tr:(e,t)=>f.bn(e).seA(e,t),og:(e,t)=>f.bm(e).a5(e,t),ts:(e,t)=>f.pI(e).W(e,t),tt:(e,t,n)=>f.bn(e).cY(e,t,n),tu:(e,t,n)=>f.bn(e).eo(e,t,n),ng:e=>f.wL(e).ep(e),h2:(e,t)=>f.bm(e).aW(e,t),aq:e=>f.bT(e).k(e),tv:e=>f.pI(e).eu(e),cR:function(){},dv:function(){},dx:function(){},eW:function(){},aL:function(){},fg:function(){},bI:function(){},b9:function(){},D:function(e){this.$ti=e},iK:function(e){this.$ti=e},b4:function(e,t,n){var r=this;r.a=e,r.b=t,r.c=0,r.d=null,r.$ti=n},cc:function(){},dw:function(){},eV:function(){},by:function(){}},d={},p=[h,f,d],m={};h.nk.prototype={},f.cR.prototype={N:(e,t)=>e===t,gE:e=>h.cX(e),k:e=>"Instance of '"+h.b(h.k5(e))+"'",bj(e,t){throw h.d(h.oG(e,t.gcP(),t.gcT(),t.gcQ()))}},f.dv.prototype={k:e=>String(e),gE:e=>e?519018:218159,$iQ:1},f.dx.prototype={N:(e,t)=>null==t,k:e=>"null",gE:e=>0,bj(e,t){return this.d2(e,t)},$ik:1},f.eW.prototype={},f.aL.prototype={gE:e=>0,k:e=>String(e),$ibe:1,$id4:1,gen:e=>e.then,cY:(e,t)=>e.then(t),eo:(e,t,n)=>e.then(t,n),sex:(e,t)=>e.validateBytes=t,sez:(e,t)=>e.validateString=t,seA:(e,t)=>e.version=t,sda:(e,t)=>e.supportedExtensions=t,gbl:e=>e.uri,gbI:e=>e.externalResourceFunction,gc1:e=>e.writeTimestamp,gbh:e=>e.maxIssues,gbc:e=>e.ignoredIssues,gal:e=>e.severityOverrides},f.fg.prototype={},f.bI.prototype={},f.b9.prototype={k(e){var t=e[m.nM()];return null==t?this.d6(e):"JavaScript function for "+h.b(f.aq(t))},$iaD:1},f.D.prototype={ah:(e,t)=>new h.b5(e,h.Z(e).h("@<1>").I(t).h("b5<1,2>")),C(e,t){e.fixed$length&&h.a0(h.ac("add")),e.push(t)},dL(e,t,n){var r,a,i,o=[],s=e.length;for(r=0;r<s;++r)if(a=e[r],t.$1(a)||o.push(a),e.length!==s)throw h.d(h.af(e));if((i=o.length)!==s)for(this.si(e,i),r=0;r<o.length;++r)e[r]=o[r]},F(e,t){var n;if(e.fixed$length&&h.a0(h.ac("addAll")),Array.isArray(t))this.de(e,t);else for(n=f.aC(t);n.p();)e.push(n.gt())},de(e,t){var n,r=t.length;if(0!==r){if(e===t)throw h.d(h.af(e));for(n=0;n<r;++n)e.push(t[n])}},aj:(e,t,n)=>new h.aa(e,t,h.Z(e).h("@<1>").I(n).h("aa<1,2>")),cM(e,t){var n,r=h.S(e.length,"",!1,_.R);for(n=0;n<e.length;++n)r[n]=h.b(e[n]);return r.join(t)},a5:(e,t)=>h.dM(e,t,null,h.Z(e).c),bb(e,t,n){var r,a,i=e.length;for(r=0;r<i;++r){if(a=e[r],t.$1(a))return a;if(e.length!==i)throw h.d(h.af(e))}return n.$0()},T:(e,t)=>e[t],a0(e,t,n){if(t<0||t>e.length)throw h.d(h.X(t,0,e.length,"start",null));if(n<t||n>e.length)throw h.d(h.X(n,t,e.length,"end",null));return t===n?h.a([],h.Z(e)):h.a(e.slice(t,n),h.Z(e))},aX:(e,t,n)=>(h.aP(t,n,e.length),h.dM(e,t,n,h.Z(e).c)),gaS(e){var t=e.length;if(t>0)return e[t-1];throw h.d(h.ni())},H(e,t){var n;for(n=0;n<e.length;++n)if(f.aj(e[n],t))return!0;return!1},gA:e=>0===e.length,ga7:e=>0!==e.length,k:e=>h.iH(e,"[","]"),aW:(e,t)=>f.cT(e.slice(0),h.Z(e).c),bZ:e=>h.us(e,h.Z(e).c),gD:e=>new f.b4(e,e.length,h.Z(e).h("b4<1>")),gE:e=>h.cX(e),gi:e=>e.length,si(e,t){if(e.fixed$length&&h.a0(h.ac("set length")),t<0)throw h.d(h.X(t,0,null,"newLength",null));e.length=t},j(e,t){if(!(t>=0&&t<e.length))throw h.d(h.ex(e,t));return e[t]},m(e,t,n){if(e.immutable$list&&h.a0(h.ac("indexed set")),!(t>=0&&t<e.length))throw h.d(h.ex(e,t));e[t]=n},$ip:1,$ij:1,$io:1},f.iK.prototype={},f.b4.prototype={gt(){return this.d},p(){var e,t=this,n=t.a,r=n.length;if(t.b!==r)throw h.d(h.cI(n));return(e=t.c)>=r?(t.d=null,!1):(t.d=n[e],t.c=e+1,!0)},$iM:1},f.cc.prototype={ep(e){if(e>=-2147483648&&e<=2147483647)return 0|e;if(isFinite(e))return(e<0?Math.ceil(e):Math.floor(e))+0;throw h.d(h.ac(e+".toInt()"))},au(e,t){var n,r,a,i;if(t<2||t>36)throw h.d(h.X(t,2,36,"radix",null));return n=e.toString(t),41!==d.a.B(n,n.length-1)?n:(null==(r=/^([\da-z]+)(?:\.([\da-z]+))?\(e\+(\d+)\)$/.exec(n))&&h.a0(h.ac("Unexpected toString result: "+n)),n=r[1],a=+r[3],null!=(i=r[2])&&(n+=i,a-=i.length),n+d.a.bp("0",a))},k:e=>0===e&&1/e<0?"-0.0":""+e,gE(e){var t,n,r,a,i=0|e;return e===i?536870911&i:(t=Math.abs(e),n=Math.log(t)/.6931471805599453|0,r=Math.pow(2,n),599197*((9007199254740992*(a=t<1?t/r:r/t)|0)+(0xc95a6c285a6c9*a|0))+1259*n&536870911)},bo(e,t){var n=e%t;return 0===n?0:n>0?n:n+t},av(e,t){return(0|e)===e&&(t>=1||t<-1)?e/t|0:this.cq(e,t)},bG(e,t){return(0|e)===e?e/t|0:this.cq(e,t)},cq(e,t){var n=e/t;if(n>=-2147483648&&n<=2147483647)return 0|n;if(n>0){if(n!==1/0)return Math.floor(n)}else if(n>-1/0)return Math.ceil(n);throw h.d(h.ac("Result of truncating division is "+h.b(n)+": "+h.b(e)+" ~/ "+t))},aG(e,t){if(t<0)throw h.d(h.cG(t));return t>31?0:e<<t>>>0},ag(e,t){return e>0?this.cp(e,t):e>>(t>31?31:t)>>>0},dP(e,t){if(0>t)throw h.d(h.cG(t));return this.cp(e,t)},cp:(e,t)=>t>31?0:e>>>t,$iz:1,$iL:1},f.dw.prototype={$if:1},f.eV.prototype={},f.by.prototype={B(e,t){if(t<0)throw h.d(h.ex(e,t));return t>=e.length&&h.a0(h.ex(e,t)),e.charCodeAt(t)},J(e,t){if(t>=e.length)throw h.d(h.ex(e,t));return e.charCodeAt(t)},ak(e,t){if("string"!=typeof t)throw h.d(h.h5(t,null,null));return e+t},aF(e,t,n,r){var a=h.aP(t,n,e.length);return e.substring(0,t)+r+e.substring(a)},X(e,t,n){var r;if(n<0||n>e.length)throw h.d(h.X(n,0,e.length,null,null));return!((r=n+t.length)>e.length)&&t===e.substring(n,r)},W(e,t){return this.X(e,t,0)},u:(e,t,n)=>e.substring(t,h.aP(t,n,e.length)),br(e,t){return this.u(e,t,null)},eu(e){var t,n,r;if(void 0!==e.trimRight){if(0===(n=(t=e.trimRight()).length))return t;r=n-1,133===this.B(t,r)&&(n=f.ov(t,r))}else n=f.ov(e,e.length),t=e;return n===t.length?t:0===n?"":t.substring(0,n)},bp(e,t){var n,r;if(0>=t)return"";if(1===t||0===e.length)return e;if(t!==t>>>0)throw h.d(d.bg);for(n=e,r="";1==(1&t)&&(r=n+r),0!=(t>>>=1);)n+=n;return r},ap(e,t,n){var r=t-e.length;return r<=0?e:this.bp(n,r)+e},bd(e,t,n){if(n<0||n>e.length)throw h.d(h.X(n,0,e.length,null,null));return e.indexOf(t,n)},bN(e,t){return this.bd(e,t,0)},k:e=>e,gE(e){var t,n,r;for(t=e.length,n=0,r=0;r<t;++r)n=(n=n+e.charCodeAt(r)&536870911)+((524287&n)<<10)&536870911,n^=n>>6;return n=n+((67108863&n)<<3)&536870911,(n^=n>>11)+((16383&n)<<15)&536870911},gi:e=>e.length,$ie:1},h.bJ.prototype={gD(e){var t=h.C(this);return new h.dk(f.aC(this.ga9()),t.h("@<1>").I(t.z[1]).h("dk<1,2>"))},gi(e){return f.a3(this.ga9())},gA(e){return f.of(this.ga9())},ga7(e){return f.ti(this.ga9())},a5(e,t){var n=h.C(this);return h.hd(f.og(this.ga9(),t),n.c,n.z[1])},T(e,t){return h.C(this).z[1].a(f.eA(this.ga9(),t))},H(e,t){return f.oe(this.ga9(),t)},k(e){return f.aq(this.ga9())}},h.dk.prototype={p(){return this.a.p()},gt(){return this.$ti.z[1].a(this.a.gt())},$iM:1},h.c4.prototype={ga9(){return this.a}},h.dV.prototype={$ip:1},h.dQ.prototype={j(e,t){return this.$ti.z[1].a(f.od(this.a,t))},m(e,t,n){f.th(this.a,t,this.$ti.c.a(n))},si(e,t){f.tn(this.a,t)},C(e,t){f.ne(this.a,this.$ti.c.a(t))},aX(e,t,n){var r=this.$ti;return h.hd(f.tl(this.a,t,n),r.c,r.z[1])},$ip:1,$io:1},h.b5.prototype={ah(e,t){return new h.b5(this.a,this.$ti.h("@<1>").I(t).h("b5<1,2>"))},ga9(){return this.a}},h.c5.prototype={ai(e,t,n){var r=this.$ti;return new h.c5(this.a,r.h("@<1>").I(r.z[1]).I(t).I(n).h("c5<1,2,3,4>"))},v(e){return this.a.v(e)},j(e,t){return this.$ti.h("4?").a(this.a.j(0,t))},m(e,t,n){var r=this.$ti;this.a.m(0,r.c.a(t),r.z[1].a(n))},L(e,t){this.a.L(0,new h.he(this,t))},gM(){var e=this.$ti;return h.hd(this.a.gM(),e.c,e.z[2])},gi(e){var t=this.a;return t.gi(t)},gA(e){var t=this.a;return t.gA(t)}},h.he.prototype={$2(e,t){var n=this.a.$ti;this.b.$2(n.z[2].a(e),n.z[3].a(t))},$S(){return this.a.$ti.h("~(1,2)")}},h.eY.prototype={k(e){return"LateInitializationError: "+this.a}},h.fj.prototype={k(e){return"ReachabilityError: "+this.a}},h.cL.prototype={gi(e){return this.a.length},j(e,t){return d.a.B(this.a,t)}},h.n6.prototype={$0(){var e=new h.B(m.A,_.U);return e.af(null),e},$S:46},h.dF.prototype={k(e){return"Null is not a valid value for '"+this.a+"' of type '"+h.pD(this.$ti.c).k(0)+"'"},$iaX:1},h.p.prototype={},h.ag.prototype={gD(e){var t=this;return new h.a9(t,t.gi(t),h.C(t).h("a9<ag.E>"))},gA(e){return 0===this.gi(this)},H(e,t){var n,r=this,a=r.gi(r);for(n=0;n<a;++n){if(f.aj(r.T(0,n),t))return!0;if(a!==r.gi(r))throw h.d(h.af(r))}return!1},aj(e,t,n){return new h.aa(this,t,h.C(this).h("@<ag.E>").I(n).h("aa<1,2>"))},a5(e,t){return h.dM(this,t,null,h.C(this).h("ag.E"))}},h.dL.prototype={gdq(){var e=f.a3(this.a),t=this.c;return null==t||t>e?e:t},gdQ(){var e=f.a3(this.a),t=this.b;return t>e?e:t},gi(e){var t,n=f.a3(this.a),r=this.b;return r>=n?0:null==(t=this.c)||t>=n?n-r:t-r},T(e,t){var n=this,r=n.gdQ()+t;if(t<0||r>=n.gdq())throw h.d(h.eS(t,n,"index",null,null));return f.eA(n.a,r)},a5(e,t){var n,r,a=this;return h.aV(t,"count"),n=a.b+t,null!=(r=a.c)&&n>=r?new h.b7(a.$ti.h("b7<1>")):h.dM(a.a,n,r,a.$ti.c)},aW(e,t){var n,r,a,i=this,o=i.b,s=i.a,l=f.T(s),u=l.gi(s),c=i.c;if(null!=c&&c<u&&(u=c),(n=u-o)<=0)return f.b8(0,i.$ti.c);for(r=h.S(n,l.T(s,o),!1,i.$ti.c),a=1;a<n;++a)if(r[a]=l.T(s,o+a),l.gi(s)<u)throw h.d(h.af(i));return r}},h.a9.prototype={gt(){return this.d},p(){var e,t=this,n=t.a,r=f.T(n),a=r.gi(n);if(t.b!==a)throw h.d(h.af(n));return(e=t.c)>=a?(t.d=null,!1):(t.d=r.T(n,e),++t.c,!0)},$iM:1},h.bc.prototype={gD(e){var t=h.C(this);return new h.dB(f.aC(this.a),this.b,t.h("@<1>").I(t.z[1]).h("dB<1,2>"))},gi(e){return f.a3(this.a)},gA(e){return f.of(this.a)},T(e,t){return this.b.$1(f.eA(this.a,t))}},h.c7.prototype={$ip:1},h.dB.prototype={p(){var e=this,t=e.b;return t.p()?(e.a=e.c.$1(t.gt()),!0):(e.a=null,!1)},gt(){return this.a}},h.aa.prototype={gi(e){return f.a3(this.a)},T(e,t){return this.b.$1(f.eA(this.a,t))}},h.lC.prototype={gD(e){return new h.cC(f.aC(this.a),this.b,this.$ti.h("cC<1>"))},aj(e,t,n){return new h.bc(this,t,this.$ti.h("@<1>").I(n).h("bc<1,2>"))}},h.cC.prototype={p(){var e,t;for(e=this.a,t=this.b;e.p();)if(t.$1(e.gt()))return!0;return!1},gt(){return this.a.gt()}},h.bf.prototype={a5(e,t){return h.h6(t,"count"),h.aV(t,"count"),new h.bf(this.a,this.b+t,h.C(this).h("bf<1>"))},gD(e){return new h.dJ(f.aC(this.a),this.b,h.C(this).h("dJ<1>"))}},h.cN.prototype={gi(e){var t=f.a3(this.a)-this.b;return t>=0?t:0},a5(e,t){return h.h6(t,"count"),h.aV(t,"count"),new h.cN(this.a,this.b+t,this.$ti)},$ip:1},h.dJ.prototype={p(){var e,t;for(e=this.a,t=0;t<this.b;++t)e.p();return this.b=0,e.p()},gt(){return this.a.gt()}},h.b7.prototype={gD:e=>d.b8,gA:e=>!0,gi:e=>0,T(e,t){throw h.d(h.X(t,0,0,"index",null))},H:(e,t)=>!1,aj:(e,t,n)=>new h.b7(n.h("b7<0>")),a5(e,t){return h.aV(t,"count"),this}},h.dn.prototype={p:()=>!1,gt(){throw h.d(h.ni())},$iM:1},h.dq.prototype={si(e,t){throw h.d(h.ac("Cannot change the length of a fixed-length list"))},C(e,t){throw h.d(h.ac("Cannot add to a fixed-length list"))}},h.fu.prototype={m(e,t,n){throw h.d(h.ac("Cannot modify an unmodifiable list"))},si(e,t){throw h.d(h.ac("Cannot change the length of an unmodifiable list"))},C(e,t){throw h.d(h.ac("Cannot add to an unmodifiable list"))}},h.d0.prototype={},h.d_.prototype={gE(e){var t=this._hashCode;return null!=t||(t=664597*f.bW(this.a)&536870911,this._hashCode=t),t},k(e){return'Symbol("'+h.b(this.a)+'")'},N(e,t){return null!=t&&t instanceof h.d_&&this.a==t.a},$icA:1},h.el.prototype={},h.dl.prototype={},h.cM.prototype={ai(e,t,n){var r=h.C(this);return h.oA(this,r.c,r.z[1],t,n)},gA(e){return 0===this.gi(this)},k(e){return h.nn(this)},m(e,t,n){h.tP(),h.aW(b.g)},$ih:1},h.as.prototype={gi(e){return this.a},v(e){return"string"==typeof e&&"__proto__"!==e&&this.b.hasOwnProperty(e)},j(e,t){return this.v(t)?this.b[t]:null},L(e,t){var n,r,a,i,o=this.c;for(n=o.length,r=this.b,a=0;a<n;++a)i=o[a],t.$2(i,r[i])},gM(){return new h.dS(this,this.$ti.h("dS<1>"))}},h.dS.prototype={gD(e){var t=this.a.c;return new f.b4(t,t.length,h.Z(t).h("b4<1>"))},gi(e){return this.a.c.length}},h.Y.prototype={aK(){var e,t,n=this,r=n.$map;return null==r&&(e=n.$ti,t=h.tZ(e.h("1?")),r=h.ur(h.w6(),t,e.c,e.z[1]),h.pF(n.a,r),n.$map=r),r},v(e){return this.aK().v(e)},j(e,t){return this.aK().j(0,t)},L(e,t){this.aK().L(0,t)},gM(){var e=this.aK();return new h.aM(e,h.C(e).h("aM<1>"))},gi(e){return this.aK().a}},h.hX.prototype={$1(e){return this.a.b(e)},$S:14},h.iI.prototype={gcP(){return this.a},gcT(){var e,t,n,r,a=this;if(1===a.c)return d.at;if(0==(t=(e=a.d).length-a.e.length-a.f))return d.at;for(n=[],r=0;r<t;++r)n.push(e[r]);return n.fixed$length=Array,n.immutable$list=Array,n},gcQ(){var e,t,n,r,a,i,o=this;if(0!==o.c)return d.ay;if(t=(e=o.e).length,r=(n=o.d).length-t-o.f,0===t)return d.ay;for(a=new h.aE(_.eo),i=0;i<t;++i)a.m(0,new h.d_(e[i]),n[r+i]);return new h.dl(a,_.gF)}},h.k4.prototype={$2(e,t){var n=this.a;n.b=n.b+"$"+h.b(e),this.b.push(e),this.c.push(t),++n.a},$S:68},h.ll.prototype={a8(e){var t,n,r=this,a=new RegExp(r.a).exec(e);return null==a?null:(t=Object.create(null),-1!==(n=r.b)&&(t.arguments=a[n+1]),-1!==(n=r.c)&&(t.argumentsExpr=a[n+1]),-1!==(n=r.d)&&(t.expr=a[n+1]),-1!==(n=r.e)&&(t.method=a[n+1]),-1!==(n=r.f)&&(t.receiver=a[n+1]),t)}},h.dG.prototype={k(e){var t=this.b;return null==t?"NoSuchMethodError: "+h.b(this.a):"NoSuchMethodError: method not found: '"+t+"' on null"}},h.eX.prototype={k(e){var t,n=this,r="NoSuchMethodError: method not found: '",a=n.b;return null==a?"NoSuchMethodError: "+h.b(n.a):null==(t=n.c)?r+a+"' ("+h.b(n.a)+")":r+a+"' on '"+t+"' ("+h.b(n.a)+")"}},h.ft.prototype={k(e){var t=this.a;return 0===t.length?"Error":"Error: "+t}},h.fe.prototype={k(e){return"Throw of null ('"+(null===this.a?"null":"undefined")+"' from JavaScript)"},$ia7:1},h.dp.prototype={},h.e8.prototype={k(e){var t,n=this.b;return null!=n?n:(t=null!==(n=this.a)&&"object"==typeof n?n.stack:null,this.b=null==t?"":t)},$iam:1},h.c6.prototype={k(e){var t=this.constructor,n=null==t?null:t.name;return"Closure '"+h.pW(null==n?"unknown":n)+"'"},$iaD:1,geB(){return this},$C:"$1",$R:1,$D:null},h.eH.prototype={$C:"$0",$R:0},h.eI.prototype={$C:"$2",$R:2},h.fp.prototype={},h.fn.prototype={k(e){var t=this.$static_name;return null==t?"Closure of unknown static method":"Closure '"+h.pW(t)+"'"}},h.cK.prototype={N(e,t){return null!=t&&(this===t||t instanceof h.cK&&this.$_target===t.$_target&&this.a===t.a)},gE(e){return(h.fX(this.a)^h.cX(this.$_target))>>>0},k(e){return"Closure '"+h.b(this.$_name)+"' of Instance of '"+h.b(h.k5(this.a))+"'"}},h.fm.prototype={k(e){return"RuntimeError: "+this.a}},h.me.prototype={},h.aE.prototype={gi(e){return this.a},gA(e){return 0===this.a},gM(){return new h.aM(this,h.C(this).h("aM<1>"))},gV(){var e=h.C(this);return h.jM(new h.aM(this,e.h("aM<1>")),new h.iO(this),e.c,e.z[1])},v(e){var t,n;return"string"==typeof e?null!=(t=this.b)&&null!=t[e]:"number"==typeof e&&(1073741823&e)===e?null!=(n=this.c)&&null!=n[e]:this.cI(e)},cI(e){var t=this.d;return null!=t&&this.bf(t[this.be(e)],e)>=0},j(e,t){var n,r,a,i=null;return"string"==typeof t?null==(n=this.b)||null==(r=n[t])?i:r.b:"number"==typeof t&&(1073741823&t)===t?null==(a=this.c)||null==(r=a[t])?i:r.b:this.cJ(t)},cJ(e){var t,n,r=this.d;return null==r?null:(t=r[this.be(e)],(n=this.bf(t,e))<0?null:t[n].b)},m(e,t,n){var r,a,i=this;"string"==typeof t?(r=i.b,i.c5(null==r?i.b=i.bE():r,t,n)):"number"==typeof t&&(1073741823&t)===t?(a=i.c,i.c5(null==a?i.c=i.bE():a,t,n)):i.cK(t,n)},cK(e,t){var n,r,a,i=this,o=i.d;null==o&&(o=i.d=i.bE()),null==(r=o[n=i.be(e)])?o[n]=[i.bF(e,t)]:(a=i.bf(r,e))>=0?r[a].b=t:r.push(i.bF(e,t))},bV(e,t){var n;return this.v(e)?this.j(0,e):(n=t.$0(),this.m(0,e,n),n)},L(e,t){for(var n=this,r=n.e,a=n.r;null!=r;){if(t.$2(r.a,r.b),a!==n.r)throw h.d(h.af(n));r=r.c}},c5(e,t,n){var r=e[t];null==r?e[t]=this.bF(t,n):r.b=n},bF(e,t){var n=this,r=new h.jJ(e,t);return null==n.e?n.e=n.f=r:n.f=n.f.c=r,++n.a,n.r=n.r+1&1073741823,r},be:e=>1073741823&f.bW(e),bf(e,t){var n,r;if(null==e)return-1;for(n=e.length,r=0;r<n;++r)if(f.aj(e[r].a,t))return r;return-1},k(e){return h.nn(this)},bE(){var e=Object.create(null);return e["<non-identifier-key>"]=e,delete e["<non-identifier-key>"],e}},h.iO.prototype={$1(e){return this.a.j(0,e)},$S(){return h.C(this.a).h("2(1)")}},h.jJ.prototype={},h.aM.prototype={gi(e){return this.a.a},gA(e){return 0===this.a.a},gD(e){var t=this.a,n=new h.cs(t,t.r,this.$ti.h("cs<1>"));return n.c=t.e,n},H(e,t){return this.a.v(t)}},h.cs.prototype={gt(){return this.d},p(){var e,t=this,n=t.a;if(t.b!==n.r)throw h.d(h.af(n));return null==(e=t.c)?(t.d=null,!1):(t.d=e.a,t.c=e.c,!0)},$iM:1},h.mQ.prototype={$1(e){return this.a(e)},$S:30},h.mR.prototype={$2(e,t){return this.a(e,t)},$S:33},h.mS.prototype={$1(e){return this.a(e)},$S:49},h.iJ.prototype={k(e){return"RegExp/"+this.a+"/"+this.b.flags},aR(e){var t;return"string"!=typeof e&&h.a0(h.cG(e)),null==(t=this.b.exec(e))?null:new h.mc(t)}},h.mc.prototype={},h.dD.prototype={dA(e,t,n,r){var a=h.X(t,0,n,r,null);throw h.d(a)},cc(e,t,n,r){(t>>>0!==t||t>n)&&this.dA(e,t,n,r)}},h.cW.prototype={gi:e=>e.length,dO(e,t,n,r,a){var i,o,s=e.length;if(this.cc(e,t,s,"start"),this.cc(e,n,s,"end"),t>n)throw h.d(h.X(t,0,n,null,null));if(i=n-t,a<0)throw h.d(h.R(a,null));if((o=r.length)-a<i)throw h.d(h.cZ("Not enough elements"));0===a&&o===i||(r=r.subarray(a,a+i)),e.set(r,t)},$iau:1},h.dC.prototype={j:(e,t)=>(h.bl(t,e,e.length),e[t]),m(e,t,n){h.bl(t,e,e.length),e[t]=n},$ip:1,$ij:1,$io:1},h.aw.prototype={m(e,t,n){h.bl(t,e,e.length),e[t]=n},a4(e,t,n,r,a){_.eB.b(r)?this.dO(e,t,n,r,a):this.d7(e,t,n,r,a)},d1(e,t,n,r){return this.a4(e,t,n,r,0)},$ip:1,$ij:1,$io:1},h.f4.prototype={a0:(e,t,n)=>new Float32Array(e.subarray(t,h.bP(t,n,e.length)))},h.f5.prototype={a0:(e,t,n)=>new Float64Array(e.subarray(t,h.bP(t,n,e.length)))},h.f6.prototype={j:(e,t)=>(h.bl(t,e,e.length),e[t]),a0:(e,t,n)=>new Int16Array(e.subarray(t,h.bP(t,n,e.length)))},h.f7.prototype={j:(e,t)=>(h.bl(t,e,e.length),e[t]),a0:(e,t,n)=>new Int32Array(e.subarray(t,h.bP(t,n,e.length)))},h.f8.prototype={j:(e,t)=>(h.bl(t,e,e.length),e[t]),a0:(e,t,n)=>new Int8Array(e.subarray(t,h.bP(t,n,e.length)))},h.f9.prototype={j:(e,t)=>(h.bl(t,e,e.length),e[t]),a0:(e,t,n)=>new Uint16Array(e.subarray(t,h.bP(t,n,e.length)))},h.fa.prototype={j:(e,t)=>(h.bl(t,e,e.length),e[t]),a0:(e,t,n)=>new Uint32Array(e.subarray(t,h.bP(t,n,e.length)))},h.dE.prototype={gi:e=>e.length,j:(e,t)=>(h.bl(t,e,e.length),e[t]),a0:(e,t,n)=>new Uint8ClampedArray(e.subarray(t,h.bP(t,n,e.length)))},h.cu.prototype={gi:e=>e.length,j:(e,t)=>(h.bl(t,e,e.length),e[t]),a0:(e,t,n)=>new Uint8Array(e.subarray(t,h.bP(t,n,e.length))),$icu:1,$ia6:1},h.e4.prototype={},h.e5.prototype={},h.e6.prototype={},h.e7.prototype={},h.aQ.prototype={h(e){return h.ml(g.typeUniverse,this,e)},I(e){return h.vl(g.typeUniverse,this,e)}},h.fG.prototype={},h.ed.prototype={k(e){return h.aA(this.a,null)},$ibi:1},h.fF.prototype={k(e){return this.a}},h.ee.prototype={$iaX:1},h.lO.prototype={$1(e){var t=this.a,n=t.a;t.a=null,n.$0()},$S:15},h.lN.prototype={$1(e){var t,n;this.a.a=e,t=this.b,n=this.c,t.firstChild?t.removeChild(n):t.appendChild(n)},$S:121},h.lP.prototype={$0(){this.a.$0()},$S:2},h.lQ.prototype={$0(){this.a.$0()},$S:2},h.mj.prototype={dc(e,t){if(null==a.setTimeout)throw h.d(h.ac("`setTimeout()` not found."));a.setTimeout(h.mH(new h.mk(this,t),0),e)}},h.mk.prototype={$0(){this.b.$0()},$S:1},h.fz.prototype={a2(e){var t,n=this;n.b?(t=n.a,n.$ti.h("a5<1>").b(e)?t.ca(e):t.bx(e)):n.a.af(e)},bH(e,t){var n;null==t&&(t=h.eE(e)),n=this.a,this.b?n.az(e,t):n.b1(e,t)}},h.mp.prototype={$1(e){return this.a.$2(0,e)},$S:34},h.mq.prototype={$2(e,t){this.a.$2(1,new h.dp(e,t))},$S:42},h.mG.prototype={$2(e,t){this.a(e,t)},$S:48},h.d3.prototype={k(e){return"IterationMarker("+this.b+", "+h.b(this.a)+")"}},h.aG.prototype={gt(){var e=this.c;return null==e?this.b:e.gt()},p(){for(var e,t,n,r,a,i=this;;){if(null!=(e=i.c)){if(e.p())return!0;i.c=null}if(!((t=function(e,t,n){for(var r,a=0;;)try{return e(a,r)}catch(e){r=e,a=1}}(i.a))instanceof h.d3))return i.b=t,!0;if(2!==(n=t.b)){if(e=t.a,3===n)throw e;(a=f.aC(e))instanceof h.aG?(null==(e=i.d)&&(e=i.d=[]),e.push(i.a),i.a=a.a):i.c=a}else{if(null==(r=i.d)||0===r.length)return i.b=null,!1;i.a=r.pop()}}return!1},$iM:1},h.ec.prototype={gD(e){return new h.aG(this.a(),this.$ti.h("aG<1>"))}},h.eD.prototype={k(e){return h.b(this.a)},$iG:1,gaZ(){return this.b}},h.fC.prototype={bH(e,t){var n;if(h.bS(e,"error",_.K),0!=(30&(n=this.a).a))throw h.d(h.cZ("Future already completed"));null==t&&(t=h.eE(e)),n.b1(e,t)},P(e){return this.bH(e,null)}},h.ay.prototype={a2(e){var t=this.a;if(0!=(30&t.a))throw h.d(h.cZ("Future already completed"));t.af(e)},b9(){return this.a2(null)}},h.bK.prototype={e8(e){return 6!=(15&this.c)||this.b.b.bY(this.d,e.a)},e3(e){var t,n,r=this.e,a=this.b.b;n=_.C.b(r)?a.eh(r,e.a,e.b):a.bY(r,e.a);try{return n}catch(t){if(_.eK.b(h.K(t))){if(0!=(1&this.c))throw h.d(h.R("The error handler of Future.then must return a value of the returned future's type","onError"));throw h.d(h.R("The error handler of Future.catchError must return a value of the future's type","onError"))}throw t}}},h.B.prototype={ar(e,t,n,r){var a,i,o=m.A;if(o===d.i){if(null!=n&&!_.C.b(n)&&!_.v.b(n))throw h.d(h.h5(n,"onError",b.c))}else null!=n&&(n=h.wc(n,o));return a=new h.B(o,r.h("B<0>")),i=null==n?1:3,this.b0(new h.bK(a,i,t,n,this.$ti.h("@<1>").I(r).h("bK<1,2>"))),a},cY(e,t,n){return this.ar(e,t,null,n)},cs(e,t,n){var r=new h.B(m.A,n.h("B<0>"));return this.b0(new h.bK(r,3,e,t,this.$ti.h("@<1>").I(n).h("bK<1,2>"))),r},bm(e){var t=this.$ti,n=new h.B(m.A,t);return this.b0(new h.bK(n,8,e,null,t.h("@<1>").I(t.c).h("bK<1,2>"))),n},dM(e){this.a=1&this.a|16,this.c=e},bv(e){this.a=30&e.a|1&this.a,this.c=e.c},b0(e){var t=this,n=t.a;if(n<=3)e.a=t.c,t.c=e;else{if(0!=(4&n)){if(0==(24&(n=t.c).a))return void n.b0(e);t.bv(n)}h.df(null,null,t.b,new h.lW(t,e))}},cn(e){var t,n,r,a,i,o=this,s={};if(s.a=e,null!=e)if((t=o.a)<=3){if(n=o.c,o.c=e,null!=n){for(r=e.a,a=e;null!=r;a=r,r=i)i=r.a;a.a=n}}else{if(0!=(4&t)){if(0==(24&(t=o.c).a))return void t.cn(e);o.bv(t)}s.a=o.b8(e),h.df(null,null,o.b,new h.m2(s,o))}},b7(){var e=this.c;return this.c=null,this.b8(e)},b8(e){var t,n,r;for(t=e,n=null;null!=t;n=t,t=r)r=t.a,t.a=n;return n},c9(e){var t,n,r,a=this;a.a^=2;try{e.ar(0,new h.lZ(a),new h.m_(a),_.P)}catch(r){t=h.K(r),n=h.aR(r),h.pT(new h.m0(a,t,n))}},bx(e){var t=this,n=t.b7();t.a=8,t.c=e,h.d2(t,n)},az(e,t){var n=this.b7();this.dM(h.h8(e,t)),h.d2(this,n)},af(e){this.$ti.h("a5<1>").b(e)?this.ca(e):this.dg(e)},dg(e){this.a^=2,h.df(null,null,this.b,new h.lY(this,e))},ca(e){var t=this;t.$ti.b(e)?0!=(16&e.a)?(t.a^=2,h.df(null,null,t.b,new h.m1(t,e))):h.nr(e,t):t.c9(e)},b1(e,t){this.a^=2,h.df(null,null,this.b,new h.lX(this,e,t))},$ia5:1},h.lW.prototype={$0(){h.d2(this.a,this.b)},$S:1},h.m2.prototype={$0(){h.d2(this.b,this.a.a)},$S:1},h.lZ.prototype={$1(e){var t,n,r,a=this.a;a.a^=2;try{a.bx(a.$ti.c.a(e))}catch(r){t=h.K(r),n=h.aR(r),a.az(t,n)}},$S:15},h.m_.prototype={$2(e,t){this.a.az(e,t)},$S:51},h.m0.prototype={$0(){this.a.az(this.b,this.c)},$S:1},h.lY.prototype={$0(){this.a.bx(this.b)},$S:1},h.m1.prototype={$0(){h.nr(this.b,this.a)},$S:1},h.lX.prototype={$0(){this.a.az(this.b,this.c)},$S:1},h.m5.prototype={$0(){var e,t,n,r,a,i,o=this,s=null;try{s=(n=o.a.a).b.b.cV(n.d)}catch(r){return e=h.K(r),t=h.aR(r),o.c?(a=e,n=a=null==(n=o.b.a.c.a)?null==a:n===a):n=!1,(a=o.a).c=n?o.b.a.c:h.h8(e,t),void(a.b=!0)}s instanceof h.B&&0!=(24&s.a)?0!=(16&s.a)&&((n=o.a).c=s.c,n.b=!0):_.d.b(s)&&(i=o.b.a,(n=o.a).c=f.tt(s,new h.m6(i),_.z),n.b=!1)},$S:1},h.m6.prototype={$1(e){return this.a},$S:52},h.m4.prototype={$0(){var e,t,n,r,a;try{r=(n=this.a).a,n.c=r.b.b.bY(r.d,this.b)}catch(a){e=h.K(a),t=h.aR(a),(n=this.a).c=h.h8(e,t),n.b=!0}},$S:1},h.m3.prototype={$0(){var e,t,n,r,a,i,o,s,l=this;try{e=l.a.a.c,(r=l.b).a.e8(e)&&null!=r.a.e&&(r.c=r.a.e3(e),r.b=!1)}catch(a){t=h.K(a),n=h.aR(a),i=(r=l.a.a.c).a,o=t,(s=l.b).c=(null==i?null==o:i===o)?r:h.h8(t,n),s.b=!0}},$S:1},h.fA.prototype={},h.bg.prototype={gi(e){var t={},n=new h.B(m.A,_.fJ);return t.a=0,this.bP(new h.lh(t,this),!0,new h.li(t,n),n.gdk()),n}},h.lf.prototype={$1(e){var t=this.a;t.aH(e),t.aI()},$S(){return this.b.h("k(0)")}},h.lg.prototype={$2(e,t){var n=this.a;n.b_(e,t),n.aI()},$S:54},h.lh.prototype={$1(e){++this.a.a},$S(){return this.b.$ti.h("~(1)")}},h.li.prototype={$0(){var e=this.b,t=this.a.a,n=e.b7();e.a=8,e.c=t,h.d2(e,n)},$S:1},h.fo.prototype={},h.d7.prototype={gdH(){return 0==(8&this.b)?this.a:this.a.gc0()},b2(){var e,t=this;return 0==(8&t.b)?null==(e=t.a)?t.a=new h.ea:e:e=t.a.gc0()},gaB(){var e=this.a;return 0!=(8&this.b)?e.gc0():e},bs(){return 0!=(4&this.b)?new h.bG("Cannot add event after closing"):new h.bG("Cannot add event while adding a stream")},ce(){var e=this.c;return null==e&&(e=this.c=0!=(2&this.b)?m.fZ():new h.B(m.A,_.D)),e},C(e,t){if(this.b>=4)throw h.d(this.bs());this.aH(t)},a6(){var e=this,t=e.b;if(0!=(4&t))return e.ce();if(t>=4)throw h.d(e.bs());return e.aI(),e.ce()},aI(){var e=this.b|=4;0!=(1&e)?this.aM():0==(3&e)&&this.b2().C(0,d.M)},aH(e){var t=this.b;0!=(1&t)?this.aA(e):0==(3&t)&&this.b2().C(0,new h.cD(e))},b_(e,t){var n=this.b;0!=(1&n)?this.aN(e,t):0==(3&n)&&this.b2().C(0,new h.dU(e,t))},dR(e,t,n,r){var a,i,o,s,l,u,c=this;if(0!=(3&c.b))throw h.d(h.cZ("Stream has already been listened to."));return a=m.A,i=r?1:0,o=h.v5(a,t),s=new h.dT(c,e,o,n,a,i),l=c.gdH(),0!=(8&(a=c.b|=1))?((u=c.a).sc0(s),u.aq()):c.a=s,s.dN(l),s.bC(new h.mi(c)),s},dJ(e){var t,n,r,a,i,o,s,l=this,u=null;if(0!=(8&l.b)&&(u=l.a.K()),l.a=null,l.b=4294967286&l.b|2,null!=(t=l.r))if(null==u)try{n=t.$0(),_.bq.b(n)&&(u=n)}catch(i){r=h.K(i),a=h.aR(i),(o=new h.B(m.A,_.D)).b1(r,a),u=o}else u=u.bm(t);return s=new h.mh(l),null!=u?u=u.bm(s):s.$0(),u}},h.mi.prototype={$0(){h.nD(this.a.d)},$S:1},h.mh.prototype={$0(){var e=this.a.c;null!=e&&0==(30&e.a)&&e.af(null)},$S:1},h.fP.prototype={aA(e){this.gaB().aH(e)},aN(e,t){this.gaB().b_(e,t)},aM(){this.gaB().dj()}},h.fB.prototype={aA(e){this.gaB().aw(new h.cD(e))},aN(e,t){this.gaB().aw(new h.dU(e,t))},aM(){this.gaB().aw(d.M)}},h.b_.prototype={},h.d8.prototype={},h.ah.prototype={gE(e){return(892482866^h.cX(this.a))>>>0},N(e,t){return null!=t&&(this===t||t instanceof h.ah&&t.a===this.a)}},h.dT.prototype={ck(){return this.w.dJ(this)},b5(){var e=this.w;0!=(8&e.b)&&e.a.aV(),h.nD(e.e)},b6(){var e=this.w;0!=(8&e.b)&&e.a.aq(),h.nD(e.f)}},h.dP.prototype={dN(e){var t=this;null!=e&&(t.r=e,null!=e.c&&(t.e=(64|t.e)>>>0,e.aY(t)))},cS(e){var t,n,r=this,a=r.e;0==(8&a)&&(t=(a+128|4)>>>0,r.e=t,a<128&&null!=(n=r.r)&&1===n.a&&(n.a=3),0==(4&a)&&0==(32&t)&&r.bC(r.gcl()))},aV(){return this.cS(null)},aq(){var e=this,t=e.e;0==(8&t)&&t>=128&&(t=e.e=t-128)<128&&(0!=(64&t)&&null!=e.r.c?e.r.aY(e):(t=(4294967291&t)>>>0,e.e=t,0==(32&t)&&e.bC(e.gcm())))},K(){var e=this,t=(4294967279&e.e)>>>0;return e.e=t,0==(8&t)&&e.bt(),null==(t=e.f)?m.fZ():t},bt(){var e,t=this,n=t.e=(8|t.e)>>>0;0!=(64&n)&&1===(e=t.r).a&&(e.a=3),0==(32&n)&&(t.r=null),t.f=t.ck()},aH(e){var t=this.e;0==(8&t)&&(t<32?this.aA(e):this.aw(new h.cD(e)))},b_(e,t){var n=this.e;0==(8&n)&&(n<32?this.aN(e,t):this.aw(new h.dU(e,t)))},dj(){var e=this,t=e.e;0==(8&t)&&(t=(2|t)>>>0,e.e=t,t<32?e.aM():e.aw(d.M))},b5(){},b6(){},ck:()=>null,aw(e){var t,n=this,r=n.r;null==r&&(r=new h.ea),n.r=r,r.C(0,e),0==(64&(t=n.e))&&(t=(64|t)>>>0,n.e=t,t<128&&r.aY(n))},aA(e){var t=this,n=t.e;t.e=(32|n)>>>0,t.d.cX(t.a,e),t.e=(4294967263&t.e)>>>0,t.bu(0!=(4&n))},aN(e,t){var n,r=this,a=r.e,i=new h.lT(r,e,t);0!=(1&a)?(r.e=(16|a)>>>0,r.bt(),null!=(n=r.f)&&n!==m.fZ()?n.bm(i):i.$0()):(i.$0(),r.bu(0!=(4&a)))},aM(){var e,t=this,n=new h.lS(t);t.bt(),t.e=(16|t.e)>>>0,null!=(e=t.f)&&e!==m.fZ()?e.bm(n):n.$0()},bC(e){var t=this,n=t.e;t.e=(32|n)>>>0,e.$0(),t.e=(4294967263&t.e)>>>0,t.bu(0!=(4&n))},bu(e){var t,n,r=this,a=r.e;for(0!=(64&a)&&null==r.r.c&&(t=0!=(4&(a=r.e=(4294967231&a)>>>0))&&a<128&&!1!==(t=null==(t=r.r)?null:null==t.c))&&(a=(4294967291&a)>>>0,r.e=a);;e=n){if(0!=(8&a))return void(r.r=null);if(e===(n=0!=(4&a)))break;r.e=(32^a)>>>0,n?r.b5():r.b6(),a=(4294967263&r.e)>>>0,r.e=a}0!=(64&a)&&a<128&&r.r.aY(r)}},h.lT.prototype={$0(){var e,t,n=this.a,r=n.e;0!=(8&r)&&0==(16&r)||(n.e=(32|r)>>>0,e=n.b,r=this.b,t=n.d,_.k.b(e)?t.ek(e,r,this.c):t.cX(e,r),n.e=(4294967263&n.e)>>>0)},$S:1},h.lS.prototype={$0(){var e=this.a,t=e.e;0!=(16&t)&&(e.e=(42|t)>>>0,e.d.cW(e.c),e.e=(4294967263&e.e)>>>0)},$S:1},h.e9.prototype={bP(e,t,n,r){return this.a.dR(e,r,n,!0===t)},bO(e,t,n){return this.bP(e,null,t,n)},e6(e,t){return this.bP(e,null,t,null)}},h.fE.prototype={gaE(){return this.a},saE(e){return this.a=e}},h.cD.prototype={bT(e){e.aA(this.b)}},h.dU.prototype={bT(e){e.aN(this.b,this.c)}},h.lU.prototype={bT(e){e.aM()},gaE:()=>null,saE(e){throw h.d(h.cZ("No events after a done."))}},h.fK.prototype={aY(e){var t=this,n=t.a;1!==n&&(n>=1||h.pT(new h.md(t,e)),t.a=1)}},h.md.prototype={$0(){var e,t,n=this.a,r=n.a;n.a=0,3!==r&&(t=(e=n.b).gaE(),n.b=t,null==t&&(n.c=null),e.bT(this.b))},$S:1},h.ea.prototype={C(e,t){var n=this,r=n.c;null==r?n.b=n.c=t:(r.saE(t),n.c=t)}},h.fN.prototype={},h.mo.prototype={},h.mD.prototype={$0(){h.tV(this.a,this.b),h.aW(b.g)},$S:1},h.mf.prototype={cW(e){var t,n,r;try{if(d.i===m.A)return void e.$0();h.pv(null,null,this,e)}catch(r){t=h.K(r),n=h.aR(r),h.de(t,n)}},em(e,t){var n,r,a;try{if(d.i===m.A)return void e.$1(t);h.px(null,null,this,e,t)}catch(a){n=h.K(a),r=h.aR(a),h.de(n,r)}},cX(e,t){return this.em(e,t,_.z)},ej(e,t,n){var r,a,i;try{if(d.i===m.A)return void e.$2(t,n);h.pw(null,null,this,e,t,n)}catch(i){r=h.K(i),a=h.aR(i),h.de(r,a)}},ek(e,t,n){return this.ej(e,t,n,_.z,_.z)},cu(e){return new h.mg(this,e)},eg(e){return m.A===d.i?e.$0():h.pv(null,null,this,e)},cV(e){return this.eg(e,_.z)},el(e,t){return m.A===d.i?e.$1(t):h.px(null,null,this,e,t)},bY(e,t){return this.el(e,t,_.z,_.z)},ei(e,t,n){return m.A===d.i?e.$2(t,n):h.pw(null,null,this,e,t,n)},eh(e,t,n){return this.ei(e,t,n,_.z,_.z,_.z)},ed:e=>e,bX(e){return this.ed(e,_.z,_.z,_.z)}},h.mg.prototype={$0(){return this.a.cW(this.b)},$S:1},h.dY.prototype={gi(e){return this.a},gA(e){return 0===this.a},gM(){return new h.dZ(this,this.$ti.h("dZ<1>"))},v(e){var t,n;return"string"==typeof e&&"__proto__"!==e?null!=(t=this.b)&&null!=t[e]:"number"==typeof e&&(1073741823&e)===e?null!=(n=this.c)&&null!=n[e]:this.dn(e)},dn(e){var t=this.d;return null!=t&&this.am(this.cf(t,e),e)>=0},j(e,t){var n,r;return"string"==typeof t&&"__proto__"!==t?null==(n=this.b)?null:h.p6(n,t):"number"==typeof t&&(1073741823&t)===t?null==(r=this.c)?null:h.p6(r,t):this.ds(t)},ds(e){var t,n,r=this.d;return null==r?null:(t=this.cf(r,e),(n=this.am(t,e))<0?null:t[n+1])},m(e,t,n){var r,a,i,o,s,l=this;"string"==typeof t&&"__proto__"!==t?(r=l.b,l.df(null==r?l.b=h.p7():r,t,n)):(null==(a=l.d)&&(a=l.d=h.p7()),null==(o=a[i=1073741823&h.fX(t)])?(h.ns(a,i,[t,n]),++l.a,l.e=null):(s=l.am(o,t))>=0?o[s+1]=n:(o.push(t,n),++l.a,l.e=null))},L(e,t){var n,r,a,i=this,o=i.cd();for(n=o.length,r=0;r<n;++r)if(a=o[r],t.$2(a,i.j(0,a)),o!==i.e)throw h.d(h.af(i))},cd(){var e,t,n,r,a,i,o,s,l,u,c=this,f=c.e;if(null!=f)return f;if(f=h.S(c.a,null,!1,_.z),null!=(e=c.b))for(n=(t=Object.getOwnPropertyNames(e)).length,r=0,a=0;a<n;++a)f[r]=t[a],++r;else r=0;if(null!=(i=c.c))for(n=(t=Object.getOwnPropertyNames(i)).length,a=0;a<n;++a)f[r]=+t[a],++r;if(null!=(o=c.d))for(n=(t=Object.getOwnPropertyNames(o)).length,a=0;a<n;++a)for(l=(s=o[t[a]]).length,u=0;u<l;u+=2)f[r]=s[u],++r;return c.e=f},df(e,t,n){null==e[t]&&(++this.a,this.e=null),h.ns(e,t,n)},cf:(e,t)=>e[1073741823&h.fX(t)]},h.e0.prototype={am(e,t){var n,r,a;if(null==e)return-1;for(n=e.length,r=0;r<n;r+=2)if(null==(a=e[r])?null==t:a===t)return r;return-1}},h.dZ.prototype={gi(e){return this.a.a},gA(e){return 0===this.a.a},gD(e){var t=this.a;return new h.e_(t,t.cd(),this.$ti.h("e_<1>"))},H(e,t){return this.a.v(t)}},h.e_.prototype={gt(){return this.d},p(){var e=this,t=e.b,n=e.c,r=e.a;if(t!==r.e)throw h.d(h.af(r));return n>=t.length?(e.d=null,!1):(e.d=t[n],e.c=n+1,!0)},$iM:1},h.e1.prototype={j(e,t){return this.y.$1(t)?this.d4(t):null},m(e,t,n){this.d5(t,n)},v(e){return!!this.y.$1(e)&&this.d3(e)},be(e){return 1073741823&this.x.$1(e)},bf(e,t){var n,r,a;if(null==e)return-1;for(n=e.length,r=this.w,a=0;a<n;++a)if(r.$2(e[a].a,t))return a;return-1}},h.ma.prototype={$1(e){return this.a.b(e)},$S:62},h.b0.prototype={gD(e){var t=this,n=new h.e2(t,t.r,h.C(t).h("e2<1>"));return n.c=t.e,n},gi(e){return this.a},gA(e){return 0===this.a},ga7(e){return 0!==this.a},H(e,t){var n,r;return"string"==typeof t&&"__proto__"!==t?null!=(n=this.b)&&null!=n[t]:"number"==typeof t&&(1073741823&t)===t?null!=(r=this.c)&&null!=r[t]:this.dm(t)},dm(e){var t=this.d;return null!=t&&this.am(t[this.by(e)],e)>=0},C(e,t){var n,r,a=this;return"string"==typeof t&&"__proto__"!==t?(n=a.b,a.c7(null==n?a.b=h.nt():n,t)):"number"==typeof t&&(1073741823&t)===t?(r=a.c,a.c7(null==r?a.c=h.nt():r,t)):a.dd(t)},dd(e){var t,n,r=this,a=r.d;if(null==a&&(a=r.d=h.nt()),null==(n=a[t=r.by(e)]))a[t]=[r.bw(e)];else{if(r.am(n,e)>=0)return!1;n.push(r.bw(e))}return!0},ee(e,t){var n=this;return"string"==typeof t&&"__proto__"!==t?n.co(n.b,t):"number"==typeof t&&(1073741823&t)===t?n.co(n.c,t):n.dK(t)},dK(e){var t,n,r,a,i=this,o=i.d;return null!=o&&(n=o[t=i.by(e)],!((r=i.am(n,e))<0||(a=n.splice(r,1)[0],0===n.length&&delete o[t],i.ct(a),0)))},dr(e,t){for(var n,r,a,i,o=this,s=o.e;null!=s;s=r){if(n=s.a,r=s.b,a=o.r,i=e.$1(n),a!==o.r)throw h.d(h.af(o));!1===i&&o.ee(0,n)}},cv(e){var t=this;t.a>0&&(t.b=t.c=t.d=t.e=t.f=null,t.a=0,t.bD())},c7(e,t){return null==e[t]&&(e[t]=this.bw(t),!0)},co(e,t){var n;return null!=e&&null!=(n=e[t])&&(this.ct(n),delete e[t],!0)},bD(){this.r=this.r+1&1073741823},bw(e){var t,n=this,r=new h.mb(e);return null==n.e?n.e=n.f=r:((t=n.f).toString,r.c=t,n.f=t.b=r),++n.a,n.bD(),r},ct(e){var t=this,n=e.c,r=e.b;null==n?t.e=r:n.b=r,null==r?t.f=n:r.c=n,--t.a,t.bD()},by:e=>1073741823&f.bW(e),am(e,t){var n,r;if(null==e)return-1;for(n=e.length,r=0;r<n;++r)if(f.aj(e[r].a,t))return r;return-1}},h.mb.prototype={},h.e2.prototype={gt(){return this.d},p(){var e=this,t=e.c,n=e.a;if(e.b!==n.r)throw h.d(h.af(n));return null==t?(e.d=null,!1):(e.d=t.a,e.c=t.b,!0)},$iM:1},h.aY.prototype={ah(e,t){return new h.aY(f.nf(this.a,t),t.h("aY<0>"))},gi(e){return f.a3(this.a)},j(e,t){return f.eA(this.a,t)}},h.du.prototype={},h.dy.prototype={$ip:1,$ij:1,$io:1},h.n.prototype={gD(e){return new h.a9(e,this.gi(e),h.ai(e).h("a9<n.E>"))},T(e,t){return this.j(e,t)},gA(e){return 0===this.gi(e)},ga7(e){return!this.gA(e)},gcD(e){if(0===this.gi(e))throw h.d(h.ni());return this.j(e,0)},H(e,t){var n,r=this.gi(e);for(n=0;n<r;++n){if(f.aj(this.j(e,n),t))return!0;if(r!==this.gi(e))throw h.d(h.af(e))}return!1},ba(e,t){var n,r=this.gi(e);for(n=0;n<r;++n){if(!t.$1(this.j(e,n)))return!1;if(r!==this.gi(e))throw h.d(h.af(e))}return!0},aP(e,t){var n,r=this.gi(e);for(n=0;n<r;++n){if(t.$1(this.j(e,n)))return!0;if(r!==this.gi(e))throw h.d(h.af(e))}return!1},aj:(e,t,n)=>new h.aa(e,t,h.ai(e).h("@<n.E>").I(n).h("aa<1,2>")),a5:(e,t)=>h.dM(e,t,null,h.ai(e).h("n.E")),aW(e,t){var n,r,a,i=this;if(i.gA(e))return f.b8(0,h.ai(e).h("n.E"));for(n=i.j(e,0),r=h.S(i.gi(e),n,!1,h.ai(e).h("n.E")),a=1;a<i.gi(e);++a)r[a]=i.j(e,a);return r},bZ(e){var t,n=h.ox(h.ai(e).h("n.E"));for(t=0;t<this.gi(e);++t)n.C(0,this.j(e,t));return n},C(e,t){var n=this.gi(e);this.si(e,n+1),this.m(e,n,t)},ah:(e,t)=>new h.b5(e,h.ai(e).h("@<n.E>").I(t).h("b5<1,2>")),a0(e,t,n){var r=this.gi(e);return h.aP(t,n,r),h.ut(this.aX(e,t,n),h.ai(e).h("n.E"))},aX(e,t,n){return h.aP(t,n,this.gi(e)),h.dM(e,t,n,h.ai(e).h("n.E"))},e1(e,t,n,r){var a;for(h.aP(t,n,this.gi(e)),a=t;a<n;++a)this.m(e,a,r)},a4(e,t,n,r,a){var i,o,s,l,u;if(h.aP(t,n,this.gi(e)),0!=(i=n-t)){if(h.aV(a,"skipCount"),h.ai(e).h("o<n.E>").b(r)?(o=a,s=r):(s=f.og(r,a).aW(0,!1),o=0),o+i>(l=f.T(s)).gi(s))throw h.d(h.u5());if(o<t)for(u=i-1;u>=0;--u)this.m(e,t+u,l.j(s,o+u));else for(u=0;u<i;++u)this.m(e,t+u,l.j(s,o+u))}},bN(e,t){var n;for(n=0;n<this.gi(e);++n)if(f.aj(this.j(e,n),t))return n;return-1},k:e=>h.iH(e,"[","]")},h.dz.prototype={},h.jK.prototype={$2(e,t){var n,r=this.a;r.a||(this.b.a+=", "),r.a=!1,n=(r=this.b).a+=h.b(e),r.a=n+": ",r.a+=h.b(t)},$S:63},h.I.prototype={ai(e,t,n){var r=h.C(this);return h.oA(this,r.h("I.K"),r.h("I.V"),t,n)},L(e,t){var n,r;for(n=(n=this.gM()).gD(n);n.p();)r=n.gt(),t.$2(r,this.j(0,r))},ge0(){return this.gM().aj(0,new h.jL(this),h.C(this).h("cU<I.K,I.V>"))},v(e){return this.gM().H(0,e)},gi(e){var t=this.gM();return t.gi(t)},gA(e){var t=this.gM();return t.gA(t)},k(e){return h.nn(this)},$ih:1},h.jL.prototype={$1(e){var t=this.a,n=h.C(t);return new h.cU(e,t.j(0,e),n.h("@<I.K>").I(n.h("I.V")).h("cU<1,2>"))},$S(){return h.C(this.a).h("cU<I.K,I.V>(I.K)")}},h.fS.prototype={m(e,t,n){throw h.d(h.ac("Cannot modify unmodifiable map"))}},h.dA.prototype={ai(e,t,n){return this.a.ai(0,t,n)},j(e,t){return this.a.j(0,t)},m(e,t,n){this.a.m(0,t,n)},v(e){return this.a.v(e)},L(e,t){this.a.L(0,t)},gA(e){var t=this.a;return t.gA(t)},gi(e){var t=this.a;return t.gi(t)},gM(){return this.a.gM()},k(e){return this.a.k(0)},$ih:1},h.bk.prototype={ai(e,t,n){return new h.bk(this.a.ai(0,t,n),t.h("@<0>").I(n).h("bk<1,2>"))}},h.cY.prototype={gA(e){return 0===this.gi(this)},ga7(e){return 0!==this.gi(this)},F(e,t){var n;for(n=f.aC(t);n.p();)this.C(0,n.gt())},aj(e,t,n){return new h.c7(this,t,h.C(this).h("@<1>").I(n).h("c7<1,2>"))},k(e){return h.iH(this,"{","}")},ba(e,t){var n;for(n=this.gD(this);n.p();)if(!t.$1(n.gt()))return!1;return!0},a5(e,t){return h.oT(this,t,h.C(this).c)},bb(e,t,n){var r,a;for(r=this.gD(this);r.p();)if(a=r.gt(),t.$1(a))return a;return n.$0()},T(e,t){var n,r,a,i="index";for(h.bS(t,i,_.S),h.aV(t,i),n=this.gD(this),r=0;n.p();){if(a=n.gt(),t===r)return a;++r}throw h.d(h.eS(t,this,i,null,r))}},h.d5.prototype={$ip:1,$ij:1,$icz:1},h.fT.prototype={C:(e,t)=>(h.vo(),h.aW(b.g))},h.ei.prototype={H(e,t){return this.a.v(t)},gD(e){var t=this.a.gM();return t.gD(t)},gi(e){var t=this.a;return t.gi(t)}},h.e3.prototype={},h.eh.prototype={},h.em.prototype={},h.en.prototype={},h.fI.prototype={j(e,t){var n,r=this.b;return null==r?this.c.j(0,t):"string"!=typeof t?null:void 0===(n=r[t])?this.dI(t):n},gi(e){return null==this.b?this.c.a:this.aJ().length},gA(e){return 0===this.gi(this)},gM(){if(null==this.b){var e=this.c;return new h.aM(e,h.C(e).h("aM<1>"))}return new h.fJ(this)},m(e,t,n){var r,a,i=this;null==i.b?i.c.m(0,t,n):i.v(t)?((r=i.b)[t]=n,(null==(a=i.a)?null!=r:a!==r)&&(a[t]=null)):i.dS().m(0,t,n)},v(e){return null==this.b?this.c.v(e):"string"==typeof e&&Object.prototype.hasOwnProperty.call(this.a,e)},L(e,t){var n,r,a,i,o=this;if(null==o.b)return o.c.L(0,t);for(n=o.aJ(),r=0;r<n.length;++r)if(a=n[r],void 0===(i=o.b[a])&&(i=h.ms(o.a[a]),o.b[a]=i),t.$2(a,i),n!==o.c)throw h.d(h.af(o))},aJ(){var e=this.c;return null==e&&(e=this.c=h.a(Object.keys(this.a),_.s)),e},dS(){var e,t,n,r,a,i=this;if(null==i.b)return i.c;for(e=h.a8(_.R,_.z),t=i.aJ(),n=0;n<(r=t.length);++n)a=t[n],e.m(0,a,i.j(0,a));return 0===r?t.push(""):d.d.si(t,0),i.a=i.b=null,i.c=e},dI(e){var t;return Object.prototype.hasOwnProperty.call(this.a,e)?(t=h.ms(this.a[e]),this.b[e]=t):null}},h.fJ.prototype={gi(e){var t=this.a;return t.gi(t)},T(e,t){var n=this.a;return null==n.b?n.gM().T(0,t):n.aJ()[t]},gD(e){var t=this.a;return null==t.b?t=(t=t.gM()).gD(t):(t=t.aJ(),t=new f.b4(t,t.length,h.Z(t).h("b4<1>"))),t},H(e,t){return this.a.v(t)}},h.m9.prototype={a6(){var e,t,n,r=this;r.d9(),t=(e=r.a).a,e.a="",(n=(e=r.c).b).push(h.pu((t.charCodeAt(0),t),r.b)),e.a.$1(n)}},h.lv.prototype={$0(){try{return new TextDecoder("utf-8",{fatal:!0})}catch(e){}return null},$S:6},h.lu.prototype={$0(){try{return new TextDecoder("utf-8",{fatal:!1})}catch(e){}return null},$S:6},h.h9.prototype={ea(e,t,n){var r,a,i,o,s,l,u,c,f,p,g,b,_,v,y,x,A="Invalid base64 encoding length ";for(n=h.aP(t,n,e.length),r=m.oa(),i=a=t,o=null,s=-1,l=-1,u=0;a<n;a=c){if(c=a+1,37===(f=d.a.J(e,a))?(p=c+2)<=n?(37===(g=h.pP(e,c))&&(g=-1),c=p):g=-1:g=f,0<=g&&g<=127){if((b=r[g])>=0){if((g=d.a.B("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b))===f)continue;f=g}else{if(-1===b&&(s<0&&(null==(_=null==o?null:o.a.length)&&(_=0),s=_+(a-i),l=a),++u,61===f))continue;f=g}if(-2!==b){v=(_=null==o?o=new h.ab(""):o).a+=d.a.u(e,i,a),_.a=v+h.bd(f),i=c;continue}}throw h.d(h.P("Invalid base64 data",e,a))}if(null!=o){if(v=(_=o.a+=d.a.u(e,i,n)).length,s>=0)h.oj(e,l,n,s,u,v);else{if(1===(y=d.c.bo(v-1,4)+1))throw h.d(h.P(A,e,n));for(;y<4;)_+="=",o.a=_,++y}return _=o.a,d.a.aF(e,t,n,(_.charCodeAt(0),_))}if(x=n-t,s>=0)h.oj(e,l,n,s,u,x);else{if(1===(y=d.c.bo(x,4)))throw h.d(h.P(A,e,n));y>1&&(e=d.a.aF(e,n,n,2===y?"==":"="))}return e}},h.hb.prototype={},h.ha.prototype={dX(e,t){var n,r,a,i=h.aP(t,null,e.length);return t===i?new Uint8Array(0):((r=(n=new h.lR).dZ(e,t,i)).toString,(a=n.a)<-1&&h.a0(h.P("Missing padding character",e,i)),a>0&&h.a0(h.P("Invalid length, must be multiple of four",e,i)),n.a=-1,r)}},h.lR.prototype={dZ(e,t,n){var r,a=this,i=a.a;return i<0?(a.a=h.p4(e,t,n,i),null):t===n?new Uint8Array(0):(r=h.v2(e,t,n,i),a.a=h.v4(e,t,n,r,0,a.a),r)}},h.hc.prototype={},h.eF.prototype={},h.fL.prototype={},h.eJ.prototype={},h.eL.prototype={},h.hV.prototype={},h.iP.prototype={dY(e){return h.pu(e,this.gcB().a)},gcB:()=>d.bY},h.iQ.prototype={},h.lj.prototype={},h.lk.prototype={},h.eb.prototype={a6(){}},h.mm.prototype={a6(){this.a.e2(this.c),this.b.a6()},dT(e,t,n,r){this.c.a+=this.a.cA(e,t,n,!1)}},h.ls.prototype={},h.lt.prototype={dW(e){var t=this.a,n=h.uX(t,e,0,null);return null!=n?n:new h.fU(t).cA(e,0,null,!0)}},h.fU.prototype={cA(e,t,n,r){var a,i,o,s,l,u=this,c=h.aP(t,n,f.a3(e));if(t===c)return"";if(_.gc.b(e)?(a=e,i=0):(a=h.vF(e,t,c),c-=t,i=t,t=0),o=u.bz(a,t,c,r),0!=(1&(s=u.b)))throw l=h.pk(s),u.b=0,h.d(h.P(l,e,i+u.c));return o},bz(e,t,n,r){var a,i,o=this;return n-t>1e3?(a=d.c.bG(t+n,2),i=o.bz(e,t,a,!1),0!=(1&o.b)?i:i+o.bz(e,a,n,r)):o.e_(e,t,n,r)},e2(e){var t=this.b;if(this.b=0,!(t<=32)){if(!this.a)throw h.d(h.P(h.pk(77),null,null));e.a+=h.bd(65533)}},e_(e,t,n,r){var a,i,o,s,l,u,c,f=this,p=65533,m=f.b,g=f.c,b=new h.ab(""),_=t+1,v=e[t];e:for(a=f.a;;){for(;;_=s){if(i=31&d.a.J("AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFFFFFFFFFFFFFFFFGGGGGGGGGGGGGGGGHHHHHHHHHHHHHHHHHHHHHHHHHHHIHHHJEEBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBKCCCCCCCCCCCCDCLONNNMEEEEEEEEEEE",v),g=m<=32?v&61694>>>i:(63&v|g<<6)>>>0,0===(m=d.a.J(" \x000:XECCCCCN:lDb \x000:XECCCCCNvlDb \x000:XECCCCCN:lDb AAAAA\0\0\0\0\0AAAAA00000AAAAA:::::AAAAAGG000AAAAA00KKKAAAAAG::::AAAAA:IIIIAAAAA000Â0AAAAA\0\0\0\0 AAAAA",m+i))){if(b.a+=h.bd(g),_===n)break e;break}if(0!=(1&m)){if(!a)return f.b=m,f.c=_-1,"";switch(m){case 69:case 67:b.a+=h.bd(p);break;case 65:b.a+=h.bd(p),--_;break;default:o=b.a+=h.bd(p),b.a=o+h.bd(p)}m=0}if(_===n)break e;s=_+1,v=e[_]}if(s=_+1,(v=e[_])<128){for(;;){if(!(s<n)){l=n;break}if(u=s+1,(v=e[s])>=128){l=u-1,s=u;break}s=u}if(l-_<20)for(c=_;c<l;++c)b.a+=h.bd(e[c]);else b.a+=h.oV(e,_,l);if(l===n)break e;_=s}else _=s}if(r&&m>32){if(!a)return f.b=77,f.c=n,"";b.a+=h.bd(p)}return f.b=m,f.c=g,(a=b.a).charCodeAt(0),a}},h.jY.prototype={$2(e,t){var n=this.b,r=this.a,a=n.a+=r.a;a+=h.b(e.a),n.a=a,n.a=a+": ",n.a+=h.cO(t),r.a=", "},$S:74},h.dm.prototype={N(e,t){return null!=t&&t instanceof h.dm&&this.a===t.a&&this.b===t.b},gE(e){var t=this.a;return 1073741823&(t^d.c.ag(t,30))},er(){var e;return this.b?this:(e=this.a,!(Math.abs(e)<=864e13)&&h.a0(h.R("DateTime is outside valid range: "+e,null)),h.bS(!0,"isUtc",_.y),new h.dm(e,!0))},k(e){var t=this,n=h.op(h.fh(t)),r=h.b6(h.oN(t)),a=h.b6(h.oJ(t)),i=h.b6(h.oK(t)),o=h.b6(h.oM(t)),s=h.b6(h.oO(t)),l=h.oq(h.oL(t)),u=n+"-"+r;return t.b?u+"-"+a+" "+i+":"+o+":"+s+"."+l+"Z":u+"-"+a+" "+i+":"+o+":"+s+"."+l},eq(){var e=this,t=h.fh(e)>=-9999&&h.fh(e)<=9999?h.op(h.fh(e)):h.tS(h.fh(e)),n=h.b6(h.oN(e)),r=h.b6(h.oJ(e)),a=h.b6(h.oK(e)),i=h.b6(h.oM(e)),o=h.b6(h.oO(e)),s=h.oq(h.oL(e)),l=t+"-"+n;return e.b?l+"-"+r+"T"+a+":"+i+":"+o+"."+s+"Z":l+"-"+r+"T"+a+":"+i+":"+o+"."+s}},h.lV.prototype={},h.G.prototype={gaZ(){return h.aR(this.$thrownJsError)}},h.eC.prototype={k(e){var t=this.a;return null!=t?"Assertion failed: "+h.cO(t):"Assertion failed"}},h.aX.prototype={},h.fd.prototype={k:e=>"Throw of null."},h.ar.prototype={gbB(){return"Invalid argument"+(this.a?"":"(s)")},gbA:()=>"",k(e){var t=this,n=t.c,r=null==n?"":" ("+n+")",a=t.d,i=null==a?"":": "+h.b(a),o=t.gbB()+r+i;return t.a?o+t.gbA()+": "+h.cO(t.b):o}},h.dI.prototype={gbB:()=>"RangeError",gbA(){var e=this.e,t=this.f;return null==e?null!=t?": Not less than or equal to "+h.b(t):"":null==t?": Not greater than or equal to "+h.b(e):t>e?": Not in inclusive range "+h.b(e)+".."+h.b(t):t<e?": Valid value range is empty":": Only valid value is "+h.b(e)}},h.eR.prototype={gbB:()=>"RangeError",gbA(){if(this.b<0)return": index must not be negative";var e=this.f;return 0===e?": no indices are valid":": index should be less than "+e},gi(e){return this.f}},h.fb.prototype={k(e){var t,n,r,a,i,o,s,l,u=this,c={},f=new h.ab("");for(c.a="",n=(t=u.c).length,r=0,a="",i="";r<n;++r,i=", ")o=t[r],f.a=a+i,a=f.a+=h.cO(o),c.a=", ";return u.d.L(0,new h.jY(c,f)),s=h.cO(u.a),l=f.k(0),"NoSuchMethodError: method not found: '"+h.b(u.b.a)+"'\nReceiver: "+s+"\nArguments: ["+l+"]"}},h.fv.prototype={k(e){return"Unsupported operation: "+this.a}},h.fq.prototype={k(e){var t=this.a;return null!=t?"UnimplementedError: "+t:"UnimplementedError"}},h.bG.prototype={k(e){return"Bad state: "+this.a}},h.eK.prototype={k(e){var t=this.a;return null==t?"Concurrent modification during iteration.":"Concurrent modification during iteration: "+h.cO(t)+"."}},h.ff.prototype={k:e=>"Out of Memory",gaZ:()=>null,$iG:1},h.dK.prototype={k:e=>"Stack Overflow",gaZ:()=>null,$iG:1},h.eM.prototype={k(e){var t=this.a;return null==t?"Reading static variable during its initialization":"Reading static variable '"+t+"' during its initialization"}},h.dW.prototype={k(e){return"Exception: "+this.a},$ia7:1},h.aI.prototype={k(e){var t,n,r,a,i,o,s,l,u,c,f=this.a,p=null!=f&&""!==f?"FormatException: "+h.b(f):"FormatException",m=this.c,g=this.b;if("string"==typeof g){if(null!=m&&(m<0||m>g.length)&&(m=null),null==m)return g.length>78&&(g=d.a.u(g,0,75)+"..."),p+"\n"+g;for(t=1,n=0,r=!1,a=0;a<m;++a)10===(i=d.a.J(g,a))?(n===a&&r||++t,n=a+1,r=!1):13===i&&(++t,n=a+1,r=!0);for(p=t>1?p+" (at line "+t+", character "+(m-n+1)+")\n":p+" (at character "+(m+1)+")\n",o=g.length,a=m;a<o;++a)if(10===(i=d.a.B(g,a))||13===i){o=a;break}return o-n>78?m-n<75?(s=n+75,l=n,u="",c="..."):(o-m<75?(l=o-75,s=o,c=""):(l=m-36,s=m+36,c="..."),u="..."):(s=o,l=n,u="",c=""),p+u+d.a.u(g,l,s)+c+"\n"+d.a.bp(" ",m-l+u.length)+"^\n"}return null!=m?p+" (at offset "+h.b(m)+")":p},$ia7:1},h.j.prototype={ah(e,t){return h.hd(this,h.C(this).h("j.E"),t)},aj(e,t,n){return h.jM(this,t,h.C(this).h("j.E"),n)},H(e,t){var n;for(n=this.gD(this);n.p();)if(f.aj(n.gt(),t))return!0;return!1},aP(e,t){var n;for(n=this.gD(this);n.p();)if(t.$1(n.gt()))return!0;return!1},aW(e,t){return h.ct(this,!1,h.C(this).h("j.E"))},gi(e){var t,n=this.gD(this);for(t=0;n.p();)++t;return t},gA(e){return!this.gD(this).p()},ga7(e){return!this.gA(this)},a5(e,t){return h.oT(this,t,h.C(this).h("j.E"))},T(e,t){var n,r,a;for(h.aV(t,"index"),n=this.gD(this),r=0;n.p();){if(a=n.gt(),t===r)return a;++r}throw h.d(h.eS(t,this,"index",null,r))},k(e){return h.u4(this,"(",")")}},h.dX.prototype={T(e,t){var n=this.a;return(0>t||t>=n)&&h.a0(h.eS(t,this,"index",null,n)),this.b.$1(t)},gi(e){return this.a}},h.M.prototype={},h.cU.prototype={k(e){return"MapEntry("+h.b(this.a)+": "+h.b(this.b)+")"}},h.k.prototype={gE(e){return h.c.prototype.gE.call(this,this)},k:e=>"null"},h.c.prototype={$ic:1,N(e,t){return this===t},gE(e){return h.cX(this)},k(e){return"Instance of '"+h.b(h.k5(this))+"'"},bj(e,t){throw h.d(h.oG(this,t.gcP(),t.gcT(),t.gcQ()))},toString(){return this.k(this)}},h.fO.prototype={k:e=>"",$iam:1},h.ab.prototype={gi(e){return this.a.length},k(e){var t=this.a;return t.charCodeAt(0),t}},h.lp.prototype={$2(e,t){throw h.d(h.P("Illegal IPv4 address, "+e,this.a,t))},$S:86},h.lq.prototype={$2(e,t){throw h.d(h.P("Illegal IPv6 address, "+e,this.a,t))},$S:87},h.lr.prototype={$2(e,t){var n;return t-e>4&&this.a.$2("an IPv6 part can only contain a maximum of 4 hex digits",e),((n=h.cH(d.a.u(this.b,e,t),16))<0||n>65535)&&this.a.$2("each part must be in the range of `0x0..0xFFFF`",e),n},$S:88},h.ej.prototype={gcr(){var e,t,n,r,a=this,i=a.w;return i===m&&(t=0!==(e=a.a).length?e+":":"",(r=null==(n=a.c))&&"file"!==e?e=t:(e=t+"//",0!==(t=a.b).length&&(e=e+t+"@"),r||(e+=n),null!=(t=a.d)&&(e=e+":"+h.b(t))),e+=a.e,null!=(t=a.f)&&(e=e+"?"+t),null!=(t=a.r)&&(e=e+"#"+t),h.pt(i,"_text"),i=a.w=(e.charCodeAt(0),e)),i},gE(e){var t,n=this,r=n.y;return r===m&&(t=d.a.gE(n.gcr()),h.pt(n.y,"hashCode"),n.y=t,r=t),r},gcZ(){return this.b},gbM(){var e=this.c;return null==e?"":d.a.W(e,"[")?d.a.u(e,1,e.length-1):e},gbU(){var e=this.d;return null==e?h.pe(this.a):e},gcU(){var e=this.f;return null==e?"":e},gcE(){var e=this.r;return null==e?"":e},gcG(){return 0!==this.a.length},gbJ(){return null!=this.c},gbL(){return null!=this.f},gbK(){return null!=this.r},gcF(){return d.a.W(this.e,"/")},k(e){return this.gcr()},N(e,t){var n,r,a=this;return null!=t&&(a===t||(_.n.b(t)&&a.a===t.gc3()&&null!=a.c===t.gbJ()&&a.b===t.gcZ()&&a.gbM()===t.gbM()&&a.gbU()===t.gbU()&&a.e===t.gcR()&&!(r=null==(n=a.f))===t.gbL()?(r&&(n=""),n===t.gcU()&&!(r=null==(n=a.r))===t.gbK()?(r&&(n=""),n=n===t.gcE()):n=!1):n=!1,n))},$iaZ:1,gc3(){return this.a},gcR(){return this.e}},h.ln.prototype={gbl(e){var t,n,r,a,i=this,o=null,s=i.c;return null==s&&(s=i.a,t=i.b[0]+1,n=d.a.bd(s,"?",t),r=s.length,n>=0?(a=h.ek(s,n+1,r,d.D,!1),r=n):a=o,s=i.c=new h.fD("data","",o,o,h.ek(s,t,r,d.aw,!1),a,o)),s},gbQ(){var e=this.b,t=e[0]+1,n=e[1];return t===n?"text/plain":h.vE(this.a,t,n,d.ab,!1)},cz(){var e,t,n,r,a,i,o,s,l=this.a,u=this.b,c=d.d.gaS(u)+1;if(1==(1&u.length))return d.b7.dX(l,c);for(e=(u=l.length)-c,t=c;t<u;++t)37===d.a.B(l,t)&&(t+=2,e-=2);if(n=new Uint8Array(e),e===u)return d.j.a4(n,0,e,new h.cL(l),c),n;for(t=c,r=0;t<u;++t){if(37===(a=d.a.B(l,t))){if((o=t+2)<u&&(s=h.pP(l,t+1))>=0){i=r+1,n[r]=s,t=o,r=i;continue}throw h.d(h.P("Invalid percent escape",l,t))}i=r+1,n[r]=a,r=i}return n},k(e){var t=this.a;return-1===this.b[0]?"data:"+t:t}},h.mt.prototype={$2(e,t){var n=this.a[e];return d.j.e1(n,0,96,t),n},$S:95},h.mu.prototype={$3(e,t,n){var r,a;for(r=t.length,a=0;a<r;++a)e[96^d.a.J(t,a)]=n},$S:17},h.mv.prototype={$3(e,t,n){var r,a;for(r=d.a.J(t,0),a=d.a.J(t,1);r<=a;++r)e[(96^r)>>>0]=n},$S:17},h.fM.prototype={gcG(){return this.b>0},gbJ(){return this.c>0},gbL(){return this.f<this.r},gbK(){return this.r<this.a.length},gcF(){return d.a.X(this.a,"/",this.e)},gc3(){var e=this.w;return null==e?this.w=this.dl():e},dl(){var e,t=this,n=t.b;return n<=0?"":(e=4===n)&&d.a.W(t.a,"http")?"http":5===n&&d.a.W(t.a,"https")?"https":e&&d.a.W(t.a,"file")?"file":7===n&&d.a.W(t.a,"package")?"package":d.a.u(t.a,0,n)},gcZ(){var e=this.c,t=this.b+3;return e>t?d.a.u(this.a,t,e-1):""},gbM(){var e=this.c;return e>0?d.a.u(this.a,e,this.d):""},gbU(){var e,t=this;return t.c>0&&t.d+1<t.e?h.cH(d.a.u(t.a,t.d+1,t.e),null):4===(e=t.b)&&d.a.W(t.a,"http")?80:5===e&&d.a.W(t.a,"https")?443:0},gcR(){return d.a.u(this.a,this.e,this.f)},gcU(){var e=this.f,t=this.r;return e<t?d.a.u(this.a,e+1,t):""},gcE(){var e=this.r,t=this.a;return e<t.length?d.a.br(t,e+1):""},gE(e){var t=this.x;return null==t?this.x=d.a.gE(this.a):t},N(e,t){return null!=t&&(this===t||_.n.b(t)&&this.a===t.k(0))},k(e){return this.a},$iaZ:1},h.fD.prototype={},h.mr.prototype={$1(e){var t,n,r,a=this.a;if(a.v(e))return a.j(0,e);if(_.I.b(e)){for(t={},a.m(0,e,t),a=(a=e.gM()).gD(a);a.p();)t[n=a.gt()]=this.$1(e.j(0,n));return t}return _.j.b(e)?(r=[],a.m(0,e,r),d.d.F(r,f.br(e,this,_.z)),r):e},$S:122},h.a4.prototype={gcj(){var e,t=this.y;return!!(e=!(5121!==t&&5120!==t||"MAT2"!==(e=this.Q)&&"MAT3"!==e))||(5123===t||5122===t)&&"MAT3"===this.Q},gab(){var e=d.m.j(0,this.Q);return null==e?0:e},gac(){var e=this,t=e.y;return 5121===t||5120===t?"MAT2"===(t=e.Q)?6:"MAT3"===t?11:e.gab():5123===t||5122===t?"MAT3"===e.Q?22:2*e.gab():4*e.gab()},gao(){var e=this,t=e.cx;return 0!==t?t:5121===(t=e.y)||5120===t?"MAT2"===(t=e.Q)?8:"MAT3"===t?12:e.gab():5123===t||5122===t?"MAT3"===e.Q?24:2*e.gab():4*e.gab()},gaQ(){return this.gao()*(this.z-1)+this.gac()},q(e,t){var n,r,a,i=this,o="bufferView",s=e.y,l=i.w,u=i.CW=s.j(0,l),c=null==u;if(c||-1===u.z||(i.cx=u.z),-1!==i.y&&-1!==i.z&&null!=i.Q&&(-1!==l&&(c?t.l(m.N(),h.a([l],_.M),o):(u.a$=!0,-1!==(u=u.z)&&u<i.gac()&&t.G(m.qD(),h.a([i.CW.z,i.gac()],_.M)),h.bs(i.x,i.ch,i.gaQ(),i.CW,l,t))),null!=(l=i.ay))){if(c=-1===(u=l.d))return;(c=t.c).push("sparse"),u>(n=i.z)&&t.l(m.rl(),h.a([u,n],_.M),"count"),r=(n=l.f).d,n.f=s.j(0,r),c.push("indices"),-1!==(l=(a=l.e).d)&&(null==(s=a.r=s.j(0,l))?t.l(m.N(),h.a([l],_.M),o):(s.S(d.o,o,t),-1!==a.r.z&&t.n(m.nc(),o),-1!==(s=a.f)&&h.bs(a.e,h.b1(s),h.b1(s)*u,a.r,l,t))),c.pop(),c.push("values"),-1!==r&&(null==(s=n.f)?t.l(m.N(),h.a([r],_.M),o):(s.S(d.o,o,t),-1!==n.f.z&&t.n(m.nc(),o),s=i.ch,null==(l=d.m.j(0,i.Q))&&(l=0),h.bs(n.e,s,s*l*u,n.f,r,t))),c.pop(),c.pop()}},S(e,t,n){var r;this.a$=!0,null==(r=this.fr)?this.fr=e:r!==e&&n.l(m.qF(),h.a([r,e],_.M),t)},ew(e){var t=this.dy;if(null==t)this.dy=e;else if(t!==e)return!1;return!0},eb(e){var t,n,r=this;return r.as&&5126!==r.y?(t=8*r.ch,5120===(n=r.y)||5122===n||5124===n?Math.max(e/(d.c.aG(1,t-1)-1),-1):e/(d.c.aG(1,t)-1)):(e.toString,e)}},h.fy.prototype={ad(){var e=this;return h.bQ((function(){var t,n,r,a,i,o,s,l,u,c,f,p,m,g,b,v,y,x=0;return function(A,w){for(1===A&&(t=w,x=2);;)switch(x){case 0:if(-1===(y=e.y)||-1===e.z||null==e.Q){x=1;break}if(n=e.gab(),r=e.z,null!=(a=e.CW)){if(null==(null==(a=a.as)?null:a.z)){x=1;break}if(e.gao()<e.gac()){x=1;break}if(a=e.x,i=e.ch,!h.bs(a,i,e.gaQ(),e.CW,null,null)){x=1;break}if(o=e.CW,null==(s=h.oi(y,o.as.z.buffer,o.x+a,d.c.av(e.gaQ(),i)))){x=1;break}l=s.length,e.gcj()?(a=d.c.av(e.gao(),i),i="MAT2"===e.Q,o=i?8:12,u=i?2:3,c=new h.lJ(l,s,u,u,a-o).$0()):c=new h.lK(s).$3(l,n,d.c.av(e.gao(),i)-n)}else c=h.ot(r*n,new h.lL,_.e);if(null!=(a=e.ay)){if(i=a.f,o=i.e,f=-1===o||null==(f=i.f)||-1===f.y||-1===f.x||null==(null==(f=f.as)?null:f.z)||-1===(f=a.e).f||-1===f.e||null==(f=f.r)||-1===f.y||-1===f.x||null==(null==(f=f.as)?null:f.z)){x=1;break}if((f=a.d)>r){x=1;break}if(r=a.e,a=r.e,p=r.f,h.bs(a,h.b1(p),h.b1(p)*f,r.r,null,null)?(m=e.ch,null==(g=d.m.j(0,e.Q))&&(g=0),g=!h.bs(o,m,m*g*f,i.f,null,null),m=g):m=!0,m){x=1;break}if(r=r.r,b=h.nh(p,r.as.z.buffer,r.x+a,f),i=i.f,v=h.oi(y,i.as.z.buffer,i.x+o,f*n),null==b||null==v){x=1;break}c=new h.lM(e,b,c,n,v).$0()}return x=3,h.m7(c);case 3:case 1:return h.bL();case 2:return h.bM(t)}}}),_.e)},bn(){var e=this;return h.bQ((function(){var t,n,r,a,i,o=0;return function(s,l){for(1===s&&(t=l,o=1);;)switch(o){case 0:a=8*e.ch,i=5120===(i=e.y)||5122===i||5124===i,n=_.F,o=i?2:4;break;case 2:return i=d.c.aG(1,a-1),(r=e.ad()).toString,o=5,h.m7(h.jM(r,new h.lH(1/(i-1)),r.$ti.h("j.E"),n));case 5:o=3;break;case 4:return i=d.c.aG(1,a),(r=e.ad()).toString,o=6,h.m7(h.jM(r,new h.lI(1/(i-1)),r.$ti.h("j.E"),n));case 6:case 3:return h.bL();case 1:return h.bM(t)}}}),_.F)}},h.lJ.prototype={$0(){var e=this;return h.bQ((function(){var t,n,r,a,i,o,s,l,u,c=0;return function(f,d){for(1===f&&(t=d,c=1);;)switch(c){case 0:n=e.a,r=e.c,a=e.b,i=e.d,o=e.e,s=0,l=0,u=0;case 2:if(!(s<n)){c=3;break}return c=4,a[s];case 4:++s,++l===r&&(s+=4-l,++u===i&&(s+=o,u=0),l=0),c=2;break;case 3:return h.bL();case 1:return h.bM(t)}}}),_.e)},$S:18},h.lK.prototype={$3(e,t,n){return this.d0(e,t,n)},d0(e,t,n){var r=this;return h.bQ((function(){var a,i,o,s,l=e,u=t,c=n,f=0;return function(e,t){for(1===e&&(a=t,f=1);;)switch(f){case 0:i=r.a,o=0,s=0;case 2:if(!(o<l)){f=3;break}return f=4,i[o];case 4:++o,++s===u&&(o+=c,s=0),f=2;break;case 3:return h.bL();case 1:return h.bM(a)}}}),_.e)},$S:31},h.lL.prototype={$1:e=>0,$S:32},h.lM.prototype={$0(){var e=this;return h.bQ((function(){var t,n,r,a,i,o,s,l,u,c,d,p=0;return function(m,g){for(1===m&&(t=g,p=1);;)switch(p){case 0:c=e.b,d=c[0],n=f.aC(e.c),r=e.d,a=e.a.ay,i=e.e,o=0,s=0,l=0;case 2:if(!n.p()){p=3;break}u=n.gt(),s===r&&(o===d&&l!==a.d-1&&(++l,d=c[l]),++o,s=0),p=o===d?4:6;break;case 4:return p=7,i[l*r+s];case 7:p=5;break;case 6:return p=8,u;case 8:case 5:++s,p=2;break;case 3:return h.bL();case 1:return h.bM(t)}}}),_.e)},$S:18},h.lH.prototype={$1(e){return Math.max(e*this.a,-1)},$S:7},h.lI.prototype={$1(e){return e*this.a},$S:7},h.fx.prototype={ad(){var e=this;return h.bQ((function(){var t,n,r,a,i,o,s,l,u,c,f,p,m,g,b,v,y,x=0;return function(A,w){for(1===A&&(t=w,x=2);;)switch(x){case 0:if(-1===(y=e.y)||-1===e.z||null==e.Q){x=1;break}if(n=e.gab(),r=e.z,null!=(a=e.CW)){if(null==(null==(a=a.as)?null:a.z)){x=1;break}if(e.gao()<e.gac()){x=1;break}if(a=e.x,i=e.ch,!h.bs(a,i,e.gaQ(),e.CW,null,null)){x=1;break}if(o=e.CW,null==(s=h.oh(y,o.as.z.buffer,o.x+a,d.c.av(e.gaQ(),i)))){x=1;break}l=s.length,e.gcj()?(a=d.c.av(e.gao(),i),i="MAT2"===e.Q,o=i?8:12,u=i?2:3,c=new h.lD(l,s,u,u,a-o).$0()):c=new h.lE(s).$3(l,n,d.c.av(e.gao(),i)-n)}else c=h.ot(r*n,new h.lF,_.F);if(null!=(a=e.ay)){if(i=a.f,o=i.e,f=-1===o||null==(f=i.f)||-1===f.y||-1===f.x||null==(null==(f=f.as)?null:f.z)||-1===(f=a.e).f||-1===f.e||null==(f=f.r)||-1===f.y||-1===f.x||null==(null==(f=f.as)?null:f.z)){x=1;break}if((f=a.d)>r){x=1;break}if(r=a.e,a=r.e,p=r.f,h.bs(a,h.b1(p),h.b1(p)*f,r.r,null,null)?(m=e.ch,null==(g=d.m.j(0,e.Q))&&(g=0),g=!h.bs(o,m,m*g*f,i.f,null,null),m=g):m=!0,m){x=1;break}if(r=r.r,b=h.nh(p,r.as.z.buffer,r.x+a,f),i=i.f,v=h.oh(y,i.as.z.buffer,i.x+o,f*n),null==b||null==v){x=1;break}c=new h.lG(e,b,c,n,v).$0()}return x=3,h.m7(c);case 3:case 1:return h.bL();case 2:return h.bM(t)}}}),_.F)},bn(){return this.ad()}},h.lD.prototype={$0(){var e=this;return h.bQ((function(){var t,n,r,a,i,o,s,l,u,c=0;return function(f,d){for(1===f&&(t=d,c=1);;)switch(c){case 0:n=e.a,r=e.c,a=e.b,i=e.d,o=e.e,s=0,l=0,u=0;case 2:if(!(s<n)){c=3;break}return c=4,a[s];case 4:++s,++l===r&&(s+=4-l,++u===i&&(s+=o,u=0),l=0),c=2;break;case 3:return h.bL();case 1:return h.bM(t)}}}),_.F)},$S:19},h.lE.prototype={$3(e,t,n){return this.d_(e,t,n)},d_(e,t,n){var r=this;return h.bQ((function(){var a,i,o,s,l=e,u=t,c=n,f=0;return function(e,t){for(1===e&&(a=t,f=1);;)switch(f){case 0:i=r.a,o=0,s=0;case 2:if(!(o<l)){f=3;break}return f=4,i[o];case 4:++o,++s===u&&(o+=c,s=0),f=2;break;case 3:return h.bL();case 1:return h.bM(a)}}}),_.F)},$S:35},h.lF.prototype={$1:e=>0,$S:7},h.lG.prototype={$0(){var e=this;return h.bQ((function(){var t,n,r,a,i,o,s,l,u,c,d,p=0;return function(m,g){for(1===m&&(t=g,p=1);;)switch(p){case 0:c=e.b,d=c[0],n=f.aC(e.c),r=e.d,a=e.a.ay,i=e.e,o=0,s=0,l=0;case 2:if(!n.p()){p=3;break}u=n.gt(),s===r&&(o===d&&l!==a.d-1&&(++l,d=c[l]),++o,s=0),p=o===d?4:6;break;case 4:return p=7,i[l*r+s];case 7:p=5;break;case 6:return p=8,u;case 8:case 5:++s,p=2;break;case 3:return h.bL();case 1:return h.bM(t)}}}),_.F)},$S:19},h.bX.prototype={ge4(){var e=this.e,t=e.r,n=null==t?null:t.as;return null==(null==n?null:n.z)?null:h.nh(e.f,t.as.z.buffer,t.x+e.e,this.d)}},h.bY.prototype={q(e,t){this.r=e.y.j(0,this.d)}},h.bZ.prototype={q(e,t){this.f=e.y.j(0,this.d)}},h.eU.prototype={a_(e,t,n,r){return r.toString,r!=1/0&&r!=-1/0&&!isNaN(r)||(e.l(m.q3(),h.a([t,r],_.M),this.a),!1)}},h.f1.prototype={a_(e,t,n,r){var a,i=this;return(t===n||i.b[n]>r)&&(i.b[n]=r),r<i.c[n]&&((a=i.a)[n]=a[n]+1),!0},aD(e){var t,n,r,a,i,o,s,l,u,c=this;for(n=(t=c.b).length,r=c.c,a=c.a,i=c.d+"/min/",o=_.M,s=0;s<n;++s)f.aj(r[s],t[s])||(l=i+s,e.l(m.nQ(),h.a([r[s],t[s]],o),l),(u=a[s])>0&&e.l(m.nO(),h.a([u,r[s]],o),l));return!0}},h.f_.prototype={a_(e,t,n,r){var a,i=this;return(t===n||i.b[n]<r)&&(i.b[n]=r),r>i.c[n]&&((a=i.a)[n]=a[n]+1),!0},aD(e){var t,n,r,a,i,o,s,l,u,c=this;for(n=(t=c.b).length,r=c.c,a=c.a,i=c.d+"/max/",o=_.M,s=0;s<n;++s)f.aj(r[s],t[s])||(l=i+s,e.l(m.nP(),h.a([r[s],t[s]],o),l),(u=a[s])>0&&e.l(m.nN(),h.a([u,r[s]],o),l));return!0}},h.f2.prototype={a_(e,t,n,r){var a,i=this;return(t===n||i.b[n]>r)&&(i.b[n]=r),r<i.c[n]&&((a=i.a)[n]=a[n]+1),!0},aD(e){var t,n,r,a,i,o,s,l,u,c=this;for(n=(t=c.b).length,r=c.c,a=c.a,i=c.d+"/min/",o=_.M,s=0;s<n;++s)f.aj(r[s],t[s])||(l=i+s,e.l(m.nQ(),h.a([r[s],t[s]],o),l),(u=a[s])>0&&e.l(m.nO(),h.a([u,r[s]],o),l));return!0}},h.f0.prototype={a_(e,t,n,r){var a,i=this;return(t===n||i.b[n]<r)&&(i.b[n]=r),r>i.c[n]&&((a=i.a)[n]=a[n]+1),!0},aD(e){var t,n,r,a,i,o,s,l,u,c=this;for(n=(t=c.b).length,r=c.c,a=c.a,i=c.d+"/max/",o=_.M,s=0;s<n;++s)f.aj(r[s],t[s])||(l=i+s,e.l(m.nP(),h.a([r[s],t[s]],o),l),(u=a[s])>0&&e.l(m.nN(),h.a([u,r[s]],o),l));return!0}},h.bt.prototype={q(e,t){var n,r,a,i,o=this,s="samplers",l=o.x;if(null!=l&&null!=o.w){for((n=t.c).push(s),l.a3(new h.h3(t,e)),n.pop(),n.push("channels"),o.w.a3(new h.h4(o,t,e)),n.pop(),n.push(s),r=l.b,a=(l=l.a).length,i=0;i<r;++i)(i>=a?null:l[i]).a$||t.Y(m.h_(),i);n.pop()}}},h.h3.prototype={$2(e,t){var n,r,a,i,o,s,l="input",u="output",c=this.a,f=c.c;f.push(d.c.k(e)),n=this.b.f,r=t.d,t.r=n.j(0,r),a=t.f,t.w=n.j(0,a),-1!==r&&(null==(n=t.r)?c.l(m.N(),h.a([r],_.M),l):(n.S(d.b0,l,c),null!=(i=t.r.CW)&&(i.S(d.o,l,c),-1!==(n=i.z)&&c.n(m.nV(),l)),f.push(l),(o=h.dj(t.r)).N(0,d.G)?c.Z(t.r,new h.eB(c.R())):c.G(m.qJ(),h.a([o,h.a([d.G],_.p)],_.M)),null!=(n=t.r).ax&&null!=n.at||c.O(m.qL()),"CUBICSPLINE"===t.e&&t.r.z<2&&c.G(m.qK(),h.a(["CUBICSPLINE",2,t.r.z],_.M)),f.pop())),-1!==a&&(null==(n=t.w)?c.l(m.N(),h.a([a],_.M),u):(n.S(d.b1,u,c),null!=(s=t.w.CW)&&(s.S(d.o,u,c),-1!==(n=s.z)&&c.n(m.nV(),u)),null!=(n=t.w.CW)&&n.S(d.o,u,c),t.w.ew("CUBICSPLINE"===t.e))),f.pop()},$S:36},h.h4.prototype={$2(e,t){var n,r,a,i,o,s,l,u,c,f,p,g,b,v,y=null,x="sampler",A=this.b,w=A.c;if(w.push(d.c.k(e)),n=this.a,r=t.d,t.f=n.x.j(0,r),(i=null!=(a=t.e))&&(o=a.d,a.f=this.c.ax.j(0,o),-1!==o)){if(w.push("target"),null==(s=a.f))A.l(m.N(),h.a([o],_.M),"node");else switch(s.a$=!0,a.e){case"translation":case"rotation":case"scale":null!=s.z&&A.O(m.qG()),null!=a.f.dx&&A.n(m.rm(),"path");break;case"weights":null==(null==(o=null==(o=null==(o=s.cy)?y:o.w)?y:o.gcD(o))?y:o.cx)&&A.O(m.qH())}w.pop()}if(-1!==r){for(null==(o=t.f)?A.l(m.N(),h.a([r],_.M),x):(o.a$=!0,i&&null!=o.w&&("rotation"===(r=a.e)&&(4===(l=o.w).gab()&&(w.push(x),o=A.R(),s=5126===l.y?y:l.gbS(),A.Z(l,new h.dH("CUBICSPLINE"===t.f.e,s,o,_.ed)),w.pop()),(o=t.f).w.toString),u=h.dj(o.w),!1===(null==(c=d.dh.j(0,r))?y:d.d.H(c,u))&&A.l(m.qN(),h.a([u,c,r],_.M),x),null!=(s=(o=t.f).r)&&-1!==s.z&&-1!==o.w.z&&null!=o.e&&(f=s.z,"CUBICSPLINE"===o.e&&(f*=3),"weights"===r?f*=null==(p=null==(r=null==(r=null==(r=null==(r=null==(r=a.f)?y:r.cy)?y:r.w)?y:r.gcD(r))?y:r.cx)?y:r.length)?0:p:d.d.H(d.R,r)||(f=0),0!==f&&f!==t.f.w.z&&A.l(m.qM(),h.a([f,t.f.w.z],_.M),x)))),g=e+1,r=(n=n.w).b,o=_.M,s=(n=n.a).length;g<r;++g)(b=!!i&&null!=(v=((b=g>=s)?y:n[g]).e)&&-1!==(b=a.d)&&b===v.d&&a.e==v.e)&&A.l(m.qI(),h.a([g],o),"target");w.pop()}},$S:37},h.b2.prototype={},h.c0.prototype={},h.b3.prototype={},h.eB.prototype={a_(e,t,n,r){var a=this;return r<0?e.l(m.pY(),h.a([t,r],_.M),a.b):(0!==t&&r<=a.a&&e.l(m.pZ(),h.a([t,r,a.a],_.M),a.b),a.a=r),!0}},h.dH.prototype={a_(e,t,n,r){var a,i,o=this;return o.a&&4!=(4&o.d)||(i=null!=(a=o.b)?a.$1(r):r,a=o.e+i*i,o.e=a,3===n&&(Math.abs(Math.sqrt(a)-1)>.00769&&e.l(m.q_(),h.a([t-3,t,Math.sqrt(o.e)],_.M),o.c),o.e=0)),12==++o.d&&(o.d=0),!0}},h.bu.prototype={gbg(){var e=this.f;return null!=e&&m.bp().b.test(e)?h.cH(m.bp().aR(e).b[1],null):0},gbR(){var e=this.f;return null!=e&&m.bp().b.test(e)?h.cH(m.bp().aR(e).b[2],null):0},gcO(){var e=this.r;return null!=e&&m.bp().b.test(e)?h.cH(m.bp().aR(e).b[1],null):2},ge9(){var e=this.r;return null!=e&&m.bp().b.test(e)?h.cH(m.bp().aR(e).b[2],null):0}},h.aS.prototype={},h.bv.prototype={S(e,t,n){var r;this.a$=!0,null==(r=this.at)?(this.at=e,e!==d.L&&e!==d.A||n.n(m.qP(),t)):r!==e&&n.l(m.qQ(),h.a([r,e],_.M),t)},q(e,t){var n,r=this,a=r.w,i=r.as=e.x.j(0,a);r.ax=r.z,34962===(n=r.Q)?r.at=d.A:34963===n&&(r.at=d.L),-1!==a&&(null==i?t.l(m.N(),h.a([a],_.M),"buffer"):(i.a$=!0,-1!==(i=i.x)&&((n=r.x)>=i?t.l(m.nW(),h.a([a,i],_.M),"byteOffset"):n+r.y>i&&t.l(m.nW(),h.a([a,i],_.M),"byteLength"))))}},h.bw.prototype={},h.c2.prototype={},h.c3.prototype={},h.ds.prototype={ey(e){var t,n,r,a,i;for(new h.iy(this,e).$1(this.cy),n=(t=e.r).length,r=e.c,a=0;a<t.length;t.length===n||(0,h.cI)(t),++a)i=t[a],d.d.si(r,0),d.d.F(r,i.b),i.a.c_(this,e);d.d.si(r,0)}},h.iv.prototype={$0(){return d.d.si(this.a.c,0),null},$S:1},h.iw.prototype={$1$2(e,t,n){var r,a,i,o,s,l,u,c,p,g=this,b=g.a;if(!b.v(e))return b=f.b8(0,n.h("0*")),new h.E(b,0,e,n.h("E<0*>"));if(g.b.$0(),r=b.j(0,e),_.m.b(r)){if(b=f.T(r),a=g.c,i=n.h("0*"),b.ga7(r)){for(o=b.gi(r),i=h.S(o,null,!1,i),(s=a.c).push(e),l=_.M,u=_.t,c=0;c<b.gi(r);++c)p=b.j(r,c),u.b(p)?(s.push(d.c.k(c)),i[c]=t.$2(p,a),s.pop()):a.an(m.a2(),h.a([p,"object"],l),c);return new h.E(i,o,e,n.h("E<0*>"))}return a.n(m.bV(),e),b=f.b8(0,i),new h.E(b,0,e,n.h("E<0*>"))}return g.c.l(m.a2(),h.a([r,"array"],_.M),e),b=f.b8(0,n.h("0*")),new h.E(b,0,e,n.h("E<0*>"))},$2(e,t){return this.$1$2(e,t,_.z)},$S:38},h.ix.prototype={$1$3$req(e,t,n,r){var a,i;return this.a.$0(),a=this.c,null==(i=h.nG(this.b,e,a,!0))?null:(a.c.push(e),t.$2(i,a))},$2(e,t){return this.$1$3$req(e,t,!1,_.z)},$1$2(e,t,n){return this.$1$3$req(e,t,!1,n)},$S:39},h.it.prototype={$2(e,t){var n,r,a,i,o,s=this.a,l=s.c;if(l.push(e.c),n=this.b,e.a3(new h.iu(s,n)),null!=(r=s.f.j(0,t))){for(a=f.cT(l.slice(0),h.Z(l).c),i=f.aC(r);i.p();)o=i.gt(),d.d.si(l,0),d.d.F(l,o.b),o.a.q(n,s);d.d.si(l,0),d.d.F(l,a)}l.pop()},$S:40},h.iu.prototype={$2(e,t){var n=this.a,r=n.c;r.push(d.c.k(e)),t.q(this.b,n),r.pop()},$S:41},h.ir.prototype={$2(e,t){var n,r;_.c.b(t)&&((r=(n=this.a).c).push(e),t.q(this.b,n),r.pop())},$S:3},h.is.prototype={$2(e,t){var n,r,a,i=this;if(t.dy||null!=t.cx||null!=t.cy||null!=t.CW||0!==t.a.a||null!=t.b||i.a.Y(m.rJ(),e),null!=t.db)for((n=i.b).cv(0),r=t;null!=r.db;){if(!n.C(0,r)){r===t&&i.a.Y(m.r1(),e);break}r=r.db}null!=t.dx&&(null!=t.db&&i.a.Y(m.rO(),e),(n=!(null!=(n=t.z)&&!n.cL()||!(n=null==(n=t.as)||0===(n=n.a)[0]&&0===n[1]&&0===n[2])||!(n=null==(n=t.at)||0===(n=n.a)[0]&&0===n[1]&&0===n[2]&&1===n[3])||null!=(n=t.ax)&&(1!==(n=n.a)[0]||1!==n[1]||1!==n[2])))||i.a.Y(m.rN(),e),null!=(a=t.dx.at.bb(0,new h.ip,new h.iq))?(n=a.ch,n=!t.ch.ba(0,n.gcw(n))):n=!1,n&&i.a.Y(m.rM(),e))},$S:43},h.ip.prototype={$1:e=>null==e.db,$S:44},h.iq.prototype={$0:()=>null,$S:2},h.iy.prototype={$1(e){var t=this.b,n=t.c;d.d.si(n,0),n.push(e.c),e.a3(new h.iz(this.a,t)),n.pop()},$S:45},h.iz.prototype={$2(e,t){var n=this.b,r=n.c;r.push(d.c.k(e)),t.c_(this.a,n),r.pop()},$S:28},h.m.prototype={},h.l.prototype={q(e,t){},$iq:1},h.eN.prototype={},h.fH.prototype={},h.aT.prototype={q(e,t){var n,r="bufferView",a=this.w;-1!==a&&(null==(n=this.Q=e.y.j(0,a))?t.l(m.N(),h.a([a],_.M),r):(n.S(d.b5,r,t),-1!==this.Q.z&&t.n(m.qR(),r)))},ev(){var e,t=this.Q,n=null==t?null:t.as;if(null!=(null==n?null:n.z))try{this.z=h.no(t.as.z.buffer,t.x,t.y)}catch(e){if(!(h.K(e)instanceof h.ar))throw e}}},h.av.prototype={q(e,t){var n=this,r=new h.jN(t,e);r.$2(n.w,"pbrMetallicRoughness"),r.$2(n.x,"normalTexture"),r.$2(n.y,"occlusionTexture"),r.$2(n.z,"emissiveTexture")}},h.jN.prototype={$2(e,t){var n,r;null!=e&&((r=(n=this.a).c).push(t),e.q(this.b,n),r.pop())},$S:47},h.cx.prototype={q(e,t){var n,r=this.e;null!=r&&((n=t.c).push("baseColorTexture"),r.q(e,t),n.pop()),null!=(r=this.w)&&((n=t.c).push("metallicRoughnessTexture"),r.q(e,t),n.pop())}},h.cw.prototype={},h.cv.prototype={q(e,t){var n,r;for(this.d8(e,t),n=t.e,r=this;null!=r;)if((r=n.j(0,r))instanceof h.av){r.ay=!0;break}}},h.bh.prototype={q(e,t){var n,r=this,a=r.d,i=r.f=e.cy.j(0,a);for(-1!==a&&(null==i?t.l(m.N(),h.a([a],_.M),"index"):i.a$=!0),a=t.e,n=r;null!=n;)if((n=a.j(0,n))instanceof h.av){n.ch.m(0,t.R(),r.e);break}}},h.c1.prototype={k(e){return this.a}},h.c_.prototype={k(e){return this.a}},h.y.prototype={k(e){var t=d.ax.j(0,this.b),n=this.c?" normalized":"";return"{"+h.b(this.a)+", "+h.b(t)+n+"}"},N(e,t){return null!=t&&t instanceof h.y&&t.a==this.a&&t.b===this.b&&t.c===this.c},gE(e){return h.pp(h.fV(h.fV(h.fV(0,f.bW(this.a)),d.c.gE(this.b)),d.bU.gE(this.c)))}},h.aU.prototype={q(e,t){var n,r=t.c;r.push("primitives"),null!=(n=this.w)&&n.a3(new h.jX(t,e)),r.pop()}},h.jX.prototype={$2(e,t){var n,r=this.a,a=r.c;a.push(d.c.k(e)),a.push("extensions"),n=this.b,t.a.L(0,new h.jW(r,n)),a.pop(),t.q(n,r),a.pop()},$S:20},h.jW.prototype={$2(e,t){var n,r;_.c.b(t)&&((r=(n=this.a).c).push(e),t.q(this.b,n),r.pop())},$S:3},h.aF.prototype={ges(){switch(this.r){case 4:return d.c.bG(this.ch,3);case 5:case 6:var e=this.ch;return e>2?e-2:0;default:return 0}},q(e,t){var n,r,a,i,o,s,l,u,c,p,g,b,v,y=this,x="attributes",A="indices",w=y.d;for(null!=w&&((n=t.c).push(x),w.L(0,new h.jS(y,e,t)),n.pop()),-1!==(w=y.e)&&(null==(n=y.cy=e.f.j(0,w))?t.l(m.N(),h.a([w],_.M),A):(y.ch=n.z,n.S(d.b3,A,t),null!=(w=y.cy.CW)&&w.S(d.L,A,t),(w=t.c).push(A),null!=(n=y.cy.CW)&&-1!==n.z&&t.O(m.qY()),r=h.dj(y.cy),d.d.H(d.ap,r)?(a=-1!==(n=y.CW)?n-1:-1,0!==(i=-1!==(n=y.r)?d.c.aG(1,n):-1)&&a>=-1&&(n=y.cy,o=t.R(),s=d.c.bG(y.ch,3),l=y.cy.y,u=new Uint32Array(3),t.Z(n,new h.eQ(a,s,h.pV(l),16==(16&i),u,o)))):t.G(m.qX(),h.a([r,d.ap],_.M)),w.pop())),(w=-1!==(w=y.ch)&&(1===(n=y.r)&&w%2!=0||(2===n||3===n)&&w<2||4===n&&w%3!=0||(5===n||6===n)&&w<3))&&t.G(m.qW(),h.a([y.ch,d.cp[y.r]],_.M)),w=y.f,n=y.db=e.as.j(0,w),-1!==w&&(null==n?t.l(m.N(),h.a([w],_.M),"material"):(n.a$=!0,n.ch.L(0,new h.jT(y,t)))),(w=!(!y.z||null!=(w=y.db)&&w.ay))&&((w=t.c).push(x),t.n(m.rc(),"TANGENT"),w.pop()),w=y.dx,n=d.d.gD(w),w=new h.cC(n,new h.jU,h.Z(w).h("cC<1>")),o=t.c;w.p();)s=n.gt(),o.push(x),t.n(m.h_(),"TEXCOORD_"+h.b(s)),o.pop();if(null!=(w=y.w)){for((n=t.c).push("targets"),c=w.length,p=f.ou(c,_.gj),o=_.X,s=_.W,g=0;g<c;++g)p[g]=h.a8(o,s);for(y.cx=p,b=0;b<w.length;++b)v=w[b],n.push(d.c.k(b)),v.L(0,new h.jV(y,e,t,b)),n.pop();n.pop()}},cb(e,t,n){var r,a=e.CW;-1===a.z&&(r=n.w.bV(a,new h.jR)).C(0,e)&&r.gi(r)>1&&n.n(m.qU(),t)}},h.jO.prototype={$1(e){var t,n,r,a,i,o,s,l,u,c,f,p,g,b=this;if(0===e.length||95!==d.a.J(e,0))switch(e){case"POSITION":b.a.c=!0;break;case"NORMAL":b.a.b=!0;break;case"TANGENT":b.a.a=!0;break;default:if(n=(t=e.split("_"))[0],!d.d.H(d.ce,n)||2!==t.length){b.b.n(m.nd(),e);break}if((r=t[1]).toString,0===(a=new h.cL(r)).gi(a))i=0,o=!1;else if(1===(s=r.length))o=!((i=d.a.J(r,0)-48)<0||i>9)||!1;else for(i=0,l=0;;){if(!(l<s)){o=!0;break}if(!((u=d.a.J(r,l)-48)<=9&&u>=0&&(0!==l||0!==u))){o=!1;break}i=10*i+u,++l}if(o)switch(n){case"COLOR":++(r=b.a).d,c=r.e,r.e=i>c?i:c;break;case"JOINTS":++(r=b.a).f,f=r.r,r.r=i>f?i:f;break;case"TEXCOORD":++(r=b.a).y,p=r.z,r.z=i>p?i:p;break;case"WEIGHTS":++(r=b.a).w,g=r.x,r.x=i>g?i:g}else b.b.n(m.nd(),e)}},$S:21},h.jP.prototype={$3(e,t,n){var r=e+1;return r!==t?(this.a.G(m.rB(),h.a([n,r,t],_.M)),0):t},$S:50},h.jQ.prototype={$1(e){var t=this.a;t.fx.v(e)||f.ts(e,"_")||t.n(m.nd(),e)},$S:21},h.jS.prototype={$2(e,t){var n,r,a,i,o,s,l,u=this;-1!==t&&(null!=(n=u.b.f.j(0,t))?((r=u.a).ay.m(0,e,n),a=u.c,n.S(d.a6,e,a),null!=(i=n.CW)&&i.S(d.A,e,a),(i="POSITION"===e&&(null==n.ax||null==n.at))&&a.n(m.nZ(),"POSITION"),o=h.dj(n),null!=(s=a.fr.j(0,h.a(e.split("_"),_.s)[0]))?s.H(0,o)?"NORMAL"===e?((i=a.c).push("NORMAL"),l=a.R(),a.Z(n,new h.fr(l,5126===n.y?null:n.gbS())),i.pop()):"TANGENT"===e?((i=a.c).push("TANGENT"),l=a.R(),a.Z(n,new h.fs(l,5126===n.y?null:n.gbS())),i.pop()):"COLOR_0"===e&&5126===n.y&&((i=a.c).push(e),a.Z(n,new h.eG(a.R())),i.pop()):a.l(m.nY(),h.a([o,s],_.M),e):5125===n.y&&a.n(m.qV(),e),(i=-1!==(i=n.x)&&i%4!=0||n.gac()%4!=0&&null!=(i=n.CW)&&-1===i.z)&&a.n(m.nX(),e),-1===(i=r.CW)?r.ch=r.CW=n.z:i!==n.z&&a.n(m.r0(),e),null!=(i=n.CW)&&-1===i.z&&(-1===i.ax&&(i.ax=n.gac()),r.cb(n,e,a))):u.c.l(m.N(),h.a([t],_.M),e))},$S:4},h.jT.prototype={$2(e,t){var n;-1!==t&&(t+1>(n=this.a).ax?this.b.l(m.o_(),h.a([e,t],_.M),"material"):n.dx[t]=-1)},$S:4},h.jU.prototype={$1:e=>-1!==e,$S:8},h.jV.prototype={$2(e,t){var n,r,a,i,o,s,l=this;-1!==t&&(null==(n=l.b.f.j(0,t))?l.c.l(m.N(),h.a([t],_.M),e):(r=l.c,n.S(d.a6,e,r),null!=(a=n.CW)&&a.S(d.A,e,r),null==(i=l.a.ay.j(0,e))?r.n(m.r_(),e):i.z!==n.z&&r.n(m.qZ(),e),(a="POSITION"===e&&(null==n.ax||null==n.at))&&r.n(m.nZ(),"POSITION"),o=h.dj(n),null==(s=r.fx.j(0,e))||s.H(0,o)||r.l(m.nY(),h.a([o,s],_.M),e),(a=-1!==(a=n.x)&&a%4!=0||n.gac()%4!=0&&null!=(a=n.CW)&&-1===a.z)&&r.n(m.nX(),e),null!=(a=n.CW)&&-1===a.z&&(-1===a.ax&&(a.ax=n.gac()),l.a.cb(n,e,r))),l.a.cx[l.d].m(0,e,n))},$S:4},h.jR.prototype={$0:()=>h.aN(_.W),$S:53},h.eQ.prototype={a_(e,t,n,r){var a,i,o=this,s=o.a;return r>s&&e.l(m.q0(),h.a([t,r,s],_.M),o.at),r===o.c&&e.l(m.q1(),h.a([r,t],_.M),o.at),o.w&&((s=o.as)[a=o.z]=r,++a,o.z=a,3===a&&(o.z=0,(s=(a=s[0])===(i=s[1])||i===(s=s[2])||s===a)&&++o.Q)),!0},aD(e){var t=this.Q;return t>0&&e.l(m.q2(),h.a([t,this.b],_.M),this.at),!0}},h.an.prototype={q(e,t){var n,r,a,i=this,o=i.w;i.CW=e.z.j(0,o),n=i.y,i.dx=e.cx.j(0,n),r=i.Q,i.cy=e.at.j(0,r),-1!==o&&(null==(a=i.CW)?t.l(m.N(),h.a([o],_.M),"camera"):a.a$=!0),-1!==n&&(null==(o=i.dx)?t.l(m.N(),h.a([n],_.M),"skin"):o.a$=!0),-1!==r&&(null==(o=i.cy)?t.l(m.N(),h.a([r],_.M),"mesh"):(o.a$=!0,null!=(o=o.w)&&((o=!(r=null==(n=i.ay))&&(o=null==(o=o.j(0,0).cx)?null:o.length)!==n.length)&&(o=m.r5(),n=n.length,a=i.cy.w.j(0,0).cx,t.l(o,h.a([n,null==a?null:a.length],_.M),"weights")),r&&null!=i.cy.x&&(i.cy.y=!0),null!=i.dx?(o=i.cy.w).ba(o,new h.jZ)&&t.O(m.r3()):(o=i.cy.w).aP(o,new h.k_)&&t.O(m.r4())))),null!=(o=i.x)&&(n=h.S(o.gi(o),null,!1,_.L),i.cx=n,h.nK(o,n,e.ax,"children",t,new h.k0(i,t)))},c8(e,t){var n,r,a,i,o=this;if(o.ch.C(0,e),null!=o.cx&&t.C(0,o))for(r=(n=o.cx).length,a=0;a<r;++a)null!=(i=n[a])&&i.c8(e,t)}},h.jZ.prototype={$1:e=>0===e.as,$S:5},h.k_.prototype={$1:e=>0!==e.as,$S:5},h.k0.prototype={$3(e,t,n){null!=e.db&&this.b.an(m.r2(),h.a([t],_.M),n),e.db=this.a},$S:9},h.bC.prototype={},h.bD.prototype={q(e,t){var n,r=this.w;null!=r&&(n=h.S(r.gi(r),null,!1,_.L),this.x=n,h.nK(r,n,e.ax,"nodes",t,new h.k9(this,t)))}},h.k9.prototype={$3(e,t,n){null!=e.db&&this.b.an(m.r6(),h.a([t],_.M),n),e.c8(this.a,h.aN(_.L))},$S:9},h.bF.prototype={q(e,t){var n,r,a,i,o,s=this,l="inverseBindMatrices",u="skeleton",c=s.w;s.z=e.f.j(0,c),n=e.ax,r=s.x,s.as=n.j(0,r),null!=(a=s.y)&&(i=h.S(a.gi(a),null,!1,_.L),s.Q=i,h.nK(a,i,n,"joints",t,new h.le(s)),0===s.at.a&&t.n(m.rS(),"joints")),-1!==c&&(null==(n=s.z)?t.l(m.N(),h.a([c],_.M),l):(n.S(d.b2,l,t),null!=(c=s.z.CW)&&c.S(d.b4,l,t),(c=t.c).push(l),null!=(n=s.z.CW)&&-1!==n.z&&t.O(m.r7()),(o=h.dj(s.z)).N(0,d.X)?t.Z(s.z,new h.eP(t.R())):t.G(m.r8(),h.a([o,h.a([d.X],_.p)],_.M)),null!=(n=s.Q)&&s.z.z<n.length&&t.G(m.qS(),h.a([n.length,s.z.z],_.M)),c.pop())),-1!==r&&(null==(c=s.as)?t.l(m.N(),h.a([r],_.M),u):s.at.H(0,c)||t.n(m.rT(),u))}},h.le.prototype={$3(e,t,n){var r,a,i;for(e.dy=!0,r=h.aN(_.L),a=e;null!=a&&r.C(0,a);)a=a.db;0===(i=this.a.at).a?i.F(0,r):i.dr(r.gcw(r),!1)},$S:9},h.eP.prototype={a_(e,t,n,r){return(3===n&&0!==r||7===n&&0!==r||11===n&&0!==r||15===n&&1!==r)&&e.l(m.q4(),h.a([t,n,r],_.M),this.a),!0}},h.bH.prototype={q(e,t){var n,r,a=this,i=a.x;a.z=e.Q.j(0,i),n=a.w,a.y=e.ay.j(0,n),-1!==i&&(null==(r=a.z)?t.l(m.N(),h.a([i],_.M),"source"):r.a$=!0),-1!==n&&(null==(i=a.y)?t.l(m.N(),h.a([n],_.M),"sampler"):i.a$=!0)},c_(e,t){var n=this.z,r=null==n,a=r?null:n.x;null==a&&(a=null==(n=r?null:n.as)?null:n.a),null==a||d.d.H(d.ao,a)||t.l(m.o0(),h.a([a,d.ao],_.M),"source")},$icy:1},h.lw.prototype={},h.i.prototype={Z(e,t){f.ne(this.d.bV(e,new h.hf),t)},U(e,t){var n,r,a;for(n=f.aC(t),r=this.e;n.p();)null!=(a=n.gt())&&r.m(0,a,e)},c2(e){var t,n,r,a=this.c;return 0===a.length&&null!=e&&d.a.W(e,"/")?e:((t=null!=e)&&a.push(e),r=(n=this.db).a+="/",n.a=h.nq(r,new h.aa(a,new h.hh,h.Z(a).h("aa<1,e*>")),"/"),t&&a.pop(),a=n.a,n.a="",a.charCodeAt(0),a)},R(){return this.c2(null)},e5(e,t){var n,r,a,i,o,s,l,u,c,p,g,b,v=this,y="/extensionsUsed/";for(d.d.F(v.as,e),n=f.T(e),r=v.ax,a=v.cx,i=d.dz.a,o=_.M,s=f.T(t),l=0;l<n.gi(e);++l)u=n.j(e,l),null==(p=null==(c=m.pX().aR(u))?null:c.b[1])?v.n(m.rq(),y+l):i.v(p)||v.l(m.rW(),h.a([p],o),y+l),null!=(g=a.bb(0,new h.hk(u),new h.hl(u)))?(g.b.L(0,new h.hm(v,g)),null!=(c=g.c)&&c.$1(v),(c=g.d&&!s.H(t,u))&&v.l(m.rQ(),h.a([u],o),y+l),r.push(u)):v.l(m.rb(),h.a([u],o),y+l);for(l=0;l<s.gi(t);++l)b=s.j(t,l),n.H(e,b)||v.l(m.rX(),h.a([b],o),"/extensionsRequired/"+l)},aa(e,t,n,r,a,i){var o,s,l,u=this,c=u.b,f=e.b;if(!c.b.H(0,f)){if((o=c.a)>0&&u.cy.length===o)throw u.y=!0,h.d(d.b9);s=null!=(c=c.c)?c.j(0,f):null,null!=i?u.cy.push(new h.cS(e,s,null,i,t)):(l=null!=n?d.c.k(n):r,c=a?"":u.c2(l),u.cy.push(new h.cS(e,s,c,null,t)))}},n(e,t){return this.aa(e,null,null,t,!1,null)},G(e,t){return this.aa(e,t,null,null,!1,null)},l(e,t,n){return this.aa(e,t,null,n,!1,null)},an(e,t,n){return this.aa(e,t,n,null,!1,null)},Y(e,t){return this.aa(e,null,t,null,!1,null)},O(e){return this.aa(e,null,null,null,!1,null)},aC(e,t,n){return this.aa(e,t,null,null,n,null)},aO(e,t){return this.aa(e,null,null,null,!1,t)},a1(e,t,n){return this.aa(e,t,null,null,!1,n)}},h.hg.prototype={$1:e=>e.a,$S:56},h.hf.prototype={$0:()=>h.a([],_.gd),$S:57},h.hh.prototype={$1(e){var t;return e.toString,t=h.pU(e,"~","~0"),h.pU(t,"/","~1")},$S:58},h.hk.prototype={$1(e){return e.a===this.a},$S:22},h.hl.prototype={$0(){return d.d.bb(d.as,new h.hi(this.a),new h.hj)},$S:60},h.hi.prototype={$1(e){return e.a===this.a},$S:22},h.hj.prototype={$0:()=>null,$S:2},h.hm.prototype={$2(e,t){this.a.z.m(0,new h.c9(e,this.b.a),t)},$S:61},h.bx.prototype={$ia7:1},h.cQ.prototype={k(e){return"ImageCodec."+this.b}},h.dR.prototype={k(e){return"_ColorPrimaries."+this.b}},h.d1.prototype={k(e){return"_ColorTransfer."+this.b}},h.ca.prototype={k(e){return"Format."+this.b}},h.cb.prototype={},h.iB.prototype={$1(e){var t,n,r,a=this.a;if(!a.c){switch(t=h.os(_.a.a(e)),n=a.a,r=this.b,t){case d.af:a.b=new h.iL(r,n);break;case d.ag:t=new Uint8Array(13),a.b=new h.k2(d.u,d.r,t,new Uint8Array(32),r,n);break;case d.ah:a.b=new h.lB(new Uint8Array(30),r,n);break;default:return n.K(),void r.P(d.bi)}a.c=!0}a.b.C(0,e)},$S:10},h.iD.prototype={$1(e){this.a.a.K(),this.b.P(e)},$S:23},h.iC.prototype={$0(){var e=this.a.b;e.b.K(),0==(30&(e=e.a).a.a)&&e.P(d.bh)},$S:2},h.iA.prototype={c6(e){var t;this.b.K(),0==(30&(t=this.a).a.a)&&t.P(e)}},h.iL.prototype={C(e,t){var n,r,a;try{this.dz(t)}catch(r){if(!((a=h.K(r))instanceof h.aJ))throw r;n=a,this.b.K(),this.a.P(n)}},dz(e){var t,n,r,a,i,o,s,l,u,c,p=this,m=new h.iN,g=new h.iM;for(t=f.T(e),n=0;n!==t.gi(e);){switch(r=t.j(e,n),p.c){case 0:if(255!==r)throw h.d(d.bT);p.c=255;break;case 255:g.$1(r)&&(p.c=1,p.d=r,p.e=p.f=0);break;case 1:p.e=r<<8>>>0,p.c=2;break;case 2:if(a=p.e+r,p.e=a,a<2)throw h.d(d.bR);m.$1(p.d)&&(a=p.e,p.r=new Uint8Array(a-2)),p.c=3;break;case 3:if(i=Math.min(t.gi(e)-n,p.e-p.f-2),a=m.$1(p.d),s=(o=p.f)+i,a){if(a=p.r,p.f=s,(a&&d.j).a4(a,o,s,e,n),p.f===p.e-2)return p.b.K(),l=(e=p.r)[0],t=e[1],a=e[2],o=e[3],s=e[4],3===(u=e[5])?c=d.p:1===u?c=d.ad:(h.a0(d.bS),c=d.O),0!=(30&(u=p.a.a).a)&&h.a0(h.cZ("Future already completed")),void u.af(new h.cb("image/jpeg",l,c,(o<<8|s)>>>0,(t<<8|a)>>>0,d.r,d.u,!1,!1))}else p.f=s,s===p.e-2&&(p.c=255);n+=i;continue}++n}}},h.iN.prototype={$1:e=>192==(240&e)&&196!==e&&200!==e&&204!==e||222===e,$S:8},h.iM.prototype={$1:e=>!(1===e||208==(248&e)||216===e||217===e||255===e),$S:8},h.k2.prototype={C(e,t){var n,r,a,i,o,s,l,u,c,p,m,g,b,_,v=this,y=new h.k3(v);for(n=f.T(t),r=v.ay,a=v.ax,i=0;i!==n.gi(t);){switch(o=n.j(t,i),v.x){case 0:i+=8,v.x=1;continue;case 1:v.c=(v.c<<8|o)>>>0,4==++v.d&&(v.x=2);break;case 2:if(s=(v.e<<8|o)>>>0,v.e=s,4==++v.f){switch(s){case 1229472850:if(13!==v.c)return v.b.K(),void(0==(30&(n=v.a).a.a)&&n.P(d.q));v.y=!0;break;case 1951551059:v.z=!0;break;case 1665684045:if(32!==v.c)return v.b.K(),void(0==(30&(n=v.a).a.a)&&n.P(d.q));break;case 1934772034:if(1!==v.c)return v.b.K(),void(0==(30&(n=v.a).a.a)&&n.P(d.q));break;case 1883789683:if(9!==v.c)return v.b.K(),void(0==(30&(n=v.a).a.a)&&n.P(d.q));break;case 1732332865:if(4!==v.c)return v.b.K(),void(0==(30&(n=v.a).a.a)&&n.P(d.q));break;case 1766015824:v.Q=d.F,v.as=d.E;break;case 1229209940:switch(v.b.K(),v.y||v.a.P(d.bQ),n=a.buffer,l=(t=new DataView(n,0)).getUint32(0,!1),u=t.getUint32(4,!1),c=t.getUint8(8),t.getUint8(9)){case 0:p=v.z?d.ae:d.ad;break;case 2:case 3:p=v.z?d.B:d.p;break;case 4:p=d.ae;break;case 6:p=d.B;break;default:p=d.O}return(n=v.as)===d.r&&(n=v.as=d.t),(r=v.Q)===d.u&&(r=v.Q=d.v),a=v.at,0!=(30&(s=v.a.a).a)&&h.a0(h.cZ("Future already completed")),void s.af(new h.cb("image/png",c,p,l,u,n,r,a,!1))}0===v.c?v.x=4:v.x=3}break;case 3:switch(s=n.gi(t),m=v.c,g=v.w,b=Math.min(s-i,m-g),v.e){case 1229472850:s=g+b,v.w=s,d.j.a4(a,g,s,t,i);break;case 1665684045:case 1732332865:case 1883789683:s=g+b,v.w=s,d.j.a4(r,g,s,t,i);break;case 1934772034:v.Q=d.v,v.as=d.t,v.w=g+1;break;default:v.w=g+b}if(v.w===v.c){switch(v.e){case 1665684045:v.as===d.r&&v.dh();break;case 1732332865:v.Q===d.u&&v.di();break;case 1883789683:s=r.buffer,(_=new DataView(s,0)).getUint32(0,!1)!==_.getUint32(4,!1)&&(v.at=!0)}v.x=4}i+=b;continue;case 4:4==++v.r&&(y.$0(),v.x=1)}++i}},di(){var e=this;if(e.Q!==d.v)switch(h.f3(e.ay.buffer,0,null).getUint32(0,!1)){case 45455:e.Q=d.v;break;case 1e5:e.Q=d.e9;break;default:e.Q=d.F}},dh(){var e,t=this;t.as!==d.t&&(31270===(e=h.f3(t.ay.buffer,0,null)).getUint32(0,!1)&&32900===e.getUint32(4,!1)&&64e3===e.getUint32(8,!1)&&33e3===e.getUint32(12,!1)&&3e4===e.getUint32(16,!1)&&6e4===e.getUint32(20,!1)&&15e3===e.getUint32(24,!1)&&6e3===e.getUint32(28,!1)?t.as=d.t:t.as=d.E)}},h.k3.prototype={$0(){var e=this.a;e.r=e.w=e.f=e.e=e.d=e.c=0},$S:1},h.lB.prototype={C(e,t){var n,r,a,i,o,s,l,u=this,c=f.a3(t),p=u.d,m=u.c;if(c=p+Math.min(c,30-p),u.d=c,d.j.d1(m,p,c,t),!(c=!((c=u.d)>=25)||c<30&&76!==m[15]))if(u.b.K(),1380533830===(n=h.f3(m.buffer,0,null)).getUint32(0,!1)&&1464156752===n.getUint32(8,!1)){switch(n.getUint32(12,!1)){case 1448097824:r=16383&n.getUint16(26,!0),a=16383&n.getUint16(28,!0),i=d.p,o=!1,s=!1;break;case 1448097868:r=1+(((c=m[21])|(63&(p=m[22]))<<8)>>>0),a=1+((p>>>6|(c=m[23])<<2|(15&(m=m[24]))<<10)>>>0),i=16==(16&m)?d.B:d.p,o=!1,s=!1;break;case 1448097880:s=2==(2&(l=m[20])),o=32==(32&l),i=16==(16&l)?d.B:d.p,r=1+((m[24]|m[25]<<8|m[26]<<16)>>>0),a=1+((m[27]|m[28]<<8|m[29]<<16)>>>0);break;default:return void u.c6(d.ai)}c=o?d.F:d.v,p=o?d.E:d.t,u.a.a2(new h.cb("image/webp",8,i,r,a,p,c,!1,s))}else u.c6(d.ai)}},h.dO.prototype={$ia7:1},h.dN.prototype={$ia7:1},h.aJ.prototype={k(e){return this.a},$ia7:1},h.d6.prototype={k(e){return"_Storage."+this.b}},h.fk.prototype={bk(){var e,t=this,n=_.X,r=_._,a=h.a8(n,r);return a.m(0,"pointer",t.a),null!=(e=t.b)&&a.m(0,"mimeType",e),null!=(e=t.c)&&a.m(0,"storage",d.co[e.a]),null!=(e=t.e)&&a.m(0,"uri",e),null!=(e=t.d)&&a.m(0,"byteLength",e),null!=(e=t.f)&&((n=h.a8(n,r)).m(0,"width",e.d),n.m(0,"height",e.e),(r=e.c)!==d.O&&n.m(0,"format",d.d1[r.a]),(r=e.f)!==d.r&&n.m(0,"primaries",d.cW[r.a]),(r=e.r)!==d.u&&n.m(0,"transfer",d.cV[r.a]),(r=e.b)>0&&n.m(0,"bits",r),a.m(0,"image",n)),a}},h.k6.prototype={aU(){return this.e7()},e7(){var e,t,n,r=0,a=h.eu(_.H),i=2,o=this,s=h.ew((function(l,u){for(1===l&&(e=u,r=i);;)switch(r){case 0:return t=!0,i=4,r=7,h.da(o.b3(),s);case 7:return r=8,h.da(o.b4(),s);case 8:t&&h.xr(o.a,o.b),o.a.ey(o.b),i=2,r=6;break;case 4:if(i=3,n=e,h.K(n)instanceof h.bx){r=1;break}throw n;case 3:r=2;break;case 6:case 1:return h.ep(void 0,a);case 2:return h.eo(e,a)}}));return h.eq(s,a)},b3(){var e,t,n,r,a,i,o,s,l,u,c,p,g,b,v,y,x,A,w=0,T=h.eu(_.H),E=1,P=this,S=h.ew((function(C,N){for(1===C&&(e=N,w=E);;)switch(w){case 0:y=P.b,x=y.c,d.d.si(x,0),x.push("buffers"),i=P.a.x,o=i.b,s=y.ch,l=_.M,u=_.x,i=i.a,c=i.length,p=0;case 2:if(!(p<o)){w=4;break}if(null==(t=(g=p>=c)?null:i[p])){w=3;break}return x.push(d.c.k(p)),(b=new h.fk(y.R())).b="application/gltf-buffer",n=new h.k7(P,b,p),r=null,E=6,w=9,h.da(n.$1(t),S);case 9:r=N,E=1,w=8;break;case 6:if(E=5,A=e,g=h.K(A),!u.b(g))throw A;a=g,y.l(m.na(),h.a([a],l),"uri"),w=8;break;case 5:w=1;break;case 8:null!=r&&(b.d=f.a3(r),f.a3(r)<t.x?y.G(m.qe(),h.a([f.a3(r),t.x],l)):(y.dx&&0===p&&!t.y&&(g=t.x,v=g+(3&-g),f.a3(r)>v&&y.G(m.qf(),h.a([f.a3(r)-v],l))),null==(g=t).z&&(g.z=r))),s.push(b.bk()),x.pop();case 3:++p,w=2;break;case 4:return h.ep(null,T);case 1:return h.eo(e,T)}}));return h.eq(S,T)},b4(){var e,t,n,r,a,i,o,s,l,u,c,f,p,g,b,v,y,x,A,w,T,E,P=0,S=h.eu(_.H),C=1,N=this,I=h.ew((function(M,F){for(1===M&&(e=F,P=C);;)switch(P){case 0:w=N.b,T=w.c,d.d.si(T,0),T.push("images"),l=N.a.Q,u=l.b,c=w.ch,f=_.M,p=_.x,g=w.dy,l=l.a,b=l.length,v=0;case 2:if(!(v<u)){P=4;break}if(null==(t=(y=v>=b)?null:l[v])){P=3;break}T.push(d.c.k(v)),x=new h.fk(w.R()),n=new h.k8(N,x),r=null;try{r=n.$1(t)}catch(e){if(y=h.K(e),!p.b(y))throw e;a=y,w.l(m.na(),h.a([a],f),"uri")}i=null,P=null!=r?5:6;break;case 5:return C=8,P=11,h.da(h.u2(r),I);case 11:i=F,(y=d.d.H(g,i.a))||w.G(m.qj(),h.a([i.a],f)),C=1,P=10;break;case 8:if(C=7,E=e,(y=h.K(E))instanceof h.dO)w.O(m.qm());else if(y instanceof h.dN)w.O(m.ql());else if(y instanceof h.aJ)o=y,w.G(m.qg(),h.a([o],f));else{if(!p.b(y))throw E;s=y,w.l(m.na(),h.a([s],f),"uri")}P=10;break;case 7:P=1;break;case 10:null!=i&&(x.b=i.a,null!=t.x&&t.x!==i.a&&(y=m.qi(),A=h.a([i.a,t.x],f),w.l(y,A,x.c===d.aM?"bufferView":"uri")),(y=0===(y=i.d)||(y&y-1)>>>0!=0||!(0!==(y=i.e)&&(y&y-1)>>>0==0))&&w.G(m.qk(),h.a([i.d,i.e],f)),((y=i).f===d.E||y.r===d.F||i.x||i.w)&&w.O(m.qh()),t.as=i,x.f=i);case 6:c.push(x.bk()),T.pop();case 3:++v,P=2;break;case 4:return h.ep(null,S);case 1:return h.eo(e,S)}}));return h.eq(I,S)}},h.k7.prototype={$1(e){var t,n,r,a=this;return-1===e.x?null:null!=(t=e.w)?((n=a.b).c=d.aN,n.e=t.k(0),a.a.c.$1(t)):null!=(t=e.z)?(a.b.c=d.aL,t):(n=(t=a.a).b).dx&&0===a.c&&!e.y?(a.b.c=d.eb,null==(r=t.c.$0())&&n.O(m.qO()),r):null},$S:64},h.k8.prototype={$1(e){var t,n,r=this;if(0===e.a.a){if(null!=(t=e.y))return(n=r.b).c=d.aN,n.e=t.k(0),r.a.d.$1(t);if(null!=(t=e.z))return r.b.c=d.aL,h.np(t,_.w);if(null!=e.Q&&(r.b.c=d.aM,e.ev(),null!=(t=e.z)))return h.np(t,_.w)}return null},$S:65},h.n7.prototype={$2(e,t){var n,r,a,i,o,s,l,u,c=h.mB(t);if(null!=(null==c?null:c.ay)&&(n=(c=this.a).c,d.d.si(n,0),n.push("accessors"),n.push(d.c.k(e)),null!=(r=t.ay.ge4())))for(n=r.length,a=t.z,i=_.M,o=0,s=-1,l=0;l<n;++l,s=u)u=r[l],-1!==s&&u<=s&&c.l(m.qb(),h.a([o,u,s],i),"sparse"),u>=a&&c.l(m.qa(),h.a([o,u,a],i),"sparse"),++o},$S:66},h.n8.prototype={$1:e=>0===e.as,$S:5},h.n9.prototype={$2(e,t){for(var n,r,a,i,o=this,s=null,l=t.CW,u=t.as,c=h.S(u,s,!1,_.bF),f=h.S(u,s,!1,_.ga),p=_.hc,m=t.ay,g=0;;){if(!(g<u)){n=!1;break}if(r=""+g,a=h.mB(m.j(0,"JOINTS_"+r)),i=h.mB(m.j(0,"WEIGHTS_"+r)),r=(null==a?s:a.z)!==l||(null==i?s:i.z)!==l){n=!0;break}r=p.a(a).ad(),c[g]=new h.aG(r.a(),h.C(r).h("aG<1>")),r=i.bn(),f[g]=new h.aG(r.a(),h.C(r).h("aG<1>")),++g}n||((p=(u=o.b).c).push(d.c.k(e)),p.push("attributes"),m=o.c,d.d.F(m,c),d.d.F(m,f),u=u.R(),m=o.a,o.d.push(new h.eT(c,f,m.b-1,m.a,u,h.aN(_.e))),p.pop(),p.pop())},$S:20},h.mE.prototype={$1:e=>null==e.gt(),$S:67},h.eT.prototype={dU(e){var t,n,r,a,i,o,s,l,u,c,f,d,p,g,b,v=this;for(n=(t=v.a).length,r=v.b,a=v.c,o=(i=v.e)+"/JOINTS_",s=_.M,l=v.z,i+="/WEIGHTS_",u=v.d,c=0;c<n;++c){if(null==(f=t[c].gt()))return void(v.w=!0);f>a?e.l(m.q7(),h.a([v.f,v.r,f,a,u],s),o+c):0!==(d=r[c].gt())?(l.C(0,f)?p=!0:(e.l(m.q6(),h.a([v.f,v.r,f],s),o+c),p=!1),d<0?e.l(m.qc(),h.a([v.f,v.r,d],s),i+c):p&&(g=v.x,(b=m.ob())[0]=g+d,v.x=b[0],v.y+=2e-7)):0!==f&&e.l(m.q8(),h.a([v.f,v.r,f],s),o+c)}if(4==++v.r){if(Math.abs(v.x-1)>v.y)for(c=0;c<n;++c)t=m.qd(),r=v.f,e.l(t,h.a([r-3,r,v.x],s),i+c);l.cv(0),v.x=v.y=v.r=0}++v.f}},h.bE.prototype={k(e){return"Severity."+this.b}},h.iG.prototype={},h.hn.prototype={},h.hK.prototype={$1:e=>"Actual data byte length ("+h.b(e[0])+") is less than the declared buffer byte length ("+h.b(e[1])+").",$S:0},h.hL.prototype={$1:e=>"GLB-stored BIN chunk contains "+h.b(e[0])+" extra padding byte(s).",$S:0},h.hD.prototype={$1:e=>"Declared minimum value for this component ("+h.b(e[0])+") does not match actual minimum ("+h.b(e[1])+").",$S:0},h.hC.prototype={$1:e=>"Declared maximum value for this component ("+h.b(e[0])+") does not match actual maximum ("+h.b(e[1])+").",$S:0},h.hs.prototype={$1:e=>"Accessor contains "+h.b(e[0])+" element(s) less than declared minimum value "+h.b(e[1])+".",$S:0},h.hr.prototype={$1:e=>"Accessor contains "+h.b(e[0])+" element(s) greater than declared maximum value "+h.b(e[1])+".",$S:0},h.hH.prototype={$1:e=>"Vector3 at accessor indices "+h.b(e[0])+".."+h.b(e[1])+" is not of unit length: "+h.b(e[2])+".",$S:0},h.hy.prototype={$1:e=>"Vector3 with sign at accessor indices "+h.b(e[0])+".."+h.b(e[1])+" has invalid w component: "+h.b(e[2])+". Must be 1.0 or -1.0.",$S:0},h.hq.prototype={$1:e=>"Animation sampler output accessor element at indices "+h.b(e[0])+".."+h.b(e[1])+" is not of unit length: "+h.b(e[2])+".",$S:0},h.hE.prototype={$1:e=>"Accessor element at index "+h.b(e[0])+" is not clamped to 0..1 range: "+h.b(e[1])+".",$S:0},h.hw.prototype={$1:e=>"Accessor element at index "+h.b(e[0])+" is "+h.b(e[1])+".",$S:0},h.ht.prototype={$1:e=>"Indices accessor element at index "+h.b(e[0])+" has value "+h.b(e[1])+" that is greater than the maximum vertex index available ("+h.b(e[2])+").",$S:0},h.hv.prototype={$1:e=>"Indices accessor contains "+h.b(e[0])+" degenerate triangles (out of "+h.b(e[1])+").",$S:0},h.hu.prototype={$1:e=>"Indices accessor contains primitive restart value ("+h.b(e[0])+") at index "+h.b(e[1])+".",$S:0},h.ho.prototype={$1:e=>b.m+h.b(e[0])+" is negative: "+h.b(e[1])+".",$S:0},h.hp.prototype={$1:e=>b.m+h.b(e[0])+" is less than or equal to previous: "+h.b(e[1])+" <= "+h.b(e[2])+".",$S:0},h.hG.prototype={$1:e=>b.d+h.b(e[0])+" is less than or equal to previous: "+h.b(e[1])+" <= "+h.b(e[2])+".",$S:0},h.hF.prototype={$1:e=>b.d+h.b(e[0])+" is greater than or equal to the number of accessor elements: "+h.b(e[1])+" >= "+h.b(e[2])+".",$S:0},h.hx.prototype={$1:e=>"Matrix element at index "+h.b(e[0])+" (component index "+h.b(e[1])+") contains invalid value: "+h.b(e[2])+".",$S:0},h.hN.prototype={$1:e=>"Image data is invalid. "+h.b(e[0]),$S:0},h.hP.prototype={$1:e=>"Recognized image format '"+h.b(e[0])+"' does not match declared image format '"+h.b(e[1])+"'.",$S:0},h.hS.prototype={$1:e=>"Unexpected end of image stream.",$S:0},h.hT.prototype={$1:e=>"Image format not recognized.",$S:0},h.hQ.prototype={$1:e=>"'"+h.b(e[0])+"' MIME type requires an extension.",$S:0},h.hR.prototype={$1:e=>"Image has non-power-of-two dimensions: "+h.b(e[0])+"x"+h.b(e[1])+".",$S:0},h.hO.prototype={$1:e=>"Image contains unsupported features like non-default colorspace information, non-square pixels, or animation.",$S:0},h.hU.prototype={$1:e=>"URI is used in GLB container.",$S:0},h.hM.prototype={$1:e=>"Data URI is used in GLB container.",$S:0},h.hA.prototype={$1:e=>"Joints accessor element at index "+h.b(e[0])+" (component index "+h.b(e[1])+") has value "+h.b(e[2])+" that is greater than the maximum joint index ("+h.b(e[3])+") set by skin "+h.b(e[4])+".",$S:0},h.hz.prototype={$1:e=>"Joints accessor element at index "+h.b(e[0])+" (component index "+h.b(e[1])+") has value "+h.b(e[2])+" that is already in use for the vertex.",$S:0},h.hI.prototype={$1:e=>"Weights accessor element at index "+h.b(e[0])+" (component index "+h.b(e[1])+") has negative value "+h.b(e[2])+".",$S:0},h.hJ.prototype={$1:e=>"Weights accessor elements (at indices "+h.b(e[0])+".."+h.b(e[1])+") have non-normalized sum: "+h.b(e[2])+".",$S:0},h.hB.prototype={$1:e=>"Joints accessor element at index "+h.b(e[0])+" (component index "+h.b(e[1])+") is used with zero weight but has non-zero value ("+h.b(e[2])+").",$S:0},h.iE.prototype={},h.iF.prototype={$1:e=>f.aq(e[0]),$S:0},h.ka.prototype={},h.kc.prototype={$1:e=>"Invalid array length "+h.b(e[0])+". Valid lengths are: "+f.br(_.Y.a(e[1]),h.pE(),_.X).k(0)+".",$S:0},h.kd.prototype={$1(e){var t=e[0];return t="string"==typeof t?"'"+t+"'":f.aq(t),"Type mismatch. Array element "+h.b(t)+" is not a '"+h.b(e[1])+"'."},$S:0},h.kb.prototype={$1:e=>"Duplicate element.",$S:0},h.kf.prototype={$1:e=>"Index must be a non-negative integer.",$S:0},h.kg.prototype={$1:e=>"Invalid JSON data. Parser output: "+h.b(e[0]),$S:0},h.kh.prototype={$1:e=>"Invalid URI '"+h.b(e[0])+"'. Parser output:\n"+h.b(e[1]),$S:0},h.ke.prototype={$1:e=>"Entity cannot be empty.",$S:0},h.ki.prototype={$1:e=>(e.toString,"Exactly one of "+new h.aa(e,h.dh(),h.Z(e).h("aa<1,e*>")).k(0)+" properties must be defined."),$S:0},h.kj.prototype={$1:e=>"Value '"+h.b(e[0])+"' does not match regexp pattern '"+h.b(e[1])+"'.",$S:0},h.kk.prototype={$1(e){var t=e[0];return t="string"==typeof t?"'"+t+"'":f.aq(t),"Type mismatch. Property value "+h.b(t)+" is not a '"+h.b(e[1])+"'."},$S:0},h.kp.prototype={$1(e){var t=e[0];return t="string"==typeof t?"'"+t+"'":f.aq(t),"Invalid value "+h.b(t)+". Valid values are "+f.br(_.Y.a(e[1]),h.pE(),_.X).k(0)+"."},$S:0},h.kq.prototype={$1:e=>"Value "+h.b(e[0])+" is out of range.",$S:0},h.ko.prototype={$1:e=>"Value "+h.b(e[0])+" is not a multiple of "+h.b(e[1])+".",$S:0},h.kl.prototype={$1:e=>"Property '"+h.b(e[0])+"' must be defined.",$S:0},h.km.prototype={$1:e=>"Unexpected property.",$S:0},h.kn.prototype={$1:e=>"Dependency failed. '"+h.b(e[0])+"' must be defined.",$S:0},h.kr.prototype={},h.la.prototype={$1:e=>"Unknown glTF major asset version: "+h.b(e[0])+".",$S:0},h.lb.prototype={$1:e=>"Unknown glTF minor asset version: "+h.b(e[0])+".",$S:0},h.kW.prototype={$1:e=>"Asset minVersion '"+h.b(e[0])+"' is greater than version '"+h.b(e[1])+"'.",$S:0},h.kG.prototype={$1:e=>"Invalid value "+h.b(e[0])+" for GL type '"+h.b(e[1])+"'.",$S:0},h.kt.prototype={$1:e=>"Only (u)byte and (u)short accessors can be normalized.",$S:0},h.ku.prototype={$1:e=>"Offset "+h.b(e[0])+" is not a multiple of componentType length "+h.b(e[1])+".",$S:0},h.ks.prototype={$1:e=>"Matrix accessors must be aligned to 4-byte boundaries.",$S:0},h.kv.prototype={$1:e=>"Sparse accessor overrides more elements ("+h.b(e[0])+") than the base accessor contains ("+h.b(e[1])+").",$S:0},h.kw.prototype={$1:e=>"Animated TRS properties will not affect a skinned mesh.",$S:0},h.kx.prototype={$1:e=>"Data URI media type must be 'application/octet-stream' or 'application/gltf-buffer'. Found '"+h.b(e[0])+"' instead.",$S:0},h.kz.prototype={$1:e=>"Buffer view's byteStride ("+h.b(e[0])+") is greater than byteLength ("+h.b(e[1])+").",$S:0},h.ky.prototype={$1:e=>"Only buffer views with raw vertex data can have byteStride.",$S:0},h.kA.prototype={$1:e=>"xmag and ymag should not be negative.",$S:0},h.kB.prototype={$1:e=>"xmag and ymag must not be zero.",$S:0},h.kC.prototype={$1:e=>"yfov should be less than Pi.",$S:0},h.kD.prototype={$1:e=>"zfar must be greater than znear.",$S:0},h.kO.prototype={$1:e=>"Alpha cutoff is supported only for 'MASK' alpha mode.",$S:0},h.kR.prototype={$1:e=>"Invalid attribute name.",$S:0},h.kV.prototype={$1:e=>"All primitives must have the same number of morph targets.",$S:0},h.kT.prototype={$1:e=>"No POSITION attribute found.",$S:0},h.kQ.prototype={$1:e=>"Indices for indexed attribute semantic '"+h.b(e[0])+"' must start with 0 and be continuous. Total expected indices: "+h.b(e[1])+", total provided indices: "+h.b(e[2])+".",$S:0},h.kU.prototype={$1:e=>"TANGENT attribute without NORMAL found.",$S:0},h.kS.prototype={$1:e=>"Number of JOINTS attribute semantics ("+h.b(e[0])+") does not match the number of WEIGHTS ("+h.b(e[1])+").",$S:0},h.kP.prototype={$1:e=>"The length of weights array ("+h.b(e[0])+b.p+h.b(e[1])+").",$S:0},h.l_.prototype={$1:e=>"A node can have either a matrix or any combination of translation/rotation/scale (TRS) properties.",$S:0},h.kY.prototype={$1:e=>"Do not specify default transform matrix.",$S:0},h.l0.prototype={$1:e=>"Matrix must be decomposable to TRS.",$S:0},h.l7.prototype={$1:e=>"Rotation quaternion must be normalized.",$S:0},h.ld.prototype={$1:e=>"Unused extension '"+h.b(e[0])+"' cannot be required.",$S:0},h.l6.prototype={$1:e=>"Extension '"+h.b(e[0])+"' cannot be optional.",$S:0},h.lc.prototype={$1:e=>"Extension uses unreserved extension prefix '"+h.b(e[0])+"'.",$S:0},h.kF.prototype={$1:e=>"Extension name has invalid format.",$S:0},h.kZ.prototype={$1:e=>"Empty node encountered.",$S:0},h.l3.prototype={$1:e=>"Node with a skinned mesh is not root. Parent transforms will not affect a skinned mesh.",$S:0},h.l2.prototype={$1:e=>"Local transforms will not affect a skinned mesh.",$S:0},h.l1.prototype={$1:e=>"A node with a skinned mesh is used in a scene that does not contain joint nodes.",$S:0},h.l8.prototype={$1:e=>"Joints do not have a common root.",$S:0},h.l9.prototype={$1:e=>"Skeleton node is not a common root.",$S:0},h.l5.prototype={$1:e=>"Non-relative URI found: '"+h.b(e[0])+"'.",$S:0},h.kX.prototype={$1:e=>"This extension may be incompatible with other extensions for the object.",$S:0},h.l4.prototype={$1:e=>"Prefer JSON Objects for extras.",$S:0},h.kE.prototype={$1:e=>"This property should not be defined as it will not be used.",$S:0},h.kH.prototype={$1:e=>"outerConeAngle ("+h.b(e[1])+") is less than or equal to innerConeAngle ("+h.b(e[0])+").",$S:0},h.kI.prototype={$1:e=>"Emissive strength has no effect when the emissive factor is zero or undefined.",$S:0},h.kN.prototype={$1:e=>"The volume extension needs to be combined with an extension that allows light to transmit through the surface.",$S:0},h.kM.prototype={$1:e=>"The volume extension should not be used with double-sided materials.",$S:0},h.kK.prototype={$1:e=>"Thickness minimum has no effect when a thickness texture is not defined.",$S:0},h.kJ.prototype={$1:e=>"Thickness maximum must be greater than or equal to the thickness minimum.",$S:0},h.kL.prototype={$1:e=>"Thickness texture has no effect when the thickness minimum is equal to the thickness maximum.",$S:0},h.iX.prototype={},h.j_.prototype={$1:e=>"Accessor's total byteOffset "+h.b(e[0])+" isn't a multiple of componentType length "+h.b(e[1])+".",$S:0},h.iY.prototype={$1:e=>"Referenced bufferView's byteStride value "+h.b(e[0])+" is less than accessor element's length "+h.b(e[1])+".",$S:0},h.iZ.prototype={$1:e=>"Accessor (offset: "+h.b(e[0])+", length: "+h.b(e[1])+") does not fit referenced bufferView ["+h.b(e[2])+"] length "+h.b(e[3])+".",$S:0},h.j0.prototype={$1:e=>"Override of previously set accessor usage. Initial: '"+h.b(e[0])+"', new: '"+h.b(e[1])+"'.",$S:0},h.j3.prototype={$1:e=>"Animation channel has the same target as channel "+h.b(e[0])+".",$S:0},h.j1.prototype={$1:e=>"Animation channel cannot target TRS properties of a node with defined matrix.",$S:0},h.j2.prototype={$1:e=>"Animation channel cannot target WEIGHTS when mesh does not have morph targets.",$S:0},h.j7.prototype={$1:e=>"accessor.min and accessor.max must be defined for animation input accessor.",$S:0},h.j5.prototype={$1:e=>"Invalid Animation sampler input accessor format '"+h.b(e[0])+"'. Must be one of "+f.br(_.Y.a(e[1]),h.dh(),_.X).k(0)+".",$S:0},h.j9.prototype={$1:e=>"Invalid animation sampler output accessor format '"+h.b(e[0])+"' for path '"+h.b(e[2])+"'. Must be one of "+f.br(_.Y.a(e[1]),h.dh(),_.X).k(0)+".",$S:0},h.j6.prototype={$1:e=>"Animation sampler output accessor with '"+h.b(e[0])+"' interpolation must have at least "+h.b(e[1])+" elements. Got "+h.b(e[2])+".",$S:0},h.j8.prototype={$1:e=>"Animation sampler output accessor of count "+h.b(e[0])+" expected. Found "+h.b(e[1])+".",$S:0},h.j4.prototype={$1:e=>"bufferView.byteStride must not be defined for buffer views used by animation sampler accessors.",$S:0},h.ja.prototype={$1:e=>"Buffer refers to an unresolved GLB binary chunk.",$S:0},h.jd.prototype={$1:e=>"BufferView does not fit buffer ("+h.b(e[0])+") byteLength ("+h.b(e[1])+").",$S:0},h.jc.prototype={$1:e=>"Override of previously set bufferView target or usage. Initial: '"+h.b(e[0])+"', new: '"+h.b(e[1])+"'.",$S:0},h.jb.prototype={$1:e=>"bufferView.target should be set for vertex or index data.",$S:0},h.je.prototype={$1:e=>"bufferView.byteStride must not be defined for buffer views containing image data.",$S:0},h.jf.prototype={$1:e=>"IBM accessor must have at least "+h.b(e[0])+" elements. Found "+h.b(e[1])+".",$S:0},h.jj.prototype={$1:e=>"Invalid accessor format '"+h.b(e[0])+"' for this attribute semantic. Must be one of "+f.br(_.Y.a(e[1]),h.dh(),_.X).k(0)+".",$S:0},h.jk.prototype={$1:e=>"Mesh attributes cannot use UNSIGNED_INT component type.",$S:0},h.jq.prototype={$1:e=>"accessor.min and accessor.max must be defined for POSITION attribute accessor.",$S:0},h.ji.prototype={$1:e=>"bufferView.byteStride must be defined when two or more accessors use the same buffer view.",$S:0},h.jh.prototype={$1:e=>"Vertex attribute data must be aligned to 4-byte boundaries.",$S:0},h.jn.prototype={$1:e=>"bufferView.byteStride must not be defined for indices accessor.",$S:0},h.jm.prototype={$1:e=>"Invalid indices accessor format '"+h.b(e[0])+"'. Must be one of "+f.br(_.Y.a(e[1]),h.dh(),_.X).k(0)+". ",$S:0},h.jl.prototype={$1:e=>"Number of vertices or indices ("+h.b(e[0])+") is not compatible with used drawing mode ('"+h.b(e[1])+"').",$S:0},h.jr.prototype={$1:e=>"Material is incompatible with mesh primitive: Texture binding '"+h.b(e[0])+"' needs 'TEXCOORD_"+h.b(e[1])+"' attribute.",$S:0},h.js.prototype={$1:e=>"All accessors of the same primitive must have the same count.",$S:0},h.jp.prototype={$1:e=>"The mesh primitive does not define this attribute semantic.",$S:0},h.jo.prototype={$1:e=>"Base accessor has different count.",$S:0},h.jt.prototype={$1:e=>"Node is a part of a node loop.",$S:0},h.ju.prototype={$1:e=>"Value overrides parent of node "+h.b(e[0])+".",$S:0},h.jx.prototype={$1(e){var t=h.b(e[0]),n=e[1];return"The length of weights array ("+t+b.p+h.b(null==n?0:n)+")."},$S:0},h.jv.prototype={$1:e=>"Node has skin defined, but mesh has no joints data.",$S:0},h.jw.prototype={$1:e=>"Node uses skinned mesh, but has no skin defined.",$S:0},h.jy.prototype={$1:e=>"Node "+h.b(e[0])+" is not a root node.",$S:0},h.jA.prototype={$1:e=>"Invalid IBM accessor format '"+h.b(e[0])+"'. Must be one of "+f.br(_.Y.a(e[1]),h.dh(),_.X).k(0)+". ",$S:0},h.jz.prototype={$1:e=>"bufferView.byteStride must not be defined for buffer views used by inverse bind matrices accessors.",$S:0},h.jB.prototype={$1:e=>"Invalid MIME type '"+h.b(e[0])+"' for the texture source. Valid MIME types are "+f.br(_.Y.a(e[1]),h.dh(),_.X).k(0)+".",$S:0},h.jC.prototype={$1:e=>"Extension is not declared in extensionsUsed.",$S:0},h.jD.prototype={$1:e=>"Unexpected location for this extension.",$S:0},h.jE.prototype={$1:e=>"Unresolved reference: "+h.b(e[0])+".",$S:0},h.jF.prototype={$1:e=>"Cannot validate an extension as it is not supported by the validator: '"+h.b(e[0])+"'.",$S:0},h.jI.prototype={$1:e=>"This object may be unused.",$S:0},h.jH.prototype={$1:e=>"The static morph target weights are always overridden.",$S:0},h.jG.prototype={$1:e=>"Tangents are not used because the material has no normal texture.",$S:0},h.jg.prototype={$1:e=>"This variant is used more than once for this mesh primitive.",$S:0},h.hY.prototype={},h.i4.prototype={$1:e=>"Invalid GLB magic value ("+h.b(e[0])+").",$S:0},h.i5.prototype={$1:e=>"Invalid GLB version value "+h.b(e[0])+".",$S:0},h.i7.prototype={$1:e=>"Declared GLB length ("+h.b(e[0])+") is too small.",$S:0},h.hZ.prototype={$1:e=>"Length of "+h.b(e[0])+" chunk is not aligned to 4-byte boundaries.",$S:0},h.i6.prototype={$1:e=>"Declared length ("+h.b(e[0])+") does not match GLB length ("+h.b(e[1])+").",$S:0},h.i_.prototype={$1:e=>"Chunk ("+h.b(e[0])+") length ("+h.b(e[1])+") does not fit total GLB length.",$S:0},h.i2.prototype={$1:e=>"Chunk ("+h.b(e[0])+") cannot have zero length.",$S:0},h.i1.prototype={$1:e=>"Empty BIN chunk should be omitted.",$S:0},h.i0.prototype={$1:e=>"Chunk of type "+h.b(e[0])+" has already been used.",$S:0},h.ia.prototype={$1:e=>"Unexpected end of chunk header.",$S:0},h.i9.prototype={$1:e=>"Unexpected end of chunk data.",$S:0},h.ib.prototype={$1:e=>"Unexpected end of header.",$S:0},h.ic.prototype={$1:e=>"First chunk must be of JSON type. Found "+h.b(e[0])+" instead.",$S:0},h.i8.prototype={$1:e=>"BIN chunk must be the second chunk.",$S:0},h.id.prototype={$1:e=>"Unknown GLB chunk type: "+h.b(e[0])+".",$S:0},h.i3.prototype={$1:e=>"Extra data after the end of GLB stream.",$S:0},h.cS.prototype={gbi(){return f.tv(this.a.c.$1(this.e))},gc4(){var e=this.b;return null==e?this.a.a:e},gE(e){return d.a.gE(this.k(0))},N(e,t){return null!=t&&t instanceof h.cS&&t.k(0)===this.k(0)},k(e){var t=this,n=t.c;return null!=n&&0!==n.length?h.b(n)+": "+t.gbi():null!=(n=t.d)?"@"+h.b(n)+": "+t.gbi():t.gbi()}},h.c8.prototype={q(e,t){var n=this.d,r=this.e=e.Q.j(0,n);-1!==n&&(null==r?t.l(m.N(),h.a([n],_.M),"source"):r.a$=!0)},c_(e,t){var n=this.e,r=null==n,a=r?null:n.x;null==a&&(a=null==(n=r?null:n.as)?null:n.a),null!=a&&"image/webp"!==a&&t.l(m.o0(),h.a([a,d.cX],_.M),"source")},$icy:1},h.bz.prototype={q(e,t){var n,r,a=t.c;a.push("lights"),n=this.d,r=f.cT(a.slice(0),h.Z(a).c),t.x.m(0,n,r),n.a3(new h.iR(t,e)),a.pop()}},h.iR.prototype={$2(e,t){var n=this.a.c;n.push(d.c.k(e)),n.pop()},$S:69},h.ba.prototype={},h.cd.prototype={},h.ce.prototype={q(e,t){var n,r,a=e.a.j(0,"KHR_lights_punctual");a instanceof h.bz?(n=this.d,r=this.e=a.d.j(0,n),-1!==n&&(null==r?t.l(m.N(),h.a([n],_.M),"light"):r.a$=!0)):t.G(m.cJ(),h.a(["/extensions/KHR_lights_punctual"],_.M))}},h.cf.prototype={q(e,t){var n,r=this.e;null!=r&&((n=t.c).push("clearcoatTexture"),r.q(e,t),n.pop()),null!=(r=this.r)&&((n=t.c).push("clearcoatRoughnessTexture"),r.q(e,t),n.pop()),null!=(r=this.w)&&((n=t.c).push("clearcoatNormalTexture"),r.q(e,t),n.pop())}},h.cg.prototype={q(e,t){var n,r,a=this.d;if(!(a=isNaN(a)||1===a))for(a=t.e,n=this;null!=n;)if((n=a.j(0,n))instanceof h.av){null!=(r=n.Q)&&f.aj(r[0],0)&&f.aj(r[1],0)&&f.aj(r[2],0)&&t.O(m.rt());break}}},h.ch.prototype={},h.ci.prototype={q(e,t){var n,r=this.e;null!=r&&((n=t.c).push("iridescenceTexture"),r.q(e,t),n.pop()),null!=(r=this.x)&&((n=t.c).push("iridescenceThicknessTexture"),r.q(e,t),n.pop())}},h.cj.prototype={q(e,t){var n,r=this.e;null!=r&&((n=t.c).push("diffuseTexture"),r.q(e,t),n.pop()),null!=(r=this.w)&&((n=t.c).push("specularGlossinessTexture"),r.q(e,t),n.pop())}},h.ck.prototype={q(e,t){var n,r=this.e;null!=r&&((n=t.c).push("sheenColorTexture"),r.q(e,t),n.pop()),null!=(r=this.r)&&((n=t.c).push("sheenRoughnessTexture"),r.q(e,t),n.pop())}},h.cl.prototype={q(e,t){var n,r=this.e;null!=r&&((n=t.c).push("specularTexture"),r.q(e,t),n.pop()),null!=(r=this.r)&&((n=t.c).push("specularColorTexture"),r.q(e,t),n.pop())}},h.cm.prototype={q(e,t){var n,r=this.e;null!=r&&((n=t.c).push("transmissionTexture"),r.q(e,t),n.pop())}},h.cn.prototype={},h.bA.prototype={q(e,t){var n,r,a=t.c;a.push("variants"),n=this.d,r=f.cT(a.slice(0),h.Z(a).c),t.x.m(0,n,r),n.a3(new h.iS(t,e)),a.pop()}},h.iS.prototype={$2(e,t){var n=this.a.c;n.push(d.c.k(e)),n.pop()},$S:70},h.aK.prototype={},h.co.prototype={q(e,t){var n=t.c;n.push("mappings"),this.d.a3(new h.iV(t,e,h.aN(_.e))),n.pop()}},h.iV.prototype={$2(e,t){var n=this.a,r=n.c;r.push(d.c.k(e)),t.cN(this.b,n,this.c),r.pop()},$S:71},h.bb.prototype={cN(e,t,n){var r,a,i,o=this,s=e.a.j(0,"KHR_materials_variants");if(s instanceof h.bA){if(null!=(r=o.d)&&((a=t.c).push("variants"),h.oz(r.gi(r),new h.iT(o,s,t,n),!1,_.J),a.pop()),r=o.e,a=o.r=e.as.j(0,r),-1!==r)if(null==a)t.l(m.N(),h.a([r],_.M),"material");else for(a.a$=!0,r=t.e,i=o;null!=i;)if((i=r.j(0,i))instanceof h.aF){o.r.ch.L(0,new h.iU(i,t));break}}else t.G(m.cJ(),h.a(["/extensions/KHR_materials_variants"],_.M))},q(e,t){return this.cN(e,t,null)}},h.iT.prototype={$1(e){var t=this,n=t.a.d.j(0,e),r=t.b.d.j(0,n);return-1!==n&&(t.d.C(0,n)||t.c.Y(m.qT(),e),null==r?t.c.an(m.N(),h.a([n],_.M),e):r.a$=!0),r},$S:72},h.iU.prototype={$2(e,t){var n;-1!==t&&(t+1>(n=this.a).ax?this.b.l(m.o_(),h.a([e,t],_.M),"material"):n.dx[t]=-1)},$S:4},h.cp.prototype={q(e,t){var n,r,a=this.r;for(null!=a&&((n=t.c).push("thicknessTexture"),a.q(e,t),n.pop()),a=t.e,r=this;null!=r;)if((r=a.j(0,r))instanceof h.av){(a=r.a).v("KHR_materials_transmission")||a.gV().aP(0,new h.iW)||t.O(m.ry()),r.ax&&this.f>0&&t.O(m.rx());break}}},h.iW.prototype={$1:e=>_.h.b(e),$S:73},h.cq.prototype={q(e,t){var n,r;for(n=t.e,r=this;null!=r;)if((r=n.j(0,r))instanceof h.av){r.ch.m(0,t.R(),this.r);break}}},h.O.prototype={},h.V.prototype={},h.c9.prototype={gE(e){var t=f.bW(this.a),n=f.bW(this.b);return h.pp(h.fV(h.fV(0,d.c.gE(t)),d.c.gE(n)))},N(e,t){return null!=t&&t instanceof h.c9&&this.b==t.b&&this.a==t.a}},h.cr.prototype={},h.fl.prototype={},h.dr.prototype={bW(){var e=this,t=e.d=e.c.bO(new h.ih(e),e.gdv(),e.gci()),n=e.ch;return n.e=t.gec(),n.f=t.gef(),n.r=new h.ii(e),e.e.a},aL(){this.d.K();var e=this.e;0==(30&e.a.a)&&e.a2(new h.at("model/gltf-binary",null,this.cx))},du(e){var t,n,r,a,i,o,s,l,u,c,p,g,b,v,y,x,A=this,w="model/gltf-binary",T="0";for(A.d.aV(),t=f.T(e),n=_.f,r=_.G,a=_.M,i=A.a,o=0;o!==t.gi(e);)switch(A.r){case 0:if(s=t.gi(e),s=(l=A.w)+(u=Math.min(s-o,12-l)),A.w=s,d.j.a4(i,l,s,e,o),o+=u,A.x=u,12!==A.w)break;if(1179937895!==(c=A.b.getUint32(0,!0)))return A.f.a1(m.qt(),h.a([c],a),0),A.d.K(),void(0==(30&(t=A.e.a).a)&&(n=A.cx,t.af(new h.at(w,null,n))));if(2!==(p=A.b.getUint32(4,!0)))return A.f.a1(m.qu(),h.a([p],a),4),A.d.K(),void(0==(30&(t=A.e.a).a)&&(n=A.cx,t.af(new h.at(w,null,n))));(s=A.y=A.b.getUint32(8,!0))<=A.x&&A.f.a1(m.qw(),h.a([s],a),8),A.r=1,A.w=0;break;case 1:if((s=A.x)===A.y)return A.f.aO(m.qs(),s),A.d.K(),void A.cg();if(s=t.gi(e),s=(l=A.w)+(u=Math.min(s-o,8-l)),A.w=s,d.j.a4(i,l,s,e,o),o+=u,A.x+=u,8!==A.w)break;switch(A.Q=A.b.getUint32(0,!0),s=A.b.getUint32(4,!0),A.as=s,0!=(3&A.Q)&&(l=A.f,g=m.qn(),b=A.x,l.a1(g,h.a(["0x"+d.a.ap(d.c.au(s,16),8,T)],a),b-8)),A.x+A.Q>A.y&&A.f.a1(m.qo(),h.a(["0x"+d.a.ap(d.c.au(A.as,16),8,T),A.Q],a),A.x-8),0===A.z&&1313821514!==A.as&&A.f.a1(m.qB(),h.a(["0x"+d.a.ap(d.c.au(A.as,16),8,T)],a),A.x-8),5130562===(s=A.as)&&A.z>1&&!A.CW&&A.f.a1(m.qx(),h.a(["0x"+d.a.ap(d.c.au(s,16),8,T)],a),A.x-8),v=new h.ie(A),s=A.as){case 1313821514:0===A.Q&&(l=A.f,g=m.qr(),b=A.x,l.a1(g,h.a(["0x"+d.a.ap(d.c.au(s,16),8,T)],a),b-8)),v.$1$seen(A.at),A.at=!0;break;case 5130562:0===A.Q&&A.f.aO(m.qq(),A.x-8),v.$1$seen(A.CW),A.CW=!0;break;default:A.f.a1(m.qC(),h.a(["0x"+d.a.ap(d.c.au(s,16),8,T)],a),A.x-8),A.r=4294967295}++A.z,A.w=0;break;case 1313821514:u=Math.min(t.gi(e)-o,A.Q-A.w),null==A.ax&&(s=A.ch,l=A.f,(s=new h.cP(new h.ah(s,h.C(s).h("ah<1>")),new h.ay(new h.B(m.A,n),r))).e=l,A.ax=s,A.ay=s.bW()),s=A.ch,y=o+u,l=t.a0(e,o,y),(g=s.b)>=4&&h.a0(s.bs()),0!=(1&g)?s.aA(l):0==(3&g)&&(s=s.b2(),l=new h.cD(l),null==(x=s.c)?s.b=s.c=l:(x.saE(l),s.c=l)),s=A.w+=u,A.x+=u,s===A.Q&&(A.ch.a6(),A.r=1,A.w=0),o=y;break;case 5130562:s=t.gi(e),l=A.Q,g=A.w,u=Math.min(s-o,l-g),null==(s=A.cx)&&(s=A.cx=new Uint8Array(l)),l=g+u,A.w=l,d.j.a4(s,g,l,e,o),o+=u,A.x+=u,A.w===A.Q&&(A.r=1,A.w=0);break;case 4294967295:s=t.gi(e),l=A.Q,g=A.w,g+=u=Math.min(s-o,l-g),A.w=g,o+=u,A.x+=u,g===l&&(A.r=1,A.w=0)}A.d.aq()},cg(){var e,t,n=this;switch(n.r){case 0:n.f.aO(m.qA(),n.x),n.aL();break;case 1:0!==n.w?(n.f.aO(m.qz(),n.x),n.aL()):((e=n.y)!==(t=n.x)&&n.f.a1(m.qv(),h.a([e,t],_.M),n.x),null!=(e=n.ay)?e.ar(0,new h.ig(n),n.gci(),_.P):n.e.a2(new h.at("model/gltf-binary",null,n.cx)));break;default:n.Q>0&&n.f.aO(m.qy(),n.x),n.aL()}},dw(e){var t;this.d.K(),0==(30&(t=this.e).a.a)&&t.P(e)},$ieO:1},h.ih.prototype={$1(e){var t;try{this.a.du(e)}catch(t){if(!(h.K(t)instanceof h.bx))throw t;this.a.aL()}},$S:10},h.ii.prototype={$0(){var e=this.a;0!=(4&e.ch.b)?e.d.aq():e.aL()},$S:2},h.ie.prototype={$1$seen(e){var t=this.a;e?(t.f.a1(m.qp(),h.a(["0x"+d.a.ap(d.c.au(t.as,16),8,"0")],_.M),t.x-8),t.r=4294967295):t.r=t.as},$0(){return this.$1$seen(null)},$S:75},h.ig.prototype={$1(e){var t=this.a,n=null==e?null:e.b;t.e.a2(new h.at("model/gltf-binary",n,t.cx))},$S:76},h.at.prototype={},h.il.prototype={$0(){return this.a.b.aV()},$S:1},h.im.prototype={$0(){return this.a.b.aq()},$S:1},h.ik.prototype={$0(){return this.a.b.K()},$S:77},h.io.prototype={$1(e){var t,n,r,a,i=this,o=null,s=i.a;if(!s.a){if((t=f.T(e)).gA(e))return s.b.K(),i.b.a6(),void i.c.P(d.a7);if(103===(n=t.j(e,0)))t=i.b,r=i.d,a=new Uint8Array(12),t=new h.dr(a,new h.ah(t,h.C(t).h("ah<1>")),new h.ay(new h.B(m.A,_.f),_.G)),r.dx=!0,t.f=r,t.b=h.f3(a.buffer,0,o),t.ch=h.oU(o,o,o,_.w),i.c.a2(t),s.a=!0;else{if(t=123===n||9===n||32===n||10===n||13===n||239===n,r=i.c,a=i.b,!t)return s.b.K(),a.a6(),void r.P(d.a7);r.a2(h.u_(new h.ah(a,h.C(a).h("ah<1>")),i.d)),s.a=!0}}i.b.C(0,e)},$S:10},h.cP.prototype={bW(){var e=this,t=h.a([],_.M),n=new h.ab("");return e.d=new h.mm(new h.fU(!1),new h.m9(d.aa.gcB().a,new h.fL(new h.ij(e),t,_.cy),n),n),e.b=e.a.bO(e.gdB(),e.gdD(),e.gdF()),e.c.a},dC(e){var t,n,r,a=this;a.b.aV(),a.f&&((n=f.T(e)).ga7(e)&&239===n.j(e,0)&&a.e.aC(m.h1(),h.a(["BOM found at the beginning of UTF-8 stream."],_.M),!0),a.f=!1);try{a.d.dT(e,0,f.a3(e),!1),a.b.aq()}catch(r){if(!((n=h.K(r))instanceof h.aI))throw r;t=n,a.e.aC(m.h1(),h.a([t],_.M),!0),a.b.K(),a.c.b9()}},dG(e){var t;this.b.K(),0==(30&(t=this.c).a.a)&&t.P(e)},dE(){var e,t,n,r=this;try{r.d.a6()}catch(t){if(!((n=h.K(t))instanceof h.aI))throw t;e=n,r.e.aC(m.h1(),h.a([e],_.M),!0),r.b.K(),r.c.b9()}},$ieO:1},h.ij.prototype={$1(e){var t,n,r,a=e[0];if(_.t.b(a))try{n=this.a,t=h.or(a,n.e),n.c.a2(new h.at("model/gltf+json",t,null))}catch(r){if(!(h.K(r)instanceof h.bx))throw r;(n=this.a).b.K(),n.c.b9()}else(n=this.a).e.aC(m.a2(),h.a([a,"object"],_.M),!0),n.b.K(),n.c.b9()},$S:79},h.dt.prototype={k:e=>"Invalid data: could not detect glTF format.",$ia7:1},h.mL.prototype={$2(e,t){var n,r;this.a.$1(e),t=h.mF(t),n=h.aH(t)&&t>=0,r=this.b,n?r.m(0,e,t):(r.m(0,e,-1),this.c.n(m.h0(),e))},$S:3},h.mM.prototype={$2(e,t){var n,r;this.a.$1(e),t=h.mF(t),n=h.aH(t)&&t>=0,r=this.b,n?r.m(0,e,t):(r.m(0,e,-1),this.c.n(m.h0(),e))},$S:3},h.mN.prototype={$1:e=>e.ai(0,_.X,_.e),$S:80},h.mJ.prototype={$0:()=>h.a([],_.bH),$S:81},h.E.prototype={j(e,t){return null==t||t<0||t>=this.a.length?null:this.a[t]},m(e,t,n){this.a[t]=n},gi(e){return this.b},si(e,t){throw h.d(h.ac("Changing length is not supported"))},k(e){return h.iH(this.a,"[","]")},a3(e){var t,n,r,a;for(t=this.b,n=this.a,r=0;r<t;++r)null!=(a=n[r])&&e.$2(r,a)}},h.a1.prototype={aD:e=>!0},h.fr.prototype={a_(e,t,n,r){var a=this,i=a.c,o=null!=i?i.$1(r):r;return i=a.a+o*o,a.a=i,2===n&&(Math.abs(Math.sqrt(i)-1)>.00674&&e.l(m.nR(),h.a([t-2,t,Math.sqrt(a.a)],_.M),a.b),a.a=0),!0}},h.fs.prototype={a_(e,t,n,r){var a=this,i=a.c,o=null!=i?i.$1(r):r;return 3===n?1!==o&&-1!==o&&e.l(m.q5(),h.a([t-3,t,o],_.M),a.b):(i=a.a+o*o,a.a=i,2===n&&(Math.abs(Math.sqrt(i)-1)>.00674&&e.l(m.nR(),h.a([t-2,t,Math.sqrt(a.a)],_.M),a.b),a.a=0)),!0}},h.eG.prototype={a_(e,t,n,r){return(1<r||0>r)&&e.l(m.q9(),h.a([t,r],_.M),this.a),!0}},h.lx.prototype={bk(){var e,t,n,r,a,i=this,o=_.X,s=_._,l=h.a8(o,s),u=i.a;return null!=u&&l.m(0,"uri",u.k(0)),null!=((e=null==(u=i.c))?null:u.a)&&l.m(0,"mimeType",e?null:u.a),l.m(0,"validatorVersion","2.0.0-dev.3.9"),i.d&&l.m(0,"validatedAt",new h.dm(Date.now(),!1).er().eq()),t=(u=i.b).cy,n=h.a8(o,s),r=h.a([0,0,0,0],_.V),a=h.oz(t.length,new h.lA(t,r),!1,_.t),n.m(0,"numErrors",r[0]),n.m(0,"numWarnings",r[1]),n.m(0,"numInfos",r[2]),n.m(0,"numHints",r[3]),n.m(0,"messages",a),n.m(0,"truncated",u.y),l.m(0,"issues",n),null!=(u=i.dt())&&l.m(0,"info",u),l},dt(){var e,t,n,r,a,i,o,s,l,u,c=null,d=this.c,p=null==d?c:d.b;if(null==(null==(d=null==p?c:p.w)?c:d.f))return c;for(e=h.a8(_.X,_._),d=p.w,e.m(0,"version",d.f),null!=(t=d.r)&&e.m(0,"minVersion",t),null!=(d=d.e)&&e.m(0,"generator",d),d=p.d,(t=f.T(d)).ga7(d)&&(d=t.bZ(d),e.m(0,"extensionsUsed",h.ct(d,!1,h.C(d).c))),d=p.e,(t=f.T(d)).ga7(d)&&(d=t.bZ(d),e.m(0,"extensionsRequired",h.ct(d,!1,h.C(d).c))),(t=(d=this.b).CW).gA(t)||e.m(0,"resources",d.CW),e.m(0,"animationCount",p.r.b),e.m(0,"materialCount",p.as.b),d=p.at,e.m(0,"hasMorphTargets",d.aP(d,new h.lz)),t=p.cx,e.m(0,"hasSkins",!t.gA(t)),t=p.cy,e.m(0,"hasTextures",!t.gA(t)),e.m(0,"hasDefaultScene",null!=p.ch),d=new h.a9(d,d.gi(d),d.$ti.h("a9<n.E>")),n=0,r=0,a=0,i=0,o=0,s=0;d.p();)if(null!=(t=d.d.w))for(n+=t.b,t=new h.a9(t,t.gi(t),t.$ti.h("a9<n.E>"));t.p();)-1!==(u=(l=t.d).CW)&&(o+=u),s+=l.ges(),r=Math.max(r,l.ay.a),a=Math.max(a,l.ax),i=Math.max(i,4*l.as);return e.m(0,"drawCallCount",n),e.m(0,"totalVertexCount",o),e.m(0,"totalTriangleCount",s),e.m(0,"maxUVs",a),e.m(0,"maxInfluences",i),e.m(0,"maxAttributes",r),e}},h.lA.prototype={$1(e){var t,n=this.a[e],r=n.gc4().a,a=this.b;return a[r]=a[r]+1,t=h.nm(["code",n.a.b,"message",n.gbi(),"severity",n.gc4().a],_.X,_._),null!=(r=n.c)?t.m(0,"pointer",r):null!=(r=n.d)&&t.m(0,"offset",r),t},$S:82},h.lz.prototype={$1(e){var t=e.w;return null!=t&&t.aP(t,new h.ly)},$S:83},h.ly.prototype={$1:e=>null!=e.cx,$S:5},h.eZ.prototype={k(e){return"[0] "+this.ae(0).k(0)+"\n[1] "+this.ae(1).k(0)+"\n[2] "+this.ae(2).k(0)+"\n"},N(e,t){var n,r;return null!=t&&t instanceof h.eZ&&(n=this.a)[0]===(r=t.a)[0]&&n[1]===r[1]&&n[2]===r[2]&&n[3]===r[3]&&n[4]===r[4]&&n[5]===r[5]&&n[6]===r[6]&&n[7]===r[7]&&n[8]===r[8]},gE(e){return h.k1(this.a)},ae(e){var t=new Float32Array(3),n=this.a;return t[0]=n[e],t[1]=n[3+e],t[2]=n[6+e],new h.cB(t)}},h.cV.prototype={k(e){var t=this;return"[0] "+t.ae(0).k(0)+"\n[1] "+t.ae(1).k(0)+"\n[2] "+t.ae(2).k(0)+"\n[3] "+t.ae(3).k(0)+"\n"},N(e,t){var n,r;return null!=t&&t instanceof h.cV&&(n=this.a)[0]===(r=t.a)[0]&&n[1]===r[1]&&n[2]===r[2]&&n[3]===r[3]&&n[4]===r[4]&&n[5]===r[5]&&n[6]===r[6]&&n[7]===r[7]&&n[8]===r[8]&&n[9]===r[9]&&n[10]===r[10]&&n[11]===r[11]&&n[12]===r[12]&&n[13]===r[13]&&n[14]===r[14]&&n[15]===r[15]},gE(e){return h.k1(this.a)},ae(e){var t=new Float32Array(4),n=this.a;return t[0]=n[e],t[1]=n[4+e],t[2]=n[8+e],t[3]=n[12+e],new h.fw(t)},cC(){var e=this.a,t=e[0],n=e[5],r=e[1],a=e[4],i=t*n-r*a,o=e[6],s=e[2],l=t*o-s*a,u=e[7],c=e[3],h=t*u-c*a,f=r*o-s*n,d=r*u-c*n,p=s*u-c*o;return o=e[8],-((c=e[9])*p-(u=e[10])*d+(s=e[11])*f)*e[12]+(o*p-u*h+s*l)*e[13]-(o*d-c*h+s*i)*e[14]+(o*f-c*l+u*i)*e[15]},cH(){var e=this.a,t=0+Math.abs(e[0])+Math.abs(e[1])+Math.abs(e[2])+Math.abs(e[3]),n=t>0?t:0;return(t=0+Math.abs(e[4])+Math.abs(e[5])+Math.abs(e[6])+Math.abs(e[7]))>n&&(n=t),(t=0+Math.abs(e[8])+Math.abs(e[9])+Math.abs(e[10])+Math.abs(e[11]))>n&&(n=t),(t=0+Math.abs(e[12])+Math.abs(e[13])+Math.abs(e[14])+Math.abs(e[15]))>n?t:n},cL(){var e=this.a;return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[3]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[7]&&0===e[8]&&0===e[9]&&1===e[10]&&0===e[11]&&0===e[12]&&0===e[13]&&0===e[14]&&1===e[15]}},h.fi.prototype={gaT(){var e=this.a,t=e[0],n=e[1],r=e[2],a=e[3];return t*t+n*n+r*r+a*a},gi(e){var t=this.a,n=t[0],r=t[1],a=t[2],i=t[3];return Math.sqrt(n*n+r*r+a*a+i*i)},k(e){var t=this.a;return h.b(t[0])+", "+h.b(t[1])+", "+h.b(t[2])+" @ "+h.b(t[3])}},h.cB.prototype={bq(e,t,n){var r=this.a;r[0]=e,r[1]=t,r[2]=n},k(e){var t=this.a;return"["+h.b(t[0])+","+h.b(t[1])+","+h.b(t[2])+"]"},N(e,t){var n,r;return null!=t&&t instanceof h.cB&&(n=this.a)[0]===(r=t.a)[0]&&n[1]===r[1]&&n[2]===r[2]},gE(e){return h.k1(this.a)},gi(e){var t=this.a,n=t[0],r=t[1];return t=t[2],Math.sqrt(n*n+r*r+t*t)},gaT(){var e=this.a,t=e[0],n=e[1];return t*t+n*n+(e=e[2])*e}},h.fw.prototype={k(e){var t=this.a;return h.b(t[0])+","+h.b(t[1])+","+h.b(t[2])+","+h.b(t[3])},N(e,t){var n,r;return null!=t&&t instanceof h.fw&&(n=this.a)[0]===(r=t.a)[0]&&n[1]===r[1]&&n[2]===r[2]&&n[3]===r[3]},gE(e){return h.k1(this.a)},gi(e){var t=this.a,n=t[0],r=t[1],a=t[2];return t=t[3],Math.sqrt(n*n+r*r+a*a+t*t)}},h.be.prototype={},h.hW.prototype={},h.d4.prototype={},h.n4.prototype={$3:(e,t,n)=>n.$1(f.aq(e)),$S:84},h.n0.prototype={$2(e,t){return new a.Promise(h.cF(new h.n_(e,t,this.a)),_._)},$S:85},h.n_.prototype={$2(e,t){h.fY(this.a,this.b).ar(0,new h.mX(e),new h.mY(this.c,t),_.P)},$S:24},h.mX.prototype={$1(e){this.a.$1(h.nI(e))},$S:25},h.mY.prototype={$2(e,t){return this.a.$3(e,t,this.b)},$S:26},h.n1.prototype={$2(e,t){return new a.Promise(h.cF(new h.mZ(e,t,this.a)),_._)},$S:89},h.mZ.prototype={$2(e,t){h.nL(this.a,this.b).ar(0,new h.mV(e),new h.mW(this.c,t),_.P)},$S:24},h.mV.prototype={$1(e){this.a.$1(h.nI(e))},$S:25},h.mW.prototype={$2(e,t){return this.a.$3(e,t,this.b)},$S:26},h.n2.prototype={$0:()=>"2.0.0-dev.3.9",$S:90},h.n3.prototype={$0:()=>h.nI(h.tR()),$S:6},h.my.prototype={$1(e){var t=new h.B(m.A,_.q),n=new h.ay(t,_.as),r=this.a.$1(f.aq(e));return null==(null==r?null:f.tj(r))?n.P(new h.ar(!1,null,null,"options.externalResourceFunction: Function must return a Promise.")):f.tu(r,h.cF(new h.mz(n)),h.cF(new h.mA(n))),t},$S:91},h.mz.prototype={$1(e){var t=this.a;_.a.b(e)?t.a2(e):t.P(new h.ar(!1,null,null,"options.externalResourceFunction: Promise must be fulfilled with Uint8Array or rejected."))},$S:23},h.mA.prototype={$1(e){return this.a.P(new h.fc(f.aq(e)))},$S:11},h.mw.prototype={$1(e){var t,n,r,a=this;return a.a.dx&&null==e?a.b.c:(null!=a.c?t=a.d.$1(e):(n=a.e,h.bS(n,"error",_.K),m.A,d.i,r=h.eE(n),(t=new h.B(m.A,_.q)).b1(n,r)),t)},$0(){return this.$1(null)},$C:"$1",$R:0,$D:()=>[null],$S:139},h.mx.prototype={$1(e){var t,n,r,a,i=null;return null!=this.a?(t=this.b.$1(e),t=h.uS(t,h.ai(t).c)):(t=this.c,h.bS(t,"error",_.K),n=_.f1,r=new h.b_(i,i,i,i,n),a=h.eE(t),r.b_(t,a),r.aI(),t=new h.ah(r,n.h("ah<1>"))),t},$S:93},h.fc.prototype={k(e){return"Node Exception: "+h.b(this.a)},$ia7:1},function(){var e=f.cR.prototype;e.d2=e.bj,(e=f.aL.prototype).d6=e.k,(e=h.aE.prototype).d3=e.cI,e.d4=e.cJ,e.d5=e.cK,(e=h.n.prototype).d7=e.a4,(e=h.eb.prototype).d9=e.a6,(e=h.bh.prototype).d8=e.q}(),function(){var e,t=c._static_1,n=c._static_0,r=c._static_2,a=c._instance_2u,i=c._instance_0u,o=c.installInstanceTearOff,s=c._instance_1i,l=c._instance_1u;t(h,"w6","tY",94),t(h,"ws","v_",12),t(h,"wt","v0",12),t(h,"wu","v1",12),n(h,"pC","wf",1),r(h,"wv","w9",16),a(h.B.prototype,"gdk","az",16),i(h.d7.prototype,"gdV","a6",55),i(e=h.dT.prototype,"gcl","b5",1),i(e,"gcm","b6",1),o(e=h.dP.prototype,"gec",0,0,null,["$1","$0"],["cS","aV"],59,0,0),i(e,"gef","aq",1),i(e,"gcl","b5",1),i(e,"gcm","b6",1),r(h,"wC","vN",96),s(h.b0.prototype,"gcw","H",14),r(h,"wo","tz",97),r(h,"wn","ty",98),r(h,"wl","tw",99),r(h,"wm","tx",100),l(h.a4.prototype,"gbS","eb",29),r(h,"wq","tB",101),r(h,"wp","tA",102),r(h,"wr","tC",103),r(h,"ww","tG",104),r(h,"wx","tF",105),r(h,"wA","tJ",106),r(h,"wy","tH",107),r(h,"wz","tI",108),r(h,"wP","u3",109),r(h,"xd","uu",110),r(h,"xf","uF",111),r(h,"xe","uE",112),r(h,"pO","uD",113),r(h,"ap","uU",114),r(h,"xg","uy",115),r(h,"xh","uC",116),r(h,"xi","uP",117),r(h,"xj","uQ",118),r(h,"xk","uR",119),r(h,"xm","uV",120),t(h,"dh","wb",27),t(h,"pE","w7",27),t(h,"wH","vU",13),r(h,"wG","tX",123),r(h,"wW","ua",124),r(h,"wX","ub",125),r(h,"wY","uc",126),r(h,"wZ","ud",127),r(h,"x_","ue",128),r(h,"x0","uf",129),r(h,"x1","ug",130),r(h,"x2","uh",131),r(h,"x3","ui",132),r(h,"x4","uj",133),r(h,"x5","uk",134),r(h,"x6","ul",135),r(h,"u8","um",136),r(h,"u9","un",137),r(h,"x7","uo",138),r(h,"x9","up",92),i(e=h.dr.prototype,"gdv","cg",1),l(e,"gci","dw",11),l(e=h.cP.prototype,"gdB","dC",78),l(e,"gdF","dG",11),i(e,"gdD","dE",1),t(h,"x8","vV",13)}(),function(){var e=c.mixin,t=c.inherit,n=c.inheritMany;t(h.c,null),n(h.c,[h.nk,f.cR,f.b4,h.j,h.dk,h.I,h.c6,h.G,h.e3,h.a9,h.M,h.dn,h.dq,h.fu,h.d_,h.dA,h.cM,h.iI,h.ll,h.fe,h.dp,h.e8,h.me,h.jJ,h.cs,h.iJ,h.mc,h.aQ,h.fG,h.ed,h.mj,h.fz,h.d3,h.aG,h.eD,h.fC,h.bK,h.B,h.fA,h.bg,h.fo,h.d7,h.fP,h.fB,h.dP,h.fE,h.lU,h.fK,h.fN,h.mo,h.e_,h.em,h.mb,h.e2,h.n,h.fS,h.cY,h.fT,h.lk,h.eJ,h.lR,h.eF,h.fU,h.dm,h.lV,h.ff,h.dK,h.dW,h.aI,h.cU,h.k,h.fO,h.ab,h.ej,h.ln,h.fM,h.fH,h.a1,h.m,h.c1,h.c_,h.y,h.lw,h.i,h.bx,h.cb,h.iA,h.dO,h.dN,h.aJ,h.fk,h.k6,h.eT,h.iG,h.cS,h.O,h.V,h.c9,h.cr,h.fl,h.dr,h.at,h.cP,h.dt,h.lx,h.eZ,h.cV,h.fi,h.cB,h.fw,h.fc]),n(f.cR,[f.dv,f.dx,f.eW,f.D,f.cc,f.by,h.dD]),t(f.aL,f.eW),n(f.aL,[f.fg,f.bI,f.b9,h.be,h.hW,h.d4]),t(f.iK,f.D),n(f.cc,[f.dw,f.eV]),n(h.j,[h.bJ,h.p,h.bc,h.lC,h.bf,h.dS,h.du]),n(h.bJ,[h.c4,h.el]),t(h.dV,h.c4),t(h.dQ,h.el),t(h.b5,h.dQ),t(h.dz,h.I),n(h.dz,[h.c5,h.aE,h.dY,h.fI]),n(h.c6,[h.eI,h.eH,h.hX,h.fp,h.iO,h.mQ,h.mS,h.lO,h.lN,h.mp,h.lZ,h.m6,h.lf,h.lh,h.ma,h.jL,h.mu,h.mv,h.mr,h.lK,h.lL,h.lH,h.lI,h.lE,h.lF,h.iw,h.ix,h.ip,h.iy,h.jO,h.jP,h.jQ,h.jU,h.jZ,h.k_,h.k0,h.k9,h.le,h.hg,h.hh,h.hk,h.hi,h.iB,h.iD,h.iN,h.iM,h.k7,h.k8,h.n8,h.mE,h.hK,h.hL,h.hD,h.hC,h.hs,h.hr,h.hH,h.hy,h.hq,h.hE,h.hw,h.ht,h.hv,h.hu,h.ho,h.hp,h.hG,h.hF,h.hx,h.hN,h.hP,h.hS,h.hT,h.hQ,h.hR,h.hO,h.hU,h.hM,h.hA,h.hz,h.hI,h.hJ,h.hB,h.iF,h.kc,h.kd,h.kb,h.kf,h.kg,h.kh,h.ke,h.ki,h.kj,h.kk,h.kp,h.kq,h.ko,h.kl,h.km,h.kn,h.la,h.lb,h.kW,h.kG,h.kt,h.ku,h.ks,h.kv,h.kw,h.kx,h.kz,h.ky,h.kA,h.kB,h.kC,h.kD,h.kO,h.kR,h.kV,h.kT,h.kQ,h.kU,h.kS,h.kP,h.l_,h.kY,h.l0,h.l7,h.ld,h.l6,h.lc,h.kF,h.kZ,h.l3,h.l2,h.l1,h.l8,h.l9,h.l5,h.kX,h.l4,h.kE,h.kH,h.kI,h.kN,h.kM,h.kK,h.kJ,h.kL,h.j_,h.iY,h.iZ,h.j0,h.j3,h.j1,h.j2,h.j7,h.j5,h.j9,h.j6,h.j8,h.j4,h.ja,h.jd,h.jc,h.jb,h.je,h.jf,h.jj,h.jk,h.jq,h.ji,h.jh,h.jn,h.jm,h.jl,h.jr,h.js,h.jp,h.jo,h.jt,h.ju,h.jx,h.jv,h.jw,h.jy,h.jA,h.jz,h.jB,h.jC,h.jD,h.jE,h.jF,h.jI,h.jH,h.jG,h.jg,h.i4,h.i5,h.i7,h.hZ,h.i6,h.i_,h.i2,h.i1,h.i0,h.ia,h.i9,h.ib,h.ic,h.i8,h.id,h.i3,h.iT,h.iW,h.ih,h.ie,h.ig,h.io,h.ij,h.mN,h.lA,h.lz,h.ly,h.n4,h.mX,h.mV,h.my,h.mz,h.mA,h.mw,h.mx]),n(h.eI,[h.he,h.k4,h.mR,h.mq,h.mG,h.m_,h.lg,h.jK,h.jY,h.lp,h.lq,h.lr,h.mt,h.h3,h.h4,h.it,h.iu,h.ir,h.is,h.iz,h.jN,h.jX,h.jW,h.jS,h.jT,h.jV,h.hm,h.n7,h.n9,h.iR,h.iS,h.iV,h.iU,h.mL,h.mM,h.n0,h.n_,h.mY,h.n1,h.mZ,h.mW]),n(h.G,[h.eY,h.fj,h.dF,h.aX,h.eX,h.ft,h.fm,h.fF,h.eC,h.fd,h.ar,h.fb,h.fv,h.fq,h.bG,h.eK,h.eM]),t(h.dy,h.e3),n(h.dy,[h.d0,h.E]),n(h.d0,[h.cL,h.aY]),n(h.eH,[h.n6,h.lP,h.lQ,h.mk,h.lW,h.m2,h.m0,h.lY,h.m1,h.lX,h.m5,h.m4,h.m3,h.li,h.mi,h.mh,h.lT,h.lS,h.md,h.mD,h.mg,h.lv,h.lu,h.lJ,h.lM,h.lD,h.lG,h.iv,h.iq,h.jR,h.hf,h.hl,h.hj,h.iC,h.k3,h.ii,h.il,h.im,h.ik,h.mJ,h.n2,h.n3]),n(h.p,[h.ag,h.b7,h.aM,h.dZ]),n(h.ag,[h.dL,h.aa,h.fJ,h.dX]),t(h.c7,h.bc),n(h.M,[h.dB,h.cC,h.dJ]),t(h.cN,h.bf),t(h.eh,h.dA),t(h.bk,h.eh),t(h.dl,h.bk),n(h.cM,[h.as,h.Y]),t(h.dG,h.aX),n(h.fp,[h.fn,h.cK]),t(h.cW,h.dD),n(h.cW,[h.e4,h.e6]),t(h.e5,h.e4),t(h.dC,h.e5),t(h.e7,h.e6),t(h.aw,h.e7),n(h.dC,[h.f4,h.f5]),n(h.aw,[h.f6,h.f7,h.f8,h.f9,h.fa,h.dE,h.cu]),t(h.ee,h.fF),t(h.ec,h.du),t(h.ay,h.fC),n(h.d7,[h.b_,h.d8]),t(h.e9,h.bg),t(h.ah,h.e9),t(h.dT,h.dP),n(h.fE,[h.cD,h.dU]),t(h.ea,h.fK),t(h.mf,h.mo),t(h.e0,h.dY),t(h.e1,h.aE),t(h.d5,h.em),n(h.d5,[h.b0,h.en]),t(h.ei,h.en),t(h.lj,h.lk),t(h.eb,h.lj),t(h.m9,h.eb),n(h.eJ,[h.h9,h.hV,h.iP]),t(h.eL,h.fo),n(h.eL,[h.hb,h.ha,h.iQ,h.lt]),n(h.eF,[h.hc,h.fL]),t(h.mm,h.hc),t(h.ls,h.hV),n(h.ar,[h.dI,h.eR]),t(h.fD,h.ej),t(h.l,h.fH),n(h.l,[h.eN,h.bX,h.bY,h.bZ,h.b2,h.c0,h.b3,h.bu,h.c2,h.c3,h.ds,h.cx,h.bh,h.aF,h.c8,h.bz,h.cd,h.ce,h.cf,h.cg,h.ch,h.ci,h.cj,h.ck,h.cl,h.cm,h.cn,h.bA,h.co,h.bb,h.cp,h.cq]),n(h.eN,[h.a4,h.bt,h.aS,h.bv,h.bw,h.aT,h.av,h.aU,h.an,h.bC,h.bD,h.bF,h.bH,h.ba,h.aK]),n(h.a4,[h.fy,h.fx]),n(h.a1,[h.eU,h.f1,h.f_,h.f2,h.f0,h.eB,h.dH,h.eQ,h.eP,h.fr,h.fs,h.eG]),n(h.bh,[h.cw,h.cv]),n(h.lV,[h.cQ,h.dR,h.d1,h.ca,h.d6,h.bE]),n(h.iA,[h.iL,h.k2,h.lB]),n(h.iG,[h.hn,h.iE,h.ka,h.kr,h.iX,h.hY]),e(h.d0,h.fu),e(h.el,h.n),e(h.e4,h.n),e(h.e5,h.dq),e(h.e6,h.n),e(h.e7,h.dq),e(h.b_,h.fB),e(h.d8,h.fP),e(h.e3,h.n),e(h.eh,h.fS),e(h.em,h.cY),e(h.en,h.fT),e(h.fH,h.m)}();var g={typeUniverse:{eC:new Map,tR:{},eT:{},tPV:{},sEA:[]},mangledGlobalNames:{f:"int",z:"double",L:"num",e:"String",Q:"bool",k:"Null",o:"List"},mangledNames:{},types:["e*(o<@>*)","~()","k()","k(e*,c*)","k(e*,f*)","Q*(aF*)","@()","z*(f*)","Q*(f*)","k(an*,f*,f*)","k(o<f*>*)","~(c*)","~(~())","~(i*)","Q(c?)","k(@)","~(c,am)","~(a6,e,f)","j<f*>*()","j<z*>*()","k(f*,aF*)","~(e*)","Q*(O*)","k(c*)","k(~(c*)*,aD*)","k(h<e*,c*>*)","~(c*,am*)","e*(c*)","k(f*,cy*)","z*(L*)","@(@)","j<f*>*(f*,f*,f*)","f*(f*)","@(@,e)","~(@)","j<z*>*(f*,f*,f*)","k(f*,b3*)","k(f*,b2*)","E<0^*>*(e*,0^*(h<e*,c*>*,i*)*)<c*>","0^*(e*,0^*(h<e*,c*>*,i*)*{req:Q*})<c*>","~(E<l*>*,bi*)","k(f*,l*)","k(@,am)","k(f*,an*)","Q*(an*)","~(E<cy*>*)","a5<k>()","~(l*,e*)","~(f,@)","@(e)","f*(f*,f*,e*)","k(c,am)","B<@>(@)","cz<a4<L*>*>*()","k(@,@)","a5<@>()","e*(O*)","o<a1<L*>*>*()","e*(e*)","~([a5<~>?])","O*()","k(bi*,V*)","Q(@)","~(c?,c?)","a6*/*(aS*)","bg<o<f*>*>*(aT*)","k(f*,a4<L*>*)","Q*(M<L*>*)","~(e,@)","k(f*,ba*)","k(f*,aK*)","k(f*,bb*)","aK*(f*)","Q*(c*)","~(cA,@)","~({seen:Q*})","k(at*)","a5<~>*()","~(o<f*>*)","k(o<c*>*)","h<e*,f*>*(h<@,@>*)","o<cr*>*()","h<e*,c*>*(f*)","Q*(aU*)","~(c*,am*,aD*)","be<1&>*(a6*,c*)","~(e,f)","~(e,f?)","f(f,f)","be<1&>*(e*,c*)","e*()","a5<a6*>*(aZ*)","cq*(h<e*,c*>*,i*)","bg<o<f*>*>*(aZ*)","f(c?)","a6(@,@)","Q(c?,c?)","a4<L*>*(h<e*,c*>*,i*)","bX*(h<e*,c*>*,i*)","bY*(h<e*,c*>*,i*)","bZ*(h<e*,c*>*,i*)","bt*(h<e*,c*>*,i*)","c0*(h<e*,c*>*,i*)","bu*(h<e*,c*>*,i*)","aS*(h<e*,c*>*,i*)","bv*(h<e*,c*>*,i*)","bw*(h<e*,c*>*,i*)","c2*(h<e*,c*>*,i*)","c3*(h<e*,c*>*,i*)","aT*(h<e*,c*>*,i*)","av*(h<e*,c*>*,i*)","cx*(h<e*,c*>*,i*)","cw*(h<e*,c*>*,i*)","cv*(h<e*,c*>*,i*)","bh*(h<e*,c*>*,i*)","aU*(h<e*,c*>*,i*)","an*(h<e*,c*>*,i*)","bC*(h<e*,c*>*,i*)","bD*(h<e*,c*>*,i*)","bF*(h<e*,c*>*,i*)","bH*(h<e*,c*>*,i*)","k(~())","c?(c?)","c8*(h<e*,c*>*,i*)","bz*(h<e*,c*>*,i*)","cd*(h<e*,c*>*,i*)","ce*(h<e*,c*>*,i*)","cf*(h<e*,c*>*,i*)","cg*(h<e*,c*>*,i*)","ch*(h<e*,c*>*,i*)","ci*(h<e*,c*>*,i*)","cj*(h<e*,c*>*,i*)","ck*(h<e*,c*>*,i*)","cl*(h<e*,c*>*,i*)","cm*(h<e*,c*>*,i*)","cn*(h<e*,c*>*,i*)","bA*(h<e*,c*>*,i*)","co*(h<e*,c*>*,i*)","cp*(h<e*,c*>*,i*)","a6*/*([aZ*])"],interceptorsByTag:null,leafTags:null,arrayRti:Symbol("$ti")};h.vk(g.typeUniverse,JSON.parse('{"fg":"aL","bI":"aL","b9":"aL","be":"aL","hW":"aL","d4":"aL","dv":{"Q":[]},"dx":{"k":[]},"aL":{"be":["1&"],"d4":[]},"D":{"o":["1"],"p":["1"],"j":["1"]},"iK":{"D":["1"],"o":["1"],"p":["1"],"j":["1"]},"b4":{"M":["1"]},"cc":{"z":[],"L":[]},"dw":{"z":[],"f":[],"L":[]},"eV":{"z":[],"L":[]},"by":{"e":[]},"bJ":{"j":["2"]},"dk":{"M":["2"]},"c4":{"bJ":["1","2"],"j":["2"],"j.E":"2"},"dV":{"c4":["1","2"],"bJ":["1","2"],"p":["2"],"j":["2"],"j.E":"2"},"dQ":{"n":["2"],"o":["2"],"bJ":["1","2"],"p":["2"],"j":["2"]},"b5":{"dQ":["1","2"],"n":["2"],"o":["2"],"bJ":["1","2"],"p":["2"],"j":["2"],"n.E":"2","j.E":"2"},"c5":{"I":["3","4"],"h":["3","4"],"I.K":"3","I.V":"4"},"eY":{"G":[]},"fj":{"G":[]},"cL":{"n":["f"],"o":["f"],"p":["f"],"j":["f"],"n.E":"f"},"dF":{"aX":[],"G":[]},"p":{"j":["1"]},"ag":{"p":["1"],"j":["1"]},"dL":{"ag":["1"],"p":["1"],"j":["1"],"j.E":"1","ag.E":"1"},"a9":{"M":["1"]},"bc":{"j":["2"],"j.E":"2"},"c7":{"bc":["1","2"],"p":["2"],"j":["2"],"j.E":"2"},"dB":{"M":["2"]},"aa":{"ag":["2"],"p":["2"],"j":["2"],"j.E":"2","ag.E":"2"},"lC":{"j":["1"],"j.E":"1"},"cC":{"M":["1"]},"bf":{"j":["1"],"j.E":"1"},"cN":{"bf":["1"],"p":["1"],"j":["1"],"j.E":"1"},"dJ":{"M":["1"]},"b7":{"p":["1"],"j":["1"],"j.E":"1"},"dn":{"M":["1"]},"d0":{"n":["1"],"o":["1"],"p":["1"],"j":["1"]},"d_":{"cA":[]},"dl":{"bk":["1","2"],"h":["1","2"]},"cM":{"h":["1","2"]},"as":{"cM":["1","2"],"h":["1","2"]},"dS":{"j":["1"],"j.E":"1"},"Y":{"cM":["1","2"],"h":["1","2"]},"dG":{"aX":[],"G":[]},"eX":{"G":[]},"ft":{"G":[]},"fe":{"a7":[]},"e8":{"am":[]},"c6":{"aD":[]},"eH":{"aD":[]},"eI":{"aD":[]},"fp":{"aD":[]},"fn":{"aD":[]},"cK":{"aD":[]},"fm":{"G":[]},"aE":{"I":["1","2"],"h":["1","2"],"I.K":"1","I.V":"2"},"aM":{"p":["1"],"j":["1"],"j.E":"1"},"cs":{"M":["1"]},"cW":{"au":["1"]},"dC":{"n":["z"],"au":["z"],"o":["z"],"p":["z"],"j":["z"]},"aw":{"n":["f"],"au":["f"],"o":["f"],"p":["f"],"j":["f"]},"f4":{"n":["z"],"au":["z"],"o":["z"],"p":["z"],"j":["z"],"n.E":"z"},"f5":{"n":["z"],"au":["z"],"o":["z"],"p":["z"],"j":["z"],"n.E":"z"},"f6":{"aw":[],"n":["f"],"au":["f"],"o":["f"],"p":["f"],"j":["f"],"n.E":"f"},"f7":{"aw":[],"n":["f"],"au":["f"],"o":["f"],"p":["f"],"j":["f"],"n.E":"f"},"f8":{"aw":[],"n":["f"],"au":["f"],"o":["f"],"p":["f"],"j":["f"],"n.E":"f"},"f9":{"aw":[],"n":["f"],"au":["f"],"o":["f"],"p":["f"],"j":["f"],"n.E":"f"},"fa":{"aw":[],"n":["f"],"au":["f"],"o":["f"],"p":["f"],"j":["f"],"n.E":"f"},"dE":{"aw":[],"n":["f"],"au":["f"],"o":["f"],"p":["f"],"j":["f"],"n.E":"f"},"cu":{"aw":[],"n":["f"],"a6":[],"au":["f"],"o":["f"],"p":["f"],"j":["f"],"n.E":"f"},"ed":{"bi":[]},"fF":{"G":[]},"ee":{"aX":[],"G":[]},"B":{"a5":["1"]},"aG":{"M":["1"]},"ec":{"j":["1"],"j.E":"1"},"eD":{"G":[]},"ay":{"fC":["1"]},"b_":{"d7":["1"]},"d8":{"d7":["1"]},"ah":{"bg":["1"]},"e9":{"bg":["1"]},"dY":{"I":["1","2"],"h":["1","2"]},"e0":{"dY":["1","2"],"I":["1","2"],"h":["1","2"],"I.K":"1","I.V":"2"},"dZ":{"p":["1"],"j":["1"],"j.E":"1"},"e_":{"M":["1"]},"e1":{"aE":["1","2"],"I":["1","2"],"h":["1","2"],"I.K":"1","I.V":"2"},"b0":{"d5":["1"],"cY":["1"],"cz":["1"],"p":["1"],"j":["1"]},"e2":{"M":["1"]},"aY":{"n":["1"],"o":["1"],"p":["1"],"j":["1"],"n.E":"1"},"du":{"j":["1"]},"dy":{"n":["1"],"o":["1"],"p":["1"],"j":["1"]},"dz":{"I":["1","2"],"h":["1","2"]},"I":{"h":["1","2"]},"dA":{"h":["1","2"]},"bk":{"h":["1","2"]},"d5":{"cY":["1"],"cz":["1"],"p":["1"],"j":["1"]},"ei":{"d5":["1"],"cY":["1"],"cz":["1"],"p":["1"],"j":["1"]},"fI":{"I":["e","@"],"h":["e","@"],"I.K":"e","I.V":"@"},"fJ":{"ag":["e"],"p":["e"],"j":["e"],"j.E":"e","ag.E":"e"},"z":{"L":[]},"f":{"L":[]},"o":{"p":["1"],"j":["1"]},"cz":{"p":["1"],"j":["1"]},"eC":{"G":[]},"aX":{"G":[]},"fd":{"G":[]},"ar":{"G":[]},"dI":{"G":[]},"eR":{"G":[]},"fb":{"G":[]},"fv":{"G":[]},"fq":{"G":[]},"bG":{"G":[]},"eK":{"G":[]},"ff":{"G":[]},"dK":{"G":[]},"eM":{"G":[]},"dW":{"a7":[]},"aI":{"a7":[]},"dX":{"ag":["1"],"p":["1"],"j":["1"],"j.E":"1","ag.E":"1"},"fO":{"am":[]},"ej":{"aZ":[]},"fM":{"aZ":[]},"fD":{"aZ":[]},"a4":{"l":[],"m":[],"q":[]},"bX":{"l":[],"m":[],"q":[]},"bY":{"l":[],"m":[],"q":[]},"bZ":{"l":[],"m":[],"q":[]},"fy":{"a4":["f*"],"l":[],"m":[],"q":[]},"fx":{"a4":["z*"],"l":[],"m":[],"q":[]},"eU":{"a1":["z*"]},"f1":{"a1":["z*"]},"f_":{"a1":["z*"]},"f2":{"a1":["f*"]},"f0":{"a1":["f*"]},"bt":{"l":[],"m":[],"q":[]},"b2":{"l":[],"m":[],"q":[]},"c0":{"l":[],"m":[],"q":[]},"b3":{"l":[],"m":[],"q":[]},"eB":{"a1":["z*"]},"dH":{"a1":["1*"]},"bu":{"l":[],"m":[],"q":[]},"aS":{"l":[],"m":[],"q":[]},"bv":{"l":[],"m":[],"q":[]},"bw":{"l":[],"m":[],"q":[]},"c2":{"l":[],"m":[],"q":[]},"c3":{"l":[],"m":[],"q":[]},"ds":{"l":[],"m":[],"q":[]},"l":{"m":[],"q":[]},"eN":{"l":[],"m":[],"q":[]},"aT":{"l":[],"m":[],"q":[]},"av":{"l":[],"m":[],"q":[]},"cx":{"l":[],"m":[],"q":[]},"cw":{"l":[],"m":[],"q":[]},"cv":{"l":[],"m":[],"q":[]},"bh":{"l":[],"m":[],"q":[]},"aU":{"l":[],"m":[],"q":[]},"aF":{"l":[],"m":[],"q":[]},"eQ":{"a1":["f*"]},"an":{"l":[],"m":[],"q":[]},"bC":{"l":[],"m":[],"q":[]},"bD":{"l":[],"m":[],"q":[]},"bF":{"l":[],"m":[],"q":[]},"eP":{"a1":["z*"]},"bH":{"l":[],"m":[],"q":[],"cy":[]},"bx":{"a7":[]},"dO":{"a7":[]},"dN":{"a7":[]},"aJ":{"a7":[]},"c8":{"l":[],"m":[],"q":[],"cy":[]},"bz":{"l":[],"m":[],"q":[]},"ba":{"l":[],"m":[],"q":[]},"cd":{"l":[],"m":[],"q":[]},"ce":{"l":[],"m":[],"q":[]},"cf":{"l":[],"m":[],"q":[]},"cg":{"l":[],"m":[],"q":[]},"ch":{"l":[],"m":[],"q":[]},"ci":{"l":[],"m":[],"q":[]},"cj":{"l":[],"m":[],"q":[]},"ck":{"l":[],"m":[],"q":[]},"cl":{"l":[],"m":[],"q":[]},"cm":{"l":[],"m":[],"q":[]},"cn":{"l":[],"m":[],"q":[]},"bA":{"l":[],"m":[],"q":[]},"aK":{"l":[],"m":[],"q":[]},"co":{"l":[],"m":[],"q":[]},"bb":{"l":[],"m":[],"q":[]},"cp":{"l":[],"m":[],"q":[]},"cq":{"l":[],"m":[],"q":[]},"dr":{"eO":[]},"cP":{"eO":[]},"dt":{"a7":[]},"E":{"n":["1*"],"o":["1*"],"p":["1*"],"j":["1*"],"n.E":"1*"},"fr":{"a1":["L*"]},"fs":{"a1":["L*"]},"eG":{"a1":["z*"]},"fc":{"a7":[]},"a6":{"o":["f"],"p":["f"],"j":["f"]}}')),h.vj(g.typeUniverse,JSON.parse('{"dq":1,"fu":1,"d0":1,"el":2,"cW":1,"fo":2,"fP":1,"fB":1,"dT":1,"dP":1,"e9":1,"fE":1,"cD":1,"fK":1,"ea":1,"fN":1,"du":1,"dy":1,"dz":2,"fS":2,"dA":2,"fT":1,"e3":1,"eh":2,"em":1,"en":1,"eF":1,"eJ":2,"eL":2,"eb":1}'));var b={p:") does not match the number of morph targets (",d:"Accessor sparse indices element at index ",m:"Animation input accessor element at index ",c:"Error handler must accept one Object or one Object and a StackTrace as arguments, and return a value of the returned future's type",g:"`null` encountered as the result from expression with type `Never`."},_=function(){var e=h.aB;return{gF:e("dl<cA,@>"),O:e("p<@>"),Q:e("G"),b8:e("aD"),d:e("a5<@>"),bq:e("a5<~>"),N:e("Y<bi*,V*>"),j:e("j<@>"),s:e("D<e>"),gN:e("D<a6>"),b:e("D<@>"),Z:e("D<f>"),p:e("D<y*>"),gd:e("D<a1<L*>*>"),bd:e("D<eT*>"),a9:e("D<cS*>"),b2:e("D<M<L*>*>"),bH:e("D<cr*>"),fh:e("D<h<e*,c*>*>"),M:e("D<c*>"),d6:e("D<fl*>"),i:e("D<e*>"),o:e("D<z*>"),V:e("D<f*>"),T:e("dx"),g:e("b9"),aU:e("au<@>"),eo:e("aE<cA,@>"),I:e("h<@,@>"),gw:e("aa<O*,e*>"),eB:e("aw"),bm:e("cu"),P:e("k"),K:e("c"),ed:e("dH<L*>"),eq:e("E<b2*>"),az:e("E<b3*>"),E:e("E<ba*>"),B:e("E<bb*>"),u:e("E<aK*>"),b_:e("E<aF*>"),gm:e("am"),R:e("e"),fo:e("cA"),dd:e("bi"),eK:e("aX"),gc:e("a6"),ak:e("bI"),go:e("aY<h<e*,c*>*>"),em:e("aY<e*>"),f8:e("bk<c9*,V*>"),n:e("aZ"),a_:e("ay<eO*>"),G:e("ay<at*>"),eP:e("ay<cb*>"),as:e("ay<a6*>"),f1:e("b_<o<f*>*>"),U:e("B<k>"),eI:e("B<@>"),fJ:e("B<f>"),eD:e("B<eO*>"),f:e("B<at*>"),dD:e("B<cb*>"),q:e("B<a6*>"),D:e("B<~>"),aH:e("e0<@,@>"),cy:e("fL<c*>"),y:e("Q"),gR:e("z"),z:e("@"),v:e("@(c)"),C:e("@(c,am)"),S:e("f"),aD:e("y*"),hc:e("a4<f*>*"),W:e("a4<L*>*"),bj:e("bt*"),aA:e("b2*"),gW:e("b3*"),gP:e("bu*"),cT:e("aS*"),r:e("bv*"),h2:e("bw*"),x:e("a7*"),af:e("O*"),f9:e("V*"),al:e("c9*"),b1:e("aD*"),ec:e("aT*"),Y:e("j<@>*"),ga:e("M<z*>*"),bF:e("M<f*>*"),cp:e("ba*"),aa:e("bb*"),J:e("aK*"),c:e("q*"),l:e("o<@>*"),b7:e("o<a1<L*>*>*"),an:e("o<cr*>*"),m:e("o<c*>*"),eG:e("o<e*>*"),fy:e("o<z*>*"),w:e("o<f*>*"),h:e("h<@,@>*"),gj:e("h<e*,a4<L*>*>*"),t:e("h<e*,c*>*"),fC:e("av*"),eM:e("aU*"),ft:e("aF*"),A:e("0&*"),L:e("an*"),_:e("c*"),ax:e("cy*"),b5:e("E<m*>*"),c2:e("bC*"),bn:e("bD*"),cn:e("cz<y*>*"),gz:e("cz<a4<L*>*>*"),dz:e("bE*"),aV:e("bF*"),X:e("e*"),ai:e("bH*"),f7:e("bi*"),a:e("a6*"),bv:e("d4*"),F:e("z*"),e:e("f*"),eH:e("a5<k>?"),cK:e("c?"),di:e("L"),H:e("~"),d5:e("~(c)"),k:e("~(c,am)")}}();!function(){var e=c.makeConstList;d.bP=f.cR.prototype,d.d=f.D.prototype,d.bU=f.dv.prototype,d.c=f.dw.prototype,d.bV=f.cc.prototype,d.a=f.by.prototype,d.bW=f.b9.prototype,d.bX=f.eW.prototype,d.j=h.cu.prototype,d.az=f.fg.prototype,d.W=f.bI.prototype,d.X=new h.y("MAT4",5126,!1),d.G=new h.y("SCALAR",5126,!1),d.Z=new h.y("VEC2",5120,!0),d.a_=new h.y("VEC2",5121,!0),d.a1=new h.y("VEC2",5122,!0),d.a2=new h.y("VEC2",5123,!0),d.a3=new h.y("VEC2",5126,!1),d.w=new h.y("VEC3",5120,!0),d.H=new h.y("VEC3",5121,!0),d.x=new h.y("VEC3",5122,!0),d.I=new h.y("VEC3",5123,!0),d.k=new h.y("VEC3",5126,!1),d.J=new h.y("VEC4",5120,!0),d.aZ=new h.y("VEC4",5121,!1),d.y=new h.y("VEC4",5121,!0),d.K=new h.y("VEC4",5122,!0),d.b_=new h.y("VEC4",5123,!1),d.z=new h.y("VEC4",5123,!0),d.n=new h.y("VEC4",5126,!1),d.b0=new h.c_("AnimationInput"),d.b1=new h.c_("AnimationOutput"),d.b2=new h.c_("IBM"),d.b3=new h.c_("PrimitiveIndices"),d.a6=new h.c_("VertexAttribute"),d.b4=new h.c1("IBM"),d.b5=new h.c1("Image"),d.L=new h.c1("IndexBuffer"),d.o=new h.c1("Other"),d.A=new h.c1("VertexBuffer"),d.ec=new h.hb,d.b6=new h.h9,d.b7=new h.ha,d.b8=new h.dn(h.aB("dn<0&*>")),d.a7=new h.dt,d.b9=new h.bx,d.a8=function(e){var t=Object.prototype.toString.call(e);return t.substring(8,t.length-1)},d.ba=function(){var e=Object.prototype.toString;function t(t,n){if(/^HTML[A-Z].*Element$/.test(n))return"[object Object]"==e.call(t)?null:"HTMLElement"}return{getTag:function(t){var n=e.call(t);return n.substring(8,n.length-1)},getUnknownTag:"object"==typeof navigator?function(e,n){return a.HTMLElement&&e instanceof HTMLElement?"HTMLElement":t(e,n)}:t,prototypeForTag:function(e){if("undefined"==typeof window)return null;if(void 0===window[e])return null;var t=window[e];return"function"!=typeof t?null:t.prototype},discriminator:function(e){return null}}},d.bf=function(e){return function(t){if("object"!=typeof navigator)return t;var n=navigator.userAgent;if(n.indexOf("DumpRenderTree")>=0)return t;if(n.indexOf("Chrome")>=0){function r(e){return"object"==typeof window&&window[e]&&window[e].name==e}if(r("Window")&&r("HTMLElement"))return t}t.getTag=e}},d.bb=function(e){if("function"!=typeof dartExperimentalFixupGetTag)return e;e.getTag=dartExperimentalFixupGetTag(e.getTag)},d.bc=function(e){var t=e.getTag,n=e.prototypeForTag;e.getTag=function(e){var n=t(e);return"Document"==n?e.xmlVersion?"!Document":"!HTMLDocument":n},e.prototypeForTag=function(e){return"Document"==e?null:n(e)}},d.be=function(e){if(-1==("object"==typeof navigator?navigator.userAgent:"").indexOf("Firefox"))return e;var t=e.getTag,n={BeforeUnloadEvent:"Event",DataTransfer:"Clipboard",GeoGeolocation:"Geolocation",Location:"!Location",WorkerMessageEvent:"MessageEvent",XMLDocument:"!Document"};e.getTag=function(e){var r=t(e);return n[r]||r}},d.bd=function(e){if(-1==("object"==typeof navigator?navigator.userAgent:"").indexOf("Trident/"))return e;var t=e.getTag,n={BeforeUnloadEvent:"Event",DataTransfer:"Clipboard",HTMLDDElement:"HTMLElement",HTMLDTElement:"HTMLElement",HTMLPhraseElement:"HTMLElement",Position:"Geoposition"};e.getTag=function(e){var r=t(e);return n[r]||("Object"==r&&window.DataView&&e instanceof window.DataView?"DataView":r)},e.prototypeForTag=function(e){var t=window[e];return null==t?null:t.prototype}},d.a9=function(e){return e},d.aa=new h.iP,d.bg=new h.ff,d.bh=new h.dN,d.bi=new h.dO,d.ab=new h.ls,d.M=new h.lU,d.ac=new h.me,d.i=new h.mf,d.bj=new h.fO,d.O=new h.ca(0,"Unknown"),d.p=new h.ca(1,"RGB"),d.B=new h.ca(2,"RGBA"),d.ad=new h.ca(3,"Luminance"),d.ae=new h.ca(4,"LuminanceAlpha"),d.af=new h.cQ(0,"JPEG"),d.ag=new h.cQ(1,"PNG"),d.ah=new h.cQ(2,"WebP"),d.bO=new h.cQ(3,"KTX2"),d.ai=new h.aJ("Wrong WebP header."),d.bQ=new h.aJ("PNG header not found."),d.bR=new h.aJ("Invalid JPEG marker segment length."),d.q=new h.aJ("Wrong chunk length."),d.bS=new h.aJ("Invalid number of JPEG color channels."),d.bT=new h.aJ("Invalid start of file."),d.bY=new h.iQ(null),d.bZ=h.a(e([0,0]),_.o),d.aj=h.a(e([0,0,0]),_.o),d.c_=h.a(e([16]),_.V),d.c0=h.a(e([1,1]),_.o),d.C=h.a(e([1,1,1]),_.o),d.ak=h.a(e([1,1,1,1]),_.o),d.al=h.a(e([2]),_.V),d.c2=h.a(e(["sheenColorFactor","sheenColorTexture","sheenRoughnessFactor","sheenRoughnessTexture"]),_.i),d.am=h.a(e([0,0,32776,33792,1,10240,0,0]),_.V),d.c3=h.a(e(["clearcoatFactor","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughnessTexture","clearcoatNormalTexture"]),_.i),d.l=h.a(e([3]),_.V),d.an=h.a(e([33071,33648,10497]),_.V),d.c4=h.a(e([34962,34963]),_.V),d.c5=h.a(e(["specularFactor","specularTexture","specularColorFactor","specularColorTexture"]),_.i),d.P=h.a(e([4]),_.V),d.Y=new h.y("VEC2",5120,!1),d.aV=new h.y("VEC2",5121,!1),d.a0=new h.y("VEC2",5122,!1),d.aW=new h.y("VEC2",5123,!1),d.c6=h.a(e([d.Y,d.Z,d.aV,d.a0,d.a1,d.aW]),_.p),d.c7=h.a(e([5121,5123,5125]),_.V),d.ao=h.a(e(["image/jpeg","image/png"]),_.i),d.c8=h.a(e(["transmissionFactor","transmissionTexture"]),_.i),d.c9=h.a(e([9728,9729]),_.V),d.aP=new h.y("SCALAR",5121,!1),d.aS=new h.y("SCALAR",5123,!1),d.aU=new h.y("SCALAR",5125,!1),d.ap=h.a(e([d.aP,d.aS,d.aU]),_.p),d.cb=h.a(e(["image/jpeg","image/png","image/webp","image/ktx2"]),_.i),d.cc=h.a(e(["camera","children","skin","matrix","mesh","rotation","scale","translation","weights","name"]),_.i),d.cd=h.a(e([9728,9729,9984,9985,9986,9987]),_.V),d.ce=h.a(e(["COLOR","JOINTS","TEXCOORD","WEIGHTS"]),_.i),d.D=h.a(e([0,0,65490,45055,65535,34815,65534,18431]),_.V),d.b=new h.bE(0,"Error"),d.e=new h.bE(1,"Warning"),d.f=new h.bE(2,"Information"),d.aA=new h.bE(3,"Hint"),d.cf=h.a(e([d.b,d.e,d.f,d.aA]),h.aB("D<bE*>")),d.cg=h.a(e(["color","intensity","spot","type","range","name"]),_.i),d.ch=h.a(e(["buffer","byteOffset","byteLength","byteStride","target","name"]),_.i),d.ar=h.a(e([0,0,26624,1023,65534,2047,65534,2047]),_.V),d.ci=h.a(e(["LINEAR","STEP","CUBICSPLINE"]),_.i),d.V=h.u("bH"),d.bk=new h.V(h.wG(),!1,!1),d.dw=new h.Y([d.V,d.bk],_.N),d.bB=new h.O("EXT_texture_webp",d.dw,h.wH(),!1),d.T=h.u("ds"),d.U=h.u("an"),d.bl=new h.V(h.wW(),!1,!1),d.bm=new h.V(h.wY(),!1,!1),d.du=new h.Y([d.T,d.bl,d.U,d.bm],_.N),d.bJ=new h.O("KHR_lights_punctual",d.du,null,!1),d.h=h.u("av"),d.bo=new h.V(h.wZ(),!1,!1),d.di=new h.Y([d.h,d.bo],_.N),d.bG=new h.O("KHR_materials_clearcoat",d.di,null,!1),d.bp=new h.V(h.x_(),!1,!1),d.dj=new h.Y([d.h,d.bp],_.N),d.bM=new h.O("KHR_materials_emissive_strength",d.dj,null,!1),d.bq=new h.V(h.x0(),!1,!1),d.dk=new h.Y([d.h,d.bq],_.N),d.bK=new h.O("KHR_materials_ior",d.dk,null,!1),d.br=new h.V(h.x1(),!1,!1),d.dl=new h.Y([d.h,d.br],_.N),d.bF=new h.O("KHR_materials_iridescence",d.dl,null,!1),d.bx=new h.V(h.x2(),!0,!1),d.dm=new h.Y([d.h,d.bx],_.N),d.bD=new h.O("KHR_materials_pbrSpecularGlossiness",d.dm,null,!1),d.bs=new h.V(h.x3(),!1,!1),d.dn=new h.Y([d.h,d.bs],_.N),d.bA=new h.O("KHR_materials_sheen",d.dn,null,!1),d.bt=new h.V(h.x4(),!1,!1),d.dp=new h.Y([d.h,d.bt],_.N),d.bI=new h.O("KHR_materials_specular",d.dp,null,!1),d.bu=new h.V(h.x5(),!1,!1),d.dq=new h.Y([d.h,d.bu],_.N),d.bH=new h.O("KHR_materials_transmission",d.dq,null,!1),d.by=new h.V(h.x6(),!0,!1),d.dr=new h.Y([d.h,d.by],_.N),d.bz=new h.O("KHR_materials_unlit",d.dr,null,!1),d.aE=h.u("aF"),d.bv=new h.V(h.u8(),!1,!1),d.bw=new h.V(h.u9(),!1,!0),d.dt=new h.Y([d.T,d.bv,d.aE,d.bw],_.N),d.bE=new h.O("KHR_materials_variants",d.dt,null,!1),d.bn=new h.V(h.x7(),!1,!1),d.ds=new h.Y([d.h,d.bn],_.N),d.bL=new h.O("KHR_materials_volume",d.ds,null,!1),d.cC=h.a(e([]),h.aB("D<bi*>")),d.dx=new h.as(0,{},d.cC,h.aB("as<bi*,V*>")),d.bN=new h.O("KHR_mesh_quantization",d.dx,h.x8(),!0),d.aK=h.u("bh"),d.aG=h.u("cv"),d.aH=h.u("cw"),d.N=new h.V(h.x9(),!1,!1),d.dv=new h.Y([d.aK,d.N,d.aG,d.N,d.aH,d.N],_.N),d.bC=new h.O("KHR_texture_transform",d.dv,null,!1),d.as=h.a(e([d.bB,d.bJ,d.bG,d.bM,d.bK,d.bF,d.bD,d.bA,d.bI,d.bH,d.bz,d.bE,d.bL,d.bN,d.bC]),h.aB("D<O*>")),d.cj=h.a(e(["OPAQUE","MASK","BLEND"]),_.i),d.ck=h.a(e(["pbrMetallicRoughness","normalTexture","occlusionTexture","emissiveTexture","emissiveFactor","alphaMode","alphaCutoff","doubleSided","name"]),_.i),d.cl=h.a(e([5120,5121,5122,5123,5125,5126]),_.V),d.cm=h.a(e(["inverseBindMatrices","skeleton","joints","name"]),_.i),d.a4=new h.y("VEC3",5120,!1),d.a5=new h.y("VEC3",5122,!1),d.cn=h.a(e([d.a4,d.w,d.a5,d.x]),_.p),d.co=h.a(e(["data-uri","buffer-view","glb","external"]),_.i),d.cp=h.a(e(["POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN"]),_.i),d.cq=h.a(e(["bufferView","byteOffset","componentType"]),_.i),d.Q=h.a(e([d.w,d.x]),_.p),d.cr=h.a(e(["aspectRatio","yfov","zfar","znear"]),_.i),d.cs=h.a(e(["copyright","generator","version","minVersion"]),_.i),d.ct=h.a(e(["bufferView","byteOffset"]),_.i),d.cu=h.a(e(["bufferView","mimeType","uri","name"]),_.i),d.cv=h.a(e(["channels","samplers","name"]),_.i),d.cw=h.a(e(["baseColorFactor","baseColorTexture","metallicFactor","roughnessFactor","metallicRoughnessTexture"]),_.i),d.cx=h.a(e(["count","indices","values"]),_.i),d.cy=h.a(e(["diffuseFactor","diffuseTexture","specularFactor","glossinessFactor","specularGlossinessTexture"]),_.i),d.cz=h.a(e(["directional","point","spot"]),_.i),d.cA=h.a(e(["emissiveStrength"]),_.i),d.at=h.a(e([]),_.b),d.cB=h.a(e([]),_.i),d.cE=h.a(e(["extensions","extras"]),_.i),d.cF=h.a(e([0,0,32722,12287,65534,34815,65534,18431]),_.V),d.cH=h.a(e(["index","texCoord"]),_.i),d.cI=h.a(e(["index","texCoord","scale"]),_.i),d.cJ=h.a(e(["index","texCoord","strength"]),_.i),d.cK=h.a(e(["innerConeAngle","outerConeAngle"]),_.i),d.cL=h.a(e(["input","interpolation","output"]),_.i),d.cM=h.a(e(["ior"]),_.i),d.cN=h.a(e(["attributes","indices","material","mode","targets"]),_.i),d.cO=h.a(e(["bufferView","byteOffset","componentType","count","type","normalized","max","min","sparse","name"]),_.i),d.cP=h.a(e(["light"]),_.i),d.cQ=h.a(e(["lights"]),_.i),d.cR=h.a(e(["mappings"]),_.i),d.cS=h.a(e(["name"]),_.i),d.cT=h.a(e(["node","path"]),_.i),d.cU=h.a(e(["nodes","name"]),_.i),d.cV=h.a(e([null,"linear","srgb","custom"]),_.i),d.cW=h.a(e([null,"srgb","custom"]),_.i),d.au=h.a(e([0,0,24576,1023,65534,34815,65534,18431]),_.V),d.cX=h.a(e(["image/webp"]),_.i),d.cY=h.a(e(["offset","rotation","scale","texCoord"]),_.i),d.av=h.a(e(["orthographic","perspective"]),_.i),d.cZ=h.a(e(["primitives","weights","name"]),_.i),d.d_=h.a(e([0,0,32754,11263,65534,34815,65534,18431]),_.V),d.d0=h.a(e(["magFilter","minFilter","wrapS","wrapT","name"]),_.i),d.d1=h.a(e([null,"rgb","rgba","luminance","luminance-alpha"]),_.i),d.aw=h.a(e([0,0,65490,12287,65535,34815,65534,18431]),_.V),d.d3=h.a(e(["sampler","source","name"]),_.i),d.d4=h.a(e(["source"]),_.i),d.d5=h.a(e(["iridescenceFactor","iridescenceTexture","iridescenceIor","iridescenceThicknessMinimum","iridescenceThicknessMaximum","iridescenceThicknessTexture"]),_.i),d.aX=new h.y("VEC3",5121,!1),d.aY=new h.y("VEC3",5123,!1),d.d6=h.a(e([d.a4,d.w,d.aX,d.H,d.a5,d.x,d.aY,d.I]),_.p),d.d7=h.a(e(["target","sampler"]),_.i),d.R=h.a(e(["translation","rotation","scale","weights"]),_.i),d.d8=h.a(e(["type","orthographic","perspective","name"]),_.i),d.d9=h.a(e(["uri","byteLength","name"]),_.i),d.da=h.a(e(["variants"]),_.i),d.db=h.a(e(["variants","material","name"]),_.i),d.dc=h.a(e([d.Y,d.a0]),_.p),d.dd=h.a(e(["attenuationColor","attenuationDistance","thicknessFactor","thicknessTexture"]),_.i),d.de=h.a(e(["xmag","ymag","zfar","znear"]),_.i),d.df=h.a(e(["extensionsUsed","extensionsRequired","accessors","animations","asset","buffers","bufferViews","cameras","images","materials","meshes","nodes","samplers","scene","scenes","skins","textures"]),_.i),d.dg=h.a(e([d.J,d.K]),_.p),d.aq=h.a(e([d.k]),_.p),d.c1=h.a(e([d.n,d.y,d.J,d.z,d.K]),_.p),d.aQ=new h.y("SCALAR",5121,!0),d.aO=new h.y("SCALAR",5120,!0),d.aT=new h.y("SCALAR",5123,!0),d.aR=new h.y("SCALAR",5122,!0),d.cG=h.a(e([d.G,d.aQ,d.aO,d.aT,d.aR]),_.p),d.dh=new h.as(4,{translation:d.aq,rotation:d.c1,scale:d.aq,weights:d.cG},d.R,h.aB("as<e*,o<y*>*>")),d.ca=h.a(e(["SCALAR","VEC2","VEC3","VEC4","MAT2","MAT3","MAT4"]),_.i),d.m=new h.as(7,{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},d.ca,h.aB("as<e*,f*>")),d.ax=new h.Y([5120,"BYTE",5121,"UNSIGNED_BYTE",5122,"SHORT",5123,"UNSIGNED_SHORT",5124,"INT",5125,"UNSIGNED_INT",5126,"FLOAT",35664,"FLOAT_VEC2",35665,"FLOAT_VEC3",35666,"FLOAT_VEC4",35667,"INT_VEC2",35668,"INT_VEC3",35669,"INT_VEC4",35670,"BOOL",35671,"BOOL_VEC2",35672,"BOOL_VEC3",35673,"BOOL_VEC4",35674,"FLOAT_MAT2",35675,"FLOAT_MAT3",35676,"FLOAT_MAT4",35678,"SAMPLER_2D"],h.aB("Y<f*,e*>")),d.cD=h.a(e([]),h.aB("D<cA*>")),d.ay=new h.as(0,{},d.cD,h.aB("as<cA*,@>")),d.d2=h.a(e(["KHR","EXT","ADOBE","AGI","AGT","ALCM","ALI","AMZN","ANIMECH","ASOBO","AVR","BLENDER","CAPTURE","CESIUM","CITRUS","CLO","CVTOOLS","EMBARK","EPIC","F8","FB","FOXIT","GOOGLE","GRIFFEL","INTEL","KDAB","LLQ","MAXAR","MESHOPT","MOZ","MPEG","MSFT","MTTR","MX","NEEDLE","NV","OFT","OMI","OTOY","OWLII","PANDA3D","POLUTROPON","PTC","S8S","SE","SEIN","SHAPEDIVER","SI","SKFB","SKYLINE","SNAP","SPECTRUM","TENCENT","TRYON","USSF","UX3D","VRMC","WEB3D"]),_.i),d.dy=new h.as(58,{KHR:null,EXT:null,ADOBE:null,AGI:null,AGT:null,ALCM:null,ALI:null,AMZN:null,ANIMECH:null,ASOBO:null,AVR:null,BLENDER:null,CAPTURE:null,CESIUM:null,CITRUS:null,CLO:null,CVTOOLS:null,EMBARK:null,EPIC:null,F8:null,FB:null,FOXIT:null,GOOGLE:null,GRIFFEL:null,INTEL:null,KDAB:null,LLQ:null,MAXAR:null,MESHOPT:null,MOZ:null,MPEG:null,MSFT:null,MTTR:null,MX:null,NEEDLE:null,NV:null,OFT:null,OMI:null,OTOY:null,OWLII:null,PANDA3D:null,POLUTROPON:null,PTC:null,S8S:null,SE:null,SEIN:null,SHAPEDIVER:null,SI:null,SKFB:null,SKYLINE:null,SNAP:null,SPECTRUM:null,TENCENT:null,TRYON:null,USSF:null,UX3D:null,VRMC:null,WEB3D:null},d.d2,h.aB("as<e*,k>")),d.dz=new h.ei(d.dy,h.aB("ei<e*>")),d.dA=new h.d_("call"),d.dB=h.u("bY"),d.dC=h.u("bZ"),d.dD=h.u("bX"),d.S=h.u("a4<L>"),d.dE=h.u("c0"),d.dF=h.u("b2"),d.dG=h.u("b3"),d.aB=h.u("bt"),d.dH=h.u("bu"),d.aC=h.u("bv"),d.dI=h.u("aS"),d.dJ=h.u("c2"),d.dK=h.u("c3"),d.dL=h.u("bw"),d.dM=h.u("cj"),d.dN=h.u("c8"),d.aD=h.u("aT"),d.dO=h.u("bz"),d.dP=h.u("cd"),d.dQ=h.u("ba"),d.dR=h.u("ce"),d.dS=h.u("cf"),d.dT=h.u("cg"),d.dU=h.u("ch"),d.dV=h.u("ci"),d.dW=h.u("ck"),d.dX=h.u("cl"),d.dY=h.u("cm"),d.dZ=h.u("cn"),d.e_=h.u("bA"),d.e0=h.u("bb"),d.e1=h.u("aK"),d.e2=h.u("cp"),d.e3=h.u("cq"),d.aF=h.u("aU"),d.e4=h.u("c"),d.e5=h.u("cx"),d.e6=h.u("bC"),d.aI=h.u("bD"),d.aJ=h.u("bF"),d.e7=h.u("co"),d.e8=new h.lt(!1),d.r=new h.dR(0,"Unknown"),d.t=new h.dR(1,"sRGB"),d.E=new h.dR(2,"Custom"),d.u=new h.d1(0,"Unknown"),d.e9=new h.d1(1,"Linear"),d.v=new h.d1(2,"sRGB"),d.F=new h.d1(3,"Custom"),d.ea=new h.d3(null,2),d.aL=new h.d6(0,"DataUri"),d.aM=new h.d6(1,"BufferView"),d.eb=new h.d6(2,"GLB"),d.aN=new h.d6(3,"External")}(),m.m8=null,m.oI=null,m.om=null,m.ol=null,m.pK=null,m.pB=null,m.pR=null,m.mI=null,m.mT=null,m.nH=null,m.dd=null,m.es=null,m.et=null,m.nB=!1,m.A=d.i,m.cE=h.a([],h.aB("D<c>")),m.oD=null,m.oB=null,m.oC=null,function(){var e=c.lazyFinal,t=c.lazy,n=c.lazyOld;e(m,"xv","nM",(()=>h.wN("_$dart_dartClosure"))),e(m,"AL","tg",(()=>d.i.cV(new h.n6))),e(m,"A8","rY",(()=>h.bj(h.lm({toString:function(){return"$receiver$"}})))),e(m,"A9","rZ",(()=>h.bj(h.lm({$method$:null,toString:function(){return"$receiver$"}})))),e(m,"Aa","t_",(()=>h.bj(h.lm(null)))),e(m,"Ab","t0",(()=>h.bj(function(){try{null.$method$("$arguments$")}catch(e){return e.message}}()))),e(m,"Ae","t3",(()=>h.bj(h.lm(void 0)))),e(m,"Af","t4",(()=>h.bj(function(){try{(void 0).$method$("$arguments$")}catch(e){return e.message}}()))),e(m,"Ad","t2",(()=>h.bj(h.oW(null)))),e(m,"Ac","t1",(()=>h.bj(function(){try{null.$method$}catch(e){return e.message}}()))),e(m,"Ah","t6",(()=>h.bj(h.oW(void 0)))),e(m,"Ag","t5",(()=>h.bj(function(){try{(void 0).$method$}catch(e){return e.message}}()))),e(m,"Ak","o9",(()=>h.uZ())),e(m,"y2","fZ",(()=>_.U.a(m.tg()))),e(m,"Ai","t7",(()=>(new h.lv).$0())),e(m,"Aj","t8",(()=>(new h.lu).$0())),e(m,"Am","oa",(()=>h.uA(h.vO(h.a([-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-1,-2,-2,-2,-2,-2,62,-2,62,-2,63,52,53,54,55,56,57,58,59,60,61,-2,-2,-2,-1,-2,-2,-2,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-2,-2,-2,-2,63,-2,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-2,-2,-2,-2,-2],_.Z))))),t(m,"Al","t9",(()=>h.uB(0))),e(m,"AE","ta",(()=>h.fX(d.e4))),e(m,"AI","te",(()=>h.vM())),n(m,"xt","bp",(()=>h.oQ("^([0-9]+)\\.([0-9]+)$"))),n(m,"xu","pX",(()=>h.oQ("^([A-Z0-9]+)_[A-Za-z0-9_]+$"))),n(m,"xS","qe",(()=>h.F("BUFFER_BYTE_LENGTH_MISMATCH",new h.hK,d.b))),n(m,"xT","qf",(()=>h.F("BUFFER_GLB_CHUNK_TOO_BIG",new h.hL,d.e))),n(m,"xL","nQ",(()=>h.F("ACCESSOR_MIN_MISMATCH",new h.hD,d.b))),n(m,"xK","nP",(()=>h.F("ACCESSOR_MAX_MISMATCH",new h.hC,d.b))),n(m,"xA","nO",(()=>h.F("ACCESSOR_ELEMENT_OUT_OF_MIN_BOUND",new h.hs,d.b))),n(m,"xz","nN",(()=>h.F("ACCESSOR_ELEMENT_OUT_OF_MAX_BOUND",new h.hr,d.b))),n(m,"xP","nR",(()=>h.F("ACCESSOR_VECTOR3_NON_UNIT",new h.hH,d.b))),n(m,"xG","q5",(()=>h.F("ACCESSOR_INVALID_SIGN",new h.hy,d.b))),n(m,"xy","q_",(()=>h.F("ACCESSOR_ANIMATION_SAMPLER_OUTPUT_NON_NORMALIZED_QUATERNION",new h.hq,d.b))),n(m,"xM","q9",(()=>h.F("ACCESSOR_NON_CLAMPED",new h.hE,d.b))),n(m,"xE","q3",(()=>h.F("ACCESSOR_INVALID_FLOAT",new h.hw,d.b))),n(m,"xB","q0",(()=>h.F("ACCESSOR_INDEX_OOB",new h.ht,d.b))),n(m,"xD","q2",(()=>h.F("ACCESSOR_INDEX_TRIANGLE_DEGENERATE",new h.hv,d.f))),n(m,"xC","q1",(()=>h.F("ACCESSOR_INDEX_PRIMITIVE_RESTART",new h.hu,d.b))),n(m,"xw","pY",(()=>h.F("ACCESSOR_ANIMATION_INPUT_NEGATIVE",new h.ho,d.b))),n(m,"xx","pZ",(()=>h.F("ACCESSOR_ANIMATION_INPUT_NON_INCREASING",new h.hp,d.b))),n(m,"xO","qb",(()=>h.F("ACCESSOR_SPARSE_INDICES_NON_INCREASING",new h.hG,d.b))),n(m,"xN","qa",(()=>h.F("ACCESSOR_SPARSE_INDEX_OOB",new h.hF,d.b))),n(m,"xF","q4",(()=>h.F("ACCESSOR_INVALID_IBM",new h.hx,d.b))),n(m,"xV","qg",(()=>h.F("IMAGE_DATA_INVALID",new h.hN,d.b))),n(m,"xX","qi",(()=>h.F("IMAGE_MIME_TYPE_INVALID",new h.hP,d.b))),n(m,"y_","ql",(()=>h.F("IMAGE_UNEXPECTED_EOS",new h.hS,d.b))),n(m,"y0","qm",(()=>h.F("IMAGE_UNRECOGNIZED_FORMAT",new h.hT,d.e))),n(m,"xY","qj",(()=>h.F("IMAGE_NON_ENABLED_MIME_TYPE",new h.hQ,d.b))),n(m,"xZ","qk",(()=>h.F("IMAGE_NPOT_DIMENSIONS",new h.hR,d.f))),n(m,"xW","qh",(()=>h.F("IMAGE_FEATURES_UNSUPPORTED",new h.hO,d.e))),n(m,"y1","nT",(()=>h.F("URI_GLB",new h.hU,d.f))),n(m,"xU","nS",(()=>h.F("DATA_URI_GLB",new h.hM,d.e))),n(m,"xI","q7",(()=>h.F("ACCESSOR_JOINTS_INDEX_OOB",new h.hA,d.b))),n(m,"xH","q6",(()=>h.F("ACCESSOR_JOINTS_INDEX_DUPLICATE",new h.hz,d.b))),n(m,"xQ","qc",(()=>h.F("ACCESSOR_WEIGHTS_NEGATIVE",new h.hI,d.b))),n(m,"xR","qd",(()=>h.F("ACCESSOR_WEIGHTS_NON_NORMALIZED",new h.hJ,d.b))),n(m,"xJ","q8",(()=>h.F("ACCESSOR_JOINTS_USED_ZERO_WEIGHT",new h.hB,d.e))),n(m,"yj","na",(()=>new h.iE(d.b,"IO_ERROR",new h.iF))),n(m,"z6","o2",(()=>h.al("ARRAY_LENGTH_NOT_IN_LIST",new h.kc,d.b))),n(m,"z7","ez",(()=>h.al("ARRAY_TYPE_MISMATCH",new h.kd,d.b))),n(m,"z5","o1",(()=>h.al("DUPLICATE_ELEMENTS",new h.kb,d.b))),n(m,"z9","h0",(()=>h.al("INVALID_INDEX",new h.kf,d.b))),n(m,"za","h1",(()=>h.al("INVALID_JSON",new h.kg,d.b))),n(m,"zb","o3",(()=>h.al("INVALID_URI",new h.kh,d.b))),n(m,"z8","bV",(()=>h.al("EMPTY_ENTITY",new h.ke,d.b))),n(m,"zc","o4",(()=>h.al("ONE_OF_MISMATCH",new h.ki,d.b))),n(m,"zd","re",(()=>h.al("PATTERN_MISMATCH",new h.kj,d.b))),n(m,"ze","a2",(()=>h.al("TYPE_MISMATCH",new h.kk,d.b))),n(m,"zj","rh",(()=>h.al("VALUE_NOT_IN_LIST",new h.kp,d.e))),n(m,"zk","nb",(()=>h.al("VALUE_NOT_IN_RANGE",new h.kq,d.b))),n(m,"zi","rg",(()=>h.al("VALUE_MULTIPLE_OF",new h.ko,d.b))),n(m,"zf","bq",(()=>h.al("UNDEFINED_PROPERTY",new h.kl,d.b))),n(m,"zg","rf",(()=>h.al("UNEXPECTED_PROPERTY",new h.km,d.e))),n(m,"zh","cJ",(()=>h.al("UNSATISFIED_DEPENDENCY",new h.kn,d.b))),n(m,"A3","rU",(()=>h.r("UNKNOWN_ASSET_MAJOR_VERSION",new h.la,d.b))),n(m,"A4","rV",(()=>h.r("UNKNOWN_ASSET_MINOR_VERSION",new h.lb,d.e))),n(m,"zP","rG",(()=>h.r("ASSET_MIN_VERSION_GREATER_THAN_VERSION",new h.kW,d.b))),n(m,"zz","rr",(()=>h.r("INVALID_GL_VALUE",new h.kG,d.b))),n(m,"zm","rj",(()=>h.r("ACCESSOR_NORMALIZED_INVALID",new h.kt,d.b))),n(m,"zn","rk",(()=>h.r("ACCESSOR_OFFSET_ALIGNMENT",new h.ku,d.b))),n(m,"zl","ri",(()=>h.r("ACCESSOR_MATRIX_ALIGNMENT",new h.ks,d.b))),n(m,"zo","rl",(()=>h.r("ACCESSOR_SPARSE_COUNT_OUT_OF_RANGE",new h.kv,d.b))),n(m,"zp","rm",(()=>h.r("ANIMATION_CHANNEL_TARGET_NODE_SKIN",new h.kw,d.e))),n(m,"zq","rn",(()=>h.r("BUFFER_DATA_URI_MIME_TYPE_INVALID",new h.kx,d.b))),n(m,"zs","ro",(()=>h.r("BUFFER_VIEW_TOO_BIG_BYTE_STRIDE",new h.kz,d.b))),n(m,"zr","nc",(()=>h.r("BUFFER_VIEW_INVALID_BYTE_STRIDE",new h.ky,d.b))),n(m,"zt","o5",(()=>h.r("CAMERA_XMAG_YMAG_NEGATIVE",new h.kA,d.e))),n(m,"zu","o6",(()=>h.r("CAMERA_XMAG_YMAG_ZERO",new h.kB,d.b))),n(m,"zv","rp",(()=>h.r("CAMERA_YFOV_GEQUAL_PI",new h.kC,d.e))),n(m,"zw","o7",(()=>h.r("CAMERA_ZFAR_LEQUAL_ZNEAR",new h.kD,d.b))),n(m,"zH","rz",(()=>h.r("MATERIAL_ALPHA_CUTOFF_INVALID_MODE",new h.kO,d.e))),n(m,"zK","nd",(()=>h.r("MESH_PRIMITIVE_INVALID_ATTRIBUTE",new h.kR,d.b))),n(m,"zO","rF",(()=>h.r("MESH_PRIMITIVES_UNEQUAL_TARGETS_COUNT",new h.kV,d.b))),n(m,"zM","rD",(()=>h.r("MESH_PRIMITIVE_NO_POSITION",new h.kT,d.e))),n(m,"zJ","rB",(()=>h.r("MESH_PRIMITIVE_INDEXED_SEMANTIC_CONTINUITY",new h.kQ,d.b))),n(m,"zN","rE",(()=>h.r("MESH_PRIMITIVE_TANGENT_WITHOUT_NORMAL",new h.kU,d.e))),n(m,"zL","rC",(()=>h.r("MESH_PRIMITIVE_JOINTS_WEIGHTS_MISMATCH",new h.kS,d.b))),n(m,"zI","rA",(()=>h.r("MESH_INVALID_WEIGHTS_COUNT",new h.kP,d.b))),n(m,"zT","rK",(()=>h.r("NODE_MATRIX_TRS",new h.l_,d.b))),n(m,"zR","rI",(()=>h.r("NODE_MATRIX_DEFAULT",new h.kY,d.f))),n(m,"zU","rL",(()=>h.r("NODE_MATRIX_NON_TRS",new h.l0,d.b))),n(m,"A0","rR",(()=>h.r("ROTATION_NON_UNIT",new h.l7,d.b))),n(m,"A6","rX",(()=>h.r("UNUSED_EXTENSION_REQUIRED",new h.ld,d.b))),n(m,"A_","rQ",(()=>h.r("NON_REQUIRED_EXTENSION",new h.l6,d.b))),n(m,"A5","rW",(()=>h.r("UNRESERVED_EXTENSION_PREFIX",new h.lc,d.e))),n(m,"zy","rq",(()=>h.r("INVALID_EXTENSION_NAME_FORMAT",new h.kF,d.e))),n(m,"zS","rJ",(()=>h.r("NODE_EMPTY",new h.kZ,d.f))),n(m,"zX","rO",(()=>h.r("NODE_SKINNED_MESH_NON_ROOT",new h.l3,d.e))),n(m,"zW","rN",(()=>h.r("NODE_SKINNED_MESH_LOCAL_TRANSFORMS",new h.l2,d.e))),n(m,"zV","rM",(()=>h.r("NODE_SKIN_NO_SCENE",new h.l1,d.b))),n(m,"A1","rS",(()=>h.r("SKIN_NO_COMMON_ROOT",new h.l8,d.b))),n(m,"A2","rT",(()=>h.r("SKIN_SKELETON_INVALID",new h.l9,d.b))),n(m,"zZ","rP",(()=>h.r("NON_RELATIVE_URI",new h.l5,d.e))),n(m,"zQ","rH",(()=>h.r("MULTIPLE_EXTENSIONS",new h.kX,d.e))),n(m,"zY","di",(()=>h.r("NON_OBJECT_EXTRAS",new h.l4,d.f))),n(m,"zx","o8",(()=>h.r("EXTRA_PROPERTY",new h.kE,d.f))),n(m,"zA","rs",(()=>h.r("KHR_LIGHTS_PUNCTUAL_LIGHT_SPOT_ANGLES",new h.kH,d.b))),n(m,"zB","rt",(()=>h.r("KHR_MATERIALS_EMISSIVE_STRENGTH_ZERO_FACTOR",new h.kI,d.e))),n(m,"zG","ry",(()=>h.r("KHR_MATERIALS_VOLUME_NO_TRANSMISSION",new h.kN,d.e))),n(m,"zF","rx",(()=>h.r("KHR_MATERIALS_VOLUME_DOUBLE_SIDED",new h.kM,d.e))),n(m,"zD","rv",(()=>h.r("KHR_MATERIALS_IRIDESCENCE_THICKNESS_RANGE_WITHOUT_TEXTURE",new h.kK,d.f))),n(m,"zC","ru",(()=>h.r("KHR_MATERIALS_IRIDESCENCE_THICKNESS_RANGE_INVALID",new h.kJ,d.b))),n(m,"zE","rw",(()=>h.r("KHR_MATERIALS_IRIDESCENCE_THICKNESS_TEXTURE_UNUSED",new h.kL,d.f))),n(m,"ym","qE",(()=>h.v("ACCESSOR_TOTAL_OFFSET_ALIGNMENT",new h.j_,d.b))),n(m,"yk","qD",(()=>h.v("ACCESSOR_SMALL_BYTESTRIDE",new h.iY,d.b))),n(m,"yl","nU",(()=>h.v("ACCESSOR_TOO_LONG",new h.iZ,d.b))),n(m,"yn","qF",(()=>h.v("ACCESSOR_USAGE_OVERRIDE",new h.j0,d.b))),n(m,"yq","qI",(()=>h.v("ANIMATION_DUPLICATE_TARGETS",new h.j3,d.b))),n(m,"yo","qG",(()=>h.v("ANIMATION_CHANNEL_TARGET_NODE_MATRIX",new h.j1,d.b))),n(m,"yp","qH",(()=>h.v("ANIMATION_CHANNEL_TARGET_NODE_WEIGHTS_NO_MORPHS",new h.j2,d.b))),n(m,"yu","qL",(()=>h.v("ANIMATION_SAMPLER_INPUT_ACCESSOR_WITHOUT_BOUNDS",new h.j7,d.b))),n(m,"ys","qJ",(()=>h.v("ANIMATION_SAMPLER_INPUT_ACCESSOR_INVALID_FORMAT",new h.j5,d.b))),n(m,"yw","qN",(()=>h.v("ANIMATION_SAMPLER_OUTPUT_ACCESSOR_INVALID_FORMAT",new h.j9,d.b))),n(m,"yt","qK",(()=>h.v("ANIMATION_SAMPLER_INPUT_ACCESSOR_TOO_FEW_ELEMENTS",new h.j6,d.b))),n(m,"yv","qM",(()=>h.v("ANIMATION_SAMPLER_OUTPUT_ACCESSOR_INVALID_COUNT",new h.j8,d.b))),n(m,"yr","nV",(()=>h.v("ANIMATION_SAMPLER_ACCESSOR_WITH_BYTESTRIDE",new h.j4,d.b))),n(m,"yx","qO",(()=>h.v("BUFFER_MISSING_GLB_DATA",new h.ja,d.b))),n(m,"yA","nW",(()=>h.v("BUFFER_VIEW_TOO_LONG",new h.jd,d.b))),n(m,"yz","qQ",(()=>h.v("BUFFER_VIEW_TARGET_OVERRIDE",new h.jc,d.b))),n(m,"yy","qP",(()=>h.v("BUFFER_VIEW_TARGET_MISSING",new h.jb,d.aA))),n(m,"yB","qR",(()=>h.v("IMAGE_BUFFER_VIEW_WITH_BYTESTRIDE",new h.je,d.b))),n(m,"yC","qS",(()=>h.v("INVALID_IBM_ACCESSOR_COUNT",new h.jf,d.b))),n(m,"yG","nY",(()=>h.v("MESH_PRIMITIVE_ATTRIBUTES_ACCESSOR_INVALID_FORMAT",new h.jj,d.b))),n(m,"yH","qV",(()=>h.v("MESH_PRIMITIVE_ATTRIBUTES_ACCESSOR_UNSIGNED_INT",new h.jk,d.b))),n(m,"yN","nZ",(()=>h.v("MESH_PRIMITIVE_POSITION_ACCESSOR_WITHOUT_BOUNDS",new h.jq,d.b))),n(m,"yF","qU",(()=>h.v("MESH_PRIMITIVE_ACCESSOR_WITHOUT_BYTESTRIDE",new h.ji,d.b))),n(m,"yE","nX",(()=>h.v("MESH_PRIMITIVE_ACCESSOR_UNALIGNED",new h.jh,d.b))),n(m,"yK","qY",(()=>h.v("MESH_PRIMITIVE_INDICES_ACCESSOR_WITH_BYTESTRIDE",new h.jn,d.b))),n(m,"yJ","qX",(()=>h.v("MESH_PRIMITIVE_INDICES_ACCESSOR_INVALID_FORMAT",new h.jm,d.b))),n(m,"yI","qW",(()=>h.v("MESH_PRIMITIVE_INCOMPATIBLE_MODE",new h.jl,d.e))),n(m,"yO","o_",(()=>h.v("MESH_PRIMITIVE_TOO_FEW_TEXCOORDS",new h.jr,d.b))),n(m,"yP","r0",(()=>h.v("MESH_PRIMITIVE_UNEQUAL_ACCESSOR_COUNT",new h.js,d.b))),n(m,"yM","r_",(()=>h.v("MESH_PRIMITIVE_MORPH_TARGET_NO_BASE_ACCESSOR",new h.jp,d.b))),n(m,"yL","qZ",(()=>h.v("MESH_PRIMITIVE_MORPH_TARGET_INVALID_ATTRIBUTE_COUNT",new h.jo,d.b))),n(m,"yQ","r1",(()=>h.v("NODE_LOOP",new h.jt,d.b))),n(m,"yR","r2",(()=>h.v("NODE_PARENT_OVERRIDE",new h.ju,d.b))),n(m,"yU","r5",(()=>h.v("NODE_WEIGHTS_INVALID",new h.jx,d.b))),n(m,"yS","r3",(()=>h.v("NODE_SKIN_WITH_NON_SKINNED_MESH",new h.jv,d.b))),n(m,"yT","r4",(()=>h.v("NODE_SKINNED_MESH_WITHOUT_SKIN",new h.jw,d.e))),n(m,"yV","r6",(()=>h.v("SCENE_NON_ROOT_NODE",new h.jy,d.b))),n(m,"yX","r8",(()=>h.v("SKIN_IBM_INVALID_FORMAT",new h.jA,d.b))),n(m,"yW","r7",(()=>h.v("SKIN_IBM_ACCESSOR_WITH_BYTESTRIDE",new h.jz,d.b))),n(m,"yY","o0",(()=>h.v("TEXTURE_INVALID_IMAGE_MIME_TYPE",new h.jB,d.b))),n(m,"yZ","r9",(()=>h.v("UNDECLARED_EXTENSION",new h.jC,d.b))),n(m,"z_","ra",(()=>h.v("UNEXPECTED_EXTENSION_OBJECT",new h.jD,d.b))),n(m,"z0","N",(()=>h.v("UNRESOLVED_REFERENCE",new h.jE,d.b))),n(m,"z1","rb",(()=>h.v("UNSUPPORTED_EXTENSION",new h.jF,d.f))),n(m,"z4","h_",(()=>h.v("UNUSED_OBJECT",new h.jI,d.f))),n(m,"z3","rd",(()=>h.v("UNUSED_MESH_WEIGHTS",new h.jH,d.f))),n(m,"z2","rc",(()=>h.v("UNUSED_MESH_TANGENT",new h.jG,d.f))),n(m,"yD","qT",(()=>h.v("KHR_MATERIALS_VARIANTS_NON_UNIQUE_VARIANT",new h.jg,d.b))),n(m,"y9","qt",(()=>h.ak("GLB_INVALID_MAGIC",new h.i4,d.b))),n(m,"ya","qu",(()=>h.ak("GLB_INVALID_VERSION",new h.i5,d.b))),n(m,"yc","qw",(()=>h.ak("GLB_LENGTH_TOO_SMALL",new h.i7,d.b))),n(m,"y3","qn",(()=>h.ak("GLB_CHUNK_LENGTH_UNALIGNED",new h.hZ,d.b))),n(m,"yb","qv",(()=>h.ak("GLB_LENGTH_MISMATCH",new h.i6,d.b))),n(m,"y4","qo",(()=>h.ak("GLB_CHUNK_TOO_BIG",new h.i_,d.b))),n(m,"y7","qr",(()=>h.ak("GLB_EMPTY_CHUNK",new h.i2,d.b))),n(m,"y6","qq",(()=>h.ak("GLB_EMPTY_BIN_CHUNK",new h.i1,d.f))),n(m,"y5","qp",(()=>h.ak("GLB_DUPLICATE_CHUNK",new h.i0,d.b))),n(m,"yf","qz",(()=>h.ak("GLB_UNEXPECTED_END_OF_CHUNK_HEADER",new h.ia,d.b))),n(m,"ye","qy",(()=>h.ak("GLB_UNEXPECTED_END_OF_CHUNK_DATA",new h.i9,d.b))),n(m,"yg","qA",(()=>h.ak("GLB_UNEXPECTED_END_OF_HEADER",new h.ib,d.b))),n(m,"yh","qB",(()=>h.ak("GLB_UNEXPECTED_FIRST_CHUNK",new h.ic,d.b))),n(m,"yd","qx",(()=>h.ak("GLB_UNEXPECTED_BIN_CHUNK",new h.i8,d.b))),n(m,"yi","qC",(()=>h.ak("GLB_UNKNOWN_CHUNK_TYPE",new h.id,d.e))),n(m,"y8","qs",(()=>h.ak("GLB_EXTRA_DATA",new h.i3,d.e))),n(m,"AC","ob",(()=>h.uz(1))),n(m,"AF","tb",(()=>h.uv())),n(m,"AJ","tf",(()=>h.p2())),n(m,"AG","tc",(()=>{var e=h.uM();return e.a[3]=1,e})),n(m,"AH","td",(()=>h.p2()))}(),function(){var e=function(e){var t={};return t[e]=1,Object.keys(c.convertToFastObject(t))[0]};g.getIsolateTag=function(t){return e("___dart_"+t+g.isolateTag)};for(var t="___dart_isolate_tags_",n=Object[t]||(Object[t]=Object.create(null)),r=0;;r++){var a=e("_ZxYxX_"+r+"_");if(!(a in n)){n[a]=1,g.isolateTag=a;break}}g.dispatchPropertyName=g.getIsolateTag("dispatch_record")}(),c.setOrUpdateInterceptorsByTag({ArrayBuffer:f.cR,DataView:h.dD,ArrayBufferView:h.dD,Float32Array:h.f4,Float64Array:h.f5,Int16Array:h.f6,Int32Array:h.f7,Int8Array:h.f8,Uint16Array:h.f9,Uint32Array:h.fa,Uint8ClampedArray:h.dE,CanvasPixelArray:h.dE,Uint8Array:h.cu}),c.setOrUpdateLeafTags({ArrayBuffer:!0,DataView:!0,ArrayBufferView:!1,Float32Array:!0,Float64Array:!0,Int16Array:!0,Int32Array:!0,Int8Array:!0,Uint16Array:!0,Uint32Array:!0,Uint8ClampedArray:!0,CanvasPixelArray:!0,Uint8Array:!1}),h.cW.$nativeSuperclassTag="ArrayBufferView",h.e4.$nativeSuperclassTag="ArrayBufferView",h.e5.$nativeSuperclassTag="ArrayBufferView",h.dC.$nativeSuperclassTag="ArrayBufferView",h.e6.$nativeSuperclassTag="ArrayBufferView",h.e7.$nativeSuperclassTag="ArrayBufferView",h.aw.$nativeSuperclassTag="ArrayBufferView",Function.prototype.$1=function(e){return this(e)},Function.prototype.$0=function(){return this()},Function.prototype.$2=function(e,t){return this(e,t)},Function.prototype.$1$1=function(e){return this(e)},Function.prototype.$1$0=function(){return this()},Function.prototype.$3=function(e,t,n){return this(e,t,n)},Function.prototype.$4=function(e,t,n,r){return this(e,t,n,r)},Function.prototype.$1$2=function(e,t){return this(e,t)},Function.prototype.$2$0=function(){return this()},function(e){for(var t=0;t<e.length;++t)r(e[t])}(p),r(m),function(e){if("undefined"!=typeof document)if(void 0===document.currentScript)for(var t=document.scripts,n=0;n<t.length;++n)t[n].addEventListener("load",r,!1);else e(document.currentScript);else e(null);function r(n){for(var a=0;a<t.length;++a)t[a].removeEventListener("load",r,!1);e(n.target)}}((function(e){g.currentScript=e;var t=h.xb;"function"==typeof dartMainRunner?dartMainRunner(t,[]):t([])}))}()},880:(e,t,n)=>{var r=n(202);e.exports=(r.default||r).template({1:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"            <li>\r\n                <b>Generator:</b> "+e.escapeExpression(e.lambda(null!=(i=null!=t?s(t,"generator"):t)?s(i,"name"):i,t))+"\r\n                "+(null!=(i=s(n,"if").call(o,null!=(i=null!=t?s(t,"generator"):t)?s(i,"docsURL"):i,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a,loc:{start:{line:13,column:16},end:{line:13,column:106}}}))?i:"")+"\r\n                "+(null!=(i=s(n,"if").call(o,null!=(i=null!=t?s(t,"generator"):t)?s(i,"bugsURL"):i,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a,loc:{start:{line:14,column:16},end:{line:14,column:106}}}))?i:"")+"\r\n            </li>\r\n"},2:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'(<a href="'+e.escapeExpression(e.lambda(null!=(i=null!=t?o(t,"generator"):t)?o(i,"docsURL"):i,t))+'" target="_blank">docs</a>)'},4:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'(<a href="'+e.escapeExpression(e.lambda(null!=(i=null!=t?o(t,"generator"):t)?o(i,"bugsURL"):i,t))+'" target="_blank">bugs</a>)'},6:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                <li><b>Generator:</b> "+e.escapeExpression(e.lambda(null!=(i=null!=t?o(t,"info"):t)?o(i,"generator"):i,t))+"</li>\r\n"},8:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                "+(null!=(i=s(n,"if").call(o,null!=(i=null!=(i=null!=t?s(t,"info"):t)?s(i,"extras"):i)?s(i,"title"):i,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a,loc:{start:{line:20,column:16},end:{line:20,column:92}}}))?i:"")+"\r\n                "+(null!=(i=s(n,"if").call(o,null!=(i=null!=(i=null!=t?s(t,"info"):t)?s(i,"extras"):i)?s(i,"author"):i,{name:"if",hash:{},fn:e.program(11,a,0),inverse:e.noop,data:a,loc:{start:{line:21,column:16},end:{line:21,column:97}}}))?i:"")+"\r\n                "+(null!=(i=s(n,"if").call(o,null!=(i=null!=(i=null!=t?s(t,"info"):t)?s(i,"extras"):i)?s(i,"license"):i,{name:"if",hash:{},fn:e.program(13,a,0),inverse:e.noop,data:a,loc:{start:{line:22,column:16},end:{line:22,column:100}}}))?i:"")+"\r\n                "+(null!=(i=s(n,"if").call(o,null!=(i=null!=(i=null!=t?s(t,"info"):t)?s(i,"extras"):i)?s(i,"source"):i,{name:"if",hash:{},fn:e.program(15,a,0),inverse:e.noop,data:a,loc:{start:{line:23,column:16},end:{line:23,column:97}}}))?i:"")+"\r\n"},9:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<li><b>Title:</b> "+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=t?o(t,"info"):t)?o(i,"extras"):i)?o(i,"title"):i,t))+"</li>"},11:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<li><b>Author:</b> "+(null!=(i=e.lambda(null!=(i=null!=(i=null!=t?o(t,"info"):t)?o(i,"extras"):i)?o(i,"author"):i,t))?i:"")+"</li>"},13:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<li><b>License:</b> "+(null!=(i=e.lambda(null!=(i=null!=(i=null!=t?o(t,"info"):t)?o(i,"extras"):i)?o(i,"license"):i,t))?i:"")+"</li>"},15:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<li><b>Source:</b> "+(null!=(i=e.lambda(null!=(i=null!=(i=null!=t?o(t,"info"):t)?o(i,"extras"):i)?o(i,"source"):i,t))?i:"")+"</li>"},17:function(e,t,n,r,a){return"None"},19:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                <ul>\r\n"+(null!=(i=o(n,"each").call(null!=t?t:e.nullContext||{},null!=(i=null!=t?o(t,"info"):t)?o(i,"extensionsUsed"):i,{name:"each",hash:{},fn:e.program(20,a,0),inverse:e.noop,data:a,loc:{start:{line:39,column:16},end:{line:41,column:25}}}))?i:"")+"                </ul>\r\n"},20:function(e,t,n,r,a){return"                    <li>"+e.escapeExpression(e.lambda(t,t))+"</li>\r\n"},22:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <table class="report-table">\r\n        <thead>\r\n            <tr style="background: #f44336;">\r\n            <th>Error</th>\r\n            <th>Message</th>\r\n            <th>Pointer</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n'+(null!=(i=s(n,"each").call(o,null!=t?s(t,"errors"):t,{name:"each",hash:{},fn:e.program(23,a,0),inverse:e.noop,data:a,loc:{start:{line:62,column:12},end:{line:68,column:21}}}))?i:"")+(null!=(i=s(n,"unless").call(o,null!=(i=null!=t?s(t,"issues"):t)?s(i,"messages"):i,{name:"unless",hash:{},fn:e.program(25,a,0),inverse:e.noop,data:a,loc:{start:{line:69,column:12},end:{line:71,column:23}}}))?i:"")+"        </tbody>\r\n        </table>\r\n"},23:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l="function",u=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"            <tr>\r\n            <td><code>"+u(typeof(i=null!=(i=c(n,"code")||(null!=t?c(t,"code"):t))?i:s)===l?i.call(o,{name:"code",hash:{},data:a,loc:{start:{line:64,column:22},end:{line:64,column:30}}}):i)+"</code></td>\r\n            <td>"+u(typeof(i=null!=(i=c(n,"message")||(null!=t?c(t,"message"):t))?i:s)===l?i.call(o,{name:"message",hash:{},data:a,loc:{start:{line:65,column:16},end:{line:65,column:27}}}):i)+"</td>\r\n            <td><code>"+u(typeof(i=null!=(i=c(n,"pointer")||(null!=t?c(t,"pointer"):t))?i:s)===l?i.call(o,{name:"pointer",hash:{},data:a,loc:{start:{line:66,column:22},end:{line:66,column:33}}}):i)+"</code></td>\r\n            </tr>\r\n"},25:function(e,t,n,r,a){return'            <tr><td colspan="3">No issues found.</td></tr>\r\n'},27:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <table class="report-table">\r\n        <thead>\r\n            <tr style="background: #f9a825;">\r\n            <th>Warning</th>\r\n            <th>Message</th>\r\n            <th>Pointer</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n'+(null!=(i=s(n,"each").call(o,null!=t?s(t,"warnings"):t,{name:"each",hash:{},fn:e.program(23,a,0),inverse:e.noop,data:a,loc:{start:{line:85,column:12},end:{line:91,column:21}}}))?i:"")+(null!=(i=s(n,"unless").call(o,null!=(i=null!=t?s(t,"issues"):t)?s(i,"messages"):i,{name:"unless",hash:{},fn:e.program(25,a,0),inverse:e.noop,data:a,loc:{start:{line:92,column:12},end:{line:94,column:23}}}))?i:"")+"        </tbody>\r\n        </table>\r\n"},29:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <table class="report-table">\r\n        <thead>\r\n            <tr style="background: #8bc34a;">\r\n            <th>Hint</th>\r\n            <th>Message</th>\r\n            <th>Pointer</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n'+(null!=(i=s(n,"each").call(o,null!=t?s(t,"hints"):t,{name:"each",hash:{},fn:e.program(23,a,0),inverse:e.noop,data:a,loc:{start:{line:108,column:12},end:{line:114,column:21}}}))?i:"")+(null!=(i=s(n,"unless").call(o,null!=(i=null!=t?s(t,"issues"):t)?s(i,"messages"):i,{name:"unless",hash:{},fn:e.program(25,a,0),inverse:e.noop,data:a,loc:{start:{line:115,column:12},end:{line:117,column:23}}}))?i:"")+"        </tbody>\r\n        </table>\r\n"},31:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <table class="report-table">\r\n        <thead>\r\n            <tr style="background: #2196f3;">\r\n            <th>Info</th>\r\n            <th>Message</th>\r\n            <th>Pointer</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n'+(null!=(i=s(n,"each").call(o,null!=t?s(t,"infos"):t,{name:"each",hash:{},fn:e.program(23,a,0),inverse:e.noop,data:a,loc:{start:{line:131,column:12},end:{line:137,column:21}}}))?i:"")+(null!=(i=s(n,"unless").call(o,null!=(i=null!=t?s(t,"issues"):t)?s(i,"messages"):i,{name:"unless",hash:{},fn:e.program(25,a,0),inverse:e.noop,data:a,loc:{start:{line:138,column:12},end:{line:140,column:23}}}))?i:"")+"        </tbody>\r\n        </table>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o,s=e.lambda,l=e.escapeExpression,u=null!=t?t:e.nullContext||{},c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<!DOCTYPE html>\r\n<title>glTF 2.0 validation report</title>\r\n<style>\r\n    body { overflow-y: auto; }\r\n</style>\r\n<div class="report">\r\n    <h1>Validation report</h1>\r\n    <ul>\r\n        <li><b>Format:</b> glTF '+l(s(null!=(i=null!=t?c(t,"info"):t)?c(i,"version"):i,t))+"</li>\r\n"+(null!=(i=c(n,"if").call(u,null!=t?c(t,"generator"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(6,a,0),data:a,loc:{start:{line:10,column:12},end:{line:18,column:19}}}))?i:"")+(null!=(i=c(n,"if").call(u,null!=(i=null!=t?c(t,"info"):t)?c(i,"extras"):i,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a,loc:{start:{line:19,column:12},end:{line:24,column:19}}}))?i:"")+"        <li>\r\n            <b>Stats:</b>\r\n            <ul>\r\n                <li>"+l(s(null!=(i=null!=t?c(t,"info"):t)?c(i,"drawCallCount"):i,t))+" draw calls</li>\r\n                <li>"+l(s(null!=(i=null!=t?c(t,"info"):t)?c(i,"animationCount"):i,t))+" animations</li>\r\n                <li>"+l(s(null!=(i=null!=t?c(t,"info"):t)?c(i,"materialCount"):i,t))+" materials</li>\r\n                <li>"+l(s(null!=(i=null!=t?c(t,"info"):t)?c(i,"totalVertexCount"):i,t))+" vertices</li>\r\n                <li>"+l(s(null!=(i=null!=t?c(t,"info"):t)?c(i,"totalTriangleCount"):i,t))+" triangles</li>\r\n            </ul>\r\n        </li>\r\n        <li>\r\n            <b>Extensions:</b> "+(null!=(i=c(n,"unless").call(u,null!=(i=null!=t?c(t,"info"):t)?c(i,"extensionsUsed"):i,{name:"unless",hash:{},fn:e.program(17,a,0),inverse:e.noop,data:a,loc:{start:{line:36,column:31},end:{line:36,column:77}}}))?i:"")+"\r\n"+(null!=(i=c(n,"if").call(u,null!=(i=null!=t?c(t,"info"):t)?c(i,"extensionsUsed"):i,{name:"if",hash:{},fn:e.program(19,a,0),inverse:e.noop,data:a,loc:{start:{line:37,column:12},end:{line:43,column:19}}}))?i:"")+'        </li>\r\n    </ul>\r\n    <hr/>\r\n    <p>\r\n        Report generated by\r\n        <a href="https://github.com/KhronosGroup/glTF-Validator/">KhronosGroup/glTF-Validator</a>\r\n        '+l("function"==typeof(o=null!=(o=c(n,"validatorVersion")||(null!=t?c(t,"validatorVersion"):t))?o:e.hooks.helperMissing)?o.call(u,{name:"validatorVersion",hash:{},data:a,loc:{start:{line:50,column:8},end:{line:50,column:28}}}):o)+".\r\n    </p>\r\n"+(null!=(i=c(n,"if").call(u,null!=(i=null!=t?c(t,"issues"):t)?c(i,"numErrors"):i,{name:"if",hash:{},fn:e.program(22,a,0),inverse:e.noop,data:a,loc:{start:{line:52,column:4},end:{line:74,column:11}}}))?i:"")+(null!=(i=c(n,"if").call(u,null!=(i=null!=t?c(t,"issues"):t)?c(i,"numWarnings"):i,{name:"if",hash:{},fn:e.program(27,a,0),inverse:e.noop,data:a,loc:{start:{line:75,column:4},end:{line:97,column:11}}}))?i:"")+(null!=(i=c(n,"if").call(u,null!=(i=null!=t?c(t,"issues"):t)?c(i,"numHints"):i,{name:"if",hash:{},fn:e.program(29,a,0),inverse:e.noop,data:a,loc:{start:{line:98,column:4},end:{line:120,column:11}}}))?i:"")+(null!=(i=c(n,"if").call(u,null!=(i=null!=t?c(t,"issues"):t)?c(i,"numInfos"):i,{name:"if",hash:{},fn:e.program(31,a,0),inverse:e.noop,data:a,loc:{start:{line:121,column:4},end:{line:143,column:11}}}))?i:"")+"</div>"},useData:!0})},263:(e,t,n)=>{var r=n(202);e.exports=(r.default||r).template({1:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=o(n,"if").call(null!=t?t:e.nullContext||{},null!=(i=null!=t?o(t,"issues"):t)?o(i,"numErrors"):i,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a,loc:{start:{line:4,column:6},end:{line:14,column:13}}}))?i:""},2:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        "+e.escapeExpression(e.lambda(null!=(i=null!=t?o(t,"issues"):t)?o(i,"numErrors"):i,t))+" errors.\r\n"},4:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=o(n,"if").call(null!=t?t:e.nullContext||{},null!=(i=null!=t?o(t,"issues"):t)?o(i,"numWarnings"):i,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.program(7,a,0),data:a,loc:{start:{line:6,column:6},end:{line:14,column:6}}}))?i:""},5:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        "+e.escapeExpression(e.lambda(null!=(i=null!=t?o(t,"issues"):t)?o(i,"numWarnings"):i,t))+" warnings.\r\n"},7:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=o(n,"if").call(null!=t?t:e.nullContext||{},null!=(i=null!=t?o(t,"issues"):t)?o(i,"numHints"):i,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.program(10,a,0),data:a,loc:{start:{line:8,column:6},end:{line:14,column:6}}}))?i:""},8:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        "+e.escapeExpression(e.lambda(null!=(i=null!=t?o(t,"issues"):t)?o(i,"numHints"):i,t))+" hints.\r\n"},10:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=o(n,"if").call(null!=t?t:e.nullContext||{},null!=(i=null!=t?o(t,"issues"):t)?o(i,"numInfos"):i,{name:"if",hash:{},fn:e.program(11,a,0),inverse:e.program(13,a,0),data:a,loc:{start:{line:10,column:6},end:{line:14,column:6}}}))?i:""},11:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        "+e.escapeExpression(e.lambda(null!=(i=null!=t?o(t,"issues"):t)?o(i,"numInfos"):i,t))+" notes.\r\n"},13:function(e,t,n,r,a){return"        Model details\r\n      "},15:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=o(n,"if").call(null!=t?t:e.nullContext||{},null!=t?o(t,"reportError"):t,{name:"if",hash:{},fn:e.program(16,a,0),inverse:e.program(18,a,0),data:a,loc:{start:{line:15,column:4},end:{line:19,column:4}}}))?i:""},16:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"      Validation could not run: "+e.escapeExpression("function"==typeof(i=null!=(i=o(n,"reportError")||(null!=t?o(t,"reportError"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"reportError",hash:{},data:a,loc:{start:{line:16,column:32},end:{line:16,column:47}}}):i)+".\r\n"},18:function(e,t,n,r,a){return"      Validation could not run.\r\n    "},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="report-toggle level-'+e.escapeExpression(e.lambda(null!=(i=null!=t?o(t,"issues"):t)?o(i,"maxSeverity"):i,t))+'">\r\n  <div class="report-toggle-text">\r\n'+(null!=(i=o(n,"if").call(null!=t?t:e.nullContext||{},null!=t?o(t,"issues"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(15,a,0),data:a,loc:{start:{line:3,column:4},end:{line:19,column:11}}}))?i:"")+'  </div>\r\n  <div class="report-toggle-close" aria-label="Hide">&times;</div>\r\n</div>'},useData:!0})},834:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0;var i=a(n(67)),o=r(n(558)),s=r(n(728)),l=a(n(392)),u=a(n(628)),c=r(n(982));function h(){var e=new i.HandlebarsEnvironment;return l.extend(e,i),e.SafeString=o.default,e.Exception=s.default,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=u,e.template=function(t){return u.template(t,e)},e}var f=h();f.create=h,c.default(f),f.default=f,t.default=f,e.exports=t.default},67:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.HandlebarsEnvironment=h;var a=n(392),i=r(n(728)),o=n(638),s=n(881),l=r(n(37)),u=n(293);t.VERSION="4.7.7",t.COMPILER_REVISION=8,t.LAST_COMPATIBLE_COMPILER_REVISION=7,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var c="[object Object]";function h(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},o.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}h.prototype={constructor:h,logger:l.default,log:l.default.log,registerHelper:function(e,t){if(a.toString.call(e)===c){if(t)throw new i.default("Arg not supported with multiple helpers");a.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(a.toString.call(e)===c)a.extend(this.partials,e);else{if(void 0===t)throw new i.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(a.toString.call(e)===c){if(t)throw new i.default("Arg not supported with multiple decorators");a.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){u.resetLoggedProperties()}};var f=l.default.log;t.log=f,t.createFrame=a.createFrame,t.logger=l.default},881:(e,t,n)=>{"use strict";t.__esModule=!0,t.registerDefaultDecorators=function(e){a.default(e)};var r,a=(r=n(670))&&r.__esModule?r:{default:r}},670:(e,t,n)=>{"use strict";t.__esModule=!0;var r=n(392);t.default=function(e){e.registerDecorator("inline",(function(e,t,n,a){var i=e;return t.partials||(t.partials={},i=function(a,i){var o=n.partials;n.partials=r.extend({},o,t.partials);var s=e(a,i);return n.partials=o,s}),t.partials[a.args[0]]=a.fn,i}))},e.exports=t.default},728:(e,t)=>{"use strict";t.__esModule=!0;var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function r(e,t){var a=t&&t.loc,i=void 0,o=void 0,s=void 0,l=void 0;a&&(i=a.start.line,o=a.end.line,s=a.start.column,l=a.end.column,e+=" - "+i+":"+s);for(var u=Error.prototype.constructor.call(this,e),c=0;c<n.length;c++)this[n[c]]=u[n[c]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{a&&(this.lineNumber=i,this.endLineNumber=o,Object.defineProperty?(Object.defineProperty(this,"column",{value:s,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=s,this.endColumn=l))}catch(e){}}r.prototype=new Error,t.default=r,e.exports=t.default},638:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.registerDefaultHelpers=function(e){a.default(e),i.default(e),o.default(e),s.default(e),l.default(e),u.default(e),c.default(e)},t.moveHelperToHooks=function(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])};var a=r(n(342)),i=r(n(822)),o=r(n(905)),s=r(n(405)),l=r(n(702)),u=r(n(593)),c=r(n(978))},342:(e,t,n)=>{"use strict";t.__esModule=!0;var r=n(392);t.default=function(e){e.registerHelper("blockHelperMissing",(function(t,n){var a=n.inverse,i=n.fn;if(!0===t)return i(this);if(!1===t||null==t)return a(this);if(r.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):a(this);if(n.data&&n.ids){var o=r.createFrame(n.data);o.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:o}}return i(t,n)}))},e.exports=t.default},822:(e,t,n)=>{"use strict";t.__esModule=!0;var r,a=n(392),i=(r=n(728))&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("each",(function(e,t){if(!t)throw new i.default("Must pass iterator to #each");var r,o=t.fn,s=t.inverse,l=0,u="",c=void 0,h=void 0;function f(t,n,r){c&&(c.key=t,c.index=n,c.first=0===n,c.last=!!r,h&&(c.contextPath=h+t)),u+=o(e[t],{data:c,blockParams:a.blockParams([e[t],t],[h+t,null])})}if(t.data&&t.ids&&(h=a.appendContextPath(t.data.contextPath,t.ids[0])+"."),a.isFunction(e)&&(e=e.call(this)),t.data&&(c=a.createFrame(t.data)),e&&"object"==typeof e)if(a.isArray(e))for(var d=e.length;l<d;l++)l in e&&f(l,l,l===e.length-1);else if(n.g.Symbol&&e[n.g.Symbol.iterator]){for(var p=[],m=e[n.g.Symbol.iterator](),g=m.next();!g.done;g=m.next())p.push(g.value);for(d=(e=p).length;l<d;l++)f(l,l,l===e.length-1)}else r=void 0,Object.keys(e).forEach((function(e){void 0!==r&&f(r,l-1),r=e,l++})),void 0!==r&&f(r,l-1,!0);return 0===l&&(u=s(this)),u}))},e.exports=t.default},905:(e,t,n)=>{"use strict";t.__esModule=!0;var r,a=(r=n(728))&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new a.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},e.exports=t.default},405:(e,t,n)=>{"use strict";t.__esModule=!0;var r,a=n(392),i=(r=n(728))&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("if",(function(e,t){if(2!=arguments.length)throw new i.default("#if requires exactly one argument");return a.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||a.isEmpty(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,n){if(2!=arguments.length)throw new i.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},e.exports=t.default},702:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",(function(){for(var t=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)t.push(arguments[r]);var a=1;null!=n.hash.level?a=n.hash.level:n.data&&null!=n.data.level&&(a=n.data.level),t[0]=a,e.log.apply(e,t)}))},e.exports=t.default},593:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",(function(e,t,n){return e?n.lookupProperty(e,t):e}))},e.exports=t.default},978:(e,t,n)=>{"use strict";t.__esModule=!0;var r,a=n(392),i=(r=n(728))&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("with",(function(e,t){if(2!=arguments.length)throw new i.default("#with requires exactly one argument");a.isFunction(e)&&(e=e.call(this));var n=t.fn;if(a.isEmpty(e))return t.inverse(this);var r=t.data;return t.data&&t.ids&&((r=a.createFrame(t.data)).contextPath=a.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:r,blockParams:a.blockParams([e],[r&&r.contextPath])})}))},e.exports=t.default},572:(e,t,n)=>{"use strict";t.__esModule=!0,t.createNewLookupObject=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.extend.apply(void 0,[Object.create(null)].concat(t))};var r=n(392)},293:(e,t,n)=>{"use strict";t.__esModule=!0,t.createProtoAccessControl=function(e){var t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:r.createNewLookupObject(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:r.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}},t.resultIsAllowed=function(e,t,n){return function(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==i[e]&&(i[e]=!0,a.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(t),!1)}("function"==typeof e?t.methods:t.properties,n)},t.resetLoggedProperties=function(){Object.keys(i).forEach((function(e){delete i[e]}))};var r=n(572),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(37)),i=Object.create(null)},5:(e,t)=>{"use strict";t.__esModule=!0,t.wrapHelper=function(e,t){return"function"!=typeof e?e:function(){var n=arguments[arguments.length-1];return arguments[arguments.length-1]=t(n),e.apply(this,arguments)}}},37:(e,t,n)=>{"use strict";t.__esModule=!0;var r=n(392),a={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=r.indexOf(a.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=a.lookupLevel(e),"undefined"!=typeof console&&a.lookupLevel(a.level)<=e){var t=a.methodMap[e];console[t]||(t="log");for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];console[t].apply(console,r)}}};t.default=a,e.exports=t.default},982:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e){var t=void 0!==n.g?n.g:window,r=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=r),e}},e.exports=t.default},628:(e,t,n)=>{"use strict";t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,n=o.COMPILER_REVISION;if(!(t>=o.LAST_COMPATIBLE_COMPILER_REVISION&&t<=o.COMPILER_REVISION)){if(t<o.LAST_COMPATIBLE_COMPILER_REVISION){var r=o.REVISION_CHANGES[n],a=o.REVISION_CHANGES[t];throw new i.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+a+").")}throw new i.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},t.template=function(e,t){if(!t)throw new i.default("No environment passed to template");if(!e||!e.main)throw new i.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n=e.compiler&&7===e.compiler[0],r={strict:function(e,t,n){if(!e||!(t in e))throw new i.default('"'+t+'" not defined in '+e,{loc:n});return r.lookupProperty(e,t)},lookupProperty:function(e,t){var n=e[t];return null==n||Object.prototype.hasOwnProperty.call(e,t)||u.resultIsAllowed(n,r.protoAccessControl,t)?n:void 0},lookup:function(e,t){for(var n=e.length,a=0;a<n;a++)if(null!=(e[a]&&r.lookupProperty(e[a],t)))return e[a][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:a.escapeExpression,invokePartial:function(n,r,o){o.hash&&(r=a.extend({},r,o.hash),o.ids&&(o.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,r,o);var s=a.extend({},o,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),l=t.VM.invokePartial.call(this,n,r,s);if(null==l&&t.compile&&(o.partials[o.name]=t.compile(n,e.compilerOptions,t),l=o.partials[o.name](r,s)),null!=l){if(o.indent){for(var u=l.split("\n"),c=0,h=u.length;c<h&&(u[c]||c+1!==h);c++)u[c]=o.indent+u[c];l=u.join("\n")}return l}throw new i.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,r,a){var i=this.programs[e],o=this.fn(e);return t||a||r||n?i=c(this,e,o,t,n,r,a):i||(i=this.programs[e]=c(this,e,o)),i},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=a.extend({},t,e)),n},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function o(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=n.data;o._setup(n),!n.partial&&e.useData&&(a=f(t,a));var i=void 0,s=e.useBlockParams?[]:void 0;function l(t){return""+e.main(r,t,r.helpers,r.partials,a,s,i)}return e.useDepths&&(i=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]),(l=d(e.main,l,r,n.depths||[],a,s))(t,n)}return o.isTop=!0,o._setup=function(i){if(i.partial)r.protoAccessControl=i.protoAccessControl,r.helpers=i.helpers,r.partials=i.partials,r.decorators=i.decorators,r.hooks=i.hooks;else{var o=a.extend({},t.helpers,i.helpers);!function(e,t){Object.keys(e).forEach((function(n){var r=e[n];e[n]=function(e,t){var n=t.lookupProperty;return l.wrapHelper(e,(function(e){return a.extend({lookupProperty:n},e)}))}(r,t)}))}(o,r),r.helpers=o,e.usePartial&&(r.partials=r.mergeIfNeeded(i.partials,t.partials)),(e.usePartial||e.useDecorators)&&(r.decorators=a.extend({},t.decorators,i.decorators)),r.hooks={},r.protoAccessControl=u.createProtoAccessControl(i);var c=i.allowCallsToHelperMissing||n;s.moveHelperToHooks(r,"helperMissing",c),s.moveHelperToHooks(r,"blockHelperMissing",c)}},o._child=function(t,n,a,o){if(e.useBlockParams&&!a)throw new i.default("must pass block params");if(e.useDepths&&!o)throw new i.default("must pass parent depths");return c(r,t,e[t],n,0,a,o)},o},t.wrapProgram=c,t.resolvePartial=function(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e},t.invokePartial=function(e,t,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var s=void 0;if(n.fn&&n.fn!==h&&function(){n.data=o.createFrame(n.data);var e=n.fn;s=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=o.createFrame(n.data),n.data["partial-block"]=r,e(t,n)},e.partials&&(n.partials=a.extend({},n.partials,e.partials))}(),void 0===e&&s&&(e=s),void 0===e)throw new i.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},t.noop=h;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(392)),i=(r=n(728))&&r.__esModule?r:{default:r},o=n(67),s=n(638),l=n(5),u=n(293);function c(e,t,n,r,a,i,o){function s(t){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=o;return!o||t==o[0]||t===e.nullContext&&null===o[0]||(s=[t].concat(o)),n(e,t,e.helpers,e.partials,a.data||r,i&&[a.blockParams].concat(i),s)}return(s=d(n,s,e,o,r,i)).program=t,s.depth=o?o.length:0,s.blockParams=a||0,s}function h(){return""}function f(e,t){return t&&"root"in t||((t=t?o.createFrame(t):{}).root=e),t}function d(e,t,n,r,i,o){if(e.decorator){var s={};t=e.decorator(t,s,n,r&&r[0],i,o,r),a.extend(t,s)}return t}},558:(e,t)=>{"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default},392:(e,t)=>{"use strict";t.__esModule=!0,t.extend=o,t.indexOf=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return a.test(e)?e.replace(r,i):e},t.isEmpty=function(e){return!e&&0!==e||!(!u(e)||0!==e.length)},t.createFrame=function(e){var t=o({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,a=/[&<>"'`=]/;function i(e){return n[e]}function o(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var s=Object.prototype.toString;t.toString=s;var l=function(e){return"function"==typeof e};l(/x/)&&(t.isFunction=l=function(e){return"function"==typeof e&&"[object Function]"===s.call(e)}),t.isFunction=l;var u=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===s.call(e)};t.isArray=u},202:(e,t,n)=>{e.exports=n(834).default},893:function(e){!function(t){"use strict";var n=".nanobar{width:100%;height:4px;z-index:9999;top:0}.bar{width:0;height:100%;transition:height .3s;background:#000}";function r(e,t){e.classList?e.classList.add(t):e.className+=" "+t}e.exports=function(e){e=e||{};var t,a=document.createElement("div"),i={el:a,go:function(e){t(e),100===e&&s()}};function o(e){a.removeChild(e)}function s(){var e=function(e){var t=document.createElement("div"),n=0,a=0,i=0,o={el:t,go:u};function s(){var r=n-a;r<.1&&r>-.1?(l(a),i=0,100===n&&(t.style.height=0,setTimeout((function(){e(t)}),300))):(l(n-r/4),setTimeout(u,16))}function l(e){n=e,t.style.width=n+"%"}function u(e){e>=0?(a=e,i||(i=1,s())):i&&s()}return r(t,"bar"),o}(o);a.appendChild(e.el),t=e.go}return function(){var e=document.getElementById("nanobarcss");if(null===e){if((e=document.createElement("style")).type="text/css",e.id="nanobarcss",document.head.insertBefore(e,document.head.firstChild),!e.styleSheet)return e.appendChild(document.createTextNode(n));e.styleSheet.cssText=n}}(),r(a,"nanobar"),e.id&&(a.id=e.id),e.classname&&r(a,e.classname),e.target?(a.style.position="relative",e.target.insertBefore(a,e.target.firstChild)):(a.style.position="fixed",document.getElementsByTagName("body")[0].appendChild(a)),s(),i}}()}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=t3d;class t{constructor(t,n){this.object=t,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new e.Vector3,this.up=new e.Vector3(0,1,0),this.minDistance=0,this.maxDistance=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!0,this.dampingFactor=.1,this.enableDollying=!0,this.dollyingSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:0,DOLLY:1,PAN:2},this.touches={ORBIT:1,DOLLY_PAN:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this._domElementKeyEvents=null,this.getPolarAngle=function(){return s.phi},this.getAzimuthalAngle=function(){return s.theta},this.listenToKeyEvents=function(e){e.addEventListener("keydown",k),r._domElementKeyEvents=e},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position)},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),i=a.NONE},this.update=function(){const t=new e.Vector3,n=new e.Vector3(0,1,0),h=new e.Quaternion,f=h.clone(),d=new e.Vector3,p=new e.Quaternion,m=2*Math.PI;return function(){h.setFromUnitVectors(r.up,n),f.copy(h).conjugate();const e=r.object.position;t.copy(e).sub(r.target),t.applyQuaternion(h),s.setFromVector3(t),r.autoRotate&&i===a.NONE&&w(2*Math.PI/60/60*r.autoRotateSpeed),r.enableDamping?(s.theta+=l.theta*r.dampingFactor,s.phi+=l.phi*r.dampingFactor):(s.theta+=l.theta,s.phi+=l.phi);let g=r.minAzimuthAngle,b=r.maxAzimuthAngle;return isFinite(g)&&isFinite(b)&&(g<-Math.PI?g+=m:g>Math.PI&&(g-=m),b<-Math.PI?b+=m:b>Math.PI&&(b-=m),s.theta=g<=b?Math.max(g,Math.min(b,s.theta)):s.theta>(g+b)/2?Math.max(g,s.theta):Math.min(b,s.theta)),s.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,s.phi)),s.makeSafe(),s.radius*=u,s.radius=Math.max(r.minDistance,Math.min(r.maxDistance,s.radius)),!0===r.enableDamping?r.target.addScaledVector(c,r.dampingFactor):r.target.add(c),t.setFromSpherical(s),t.applyQuaternion(f),e.copy(r.target).add(t),r.object.lookAt(r.target,r.up),!0===r.enableDamping?(l.theta*=1-r.dampingFactor,l.phi*=1-r.dampingFactor,c.multiplyScalar(1-r.dampingFactor)):(l.set(0,0,0),c.set(0,0,0)),u=1,(d.distanceToSquared(r.object.position)>o||8*(1-p.dot(r.object.quaternion))>o)&&(d.copy(r.object.position),p.copy(r.object.quaternion),!0)}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",$),r.domElement.removeEventListener("pointerdown",I),r.domElement.removeEventListener("pointercancel",L),r.domElement.removeEventListener("wheel",R),r.domElement.removeEventListener("pointermove",M),r.domElement.removeEventListener("pointerup",F),null!==r._domElementKeyEvents&&r._domElementKeyEvents.removeEventListener("keydown",k)};const r=this,a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4};let i=a.NONE;const o=1e-6,s=new e.Spherical,l=new e.Spherical;let u=1;const c=new e.Vector3,h=new e.Vector2,f=new e.Vector2,d=new e.Vector2,p=new e.Vector2,m=new e.Vector2,g=new e.Vector2,b=new e.Vector2,_=new e.Vector2,v=new e.Vector2,y=[],x={};function A(){return Math.pow(.95,r.dollyingSpeed)}function w(e){l.theta-=e}function T(e){l.phi-=e}const E=function(){const t=new e.Vector3;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),c.add(t)}}(),P=function(){const t=new e.Vector3;return function(e,n){!0===r.screenSpacePanning?t.setFromMatrixColumn(n,1):(t.setFromMatrixColumn(n,0),t.crossVectors(r.up,t)),t.multiplyScalar(e),c.add(t)}}(),S=function(){const t=new e.Vector3,n=new e.Vector3;return function(e,a){const i=r.domElement,o=r.object.position;t.copy(o).sub(r.target);const s=t.getLength(),l=n.set(0,0,s).applyMatrix4(r.object.projectionMatrix).z;let u=n.set(0,-1,l).applyMatrix4(r.object.projectionMatrixInverse).y;E(2*e*u/i.clientHeight,r.object.matrix),P(2*a*u/i.clientHeight,r.object.matrix)}}();function C(e){u/=e}function N(e){u*=e}function I(e){!1!==r.enabled&&(0===y.length&&(r.domElement.setPointerCapture(e.pointerId),r.domElement.addEventListener("pointermove",M),r.domElement.addEventListener("pointerup",F)),function(e){y.push(e)}(e),"touch"===e.pointerType?function(e){switch(O(e),y.length){case r.touches.ORBIT:if(!1===r.enableRotate)return;!function(){if(1===y.length)h.set(y[0].pageX,y[0].pageY);else{const e=.5*(y[0].pageX+y[1].pageX),t=.5*(y[0].pageY+y[1].pageY);h.set(e,t)}}(),i=a.TOUCH_ROTATE;break;case r.touches.DOLLY_PAN:if(!1===r.enableDollying&&!1===r.enablePan)return;r.enableDollying&&function(){const e=y[0].pageX-y[1].pageX,t=y[0].pageY-y[1].pageY,n=Math.sqrt(e*e+t*t);b.set(0,n)}(),r.enablePan&&function(){if(1===y.length)p.set(y[0].pageX,y[0].pageY);else{const e=.5*(y[0].pageX+y[1].pageX),t=.5*(y[0].pageY+y[1].pageY);p.set(e,t)}}(),i=a.TOUCH_DOLLY_PAN;break;default:i=a.NONE}}(e):function(e){switch(e.button){case r.mouseButtons.ORBIT:if(!1===r.enableRotate)return;!function(e){h.set(e.clientX,e.clientY)}(e),i=a.ROTATE;break;case r.mouseButtons.DOLLY:if(!1===r.enableDollying)return;!function(e){b.set(e.clientX,e.clientY)}(e),i=a.DOLLY;break;case r.mouseButtons.PAN:if(!1===r.enablePan)return;!function(e){p.set(e.clientX,e.clientY)}(e),i=a.PAN}}(e))}function M(e){!1!==r.enabled&&("touch"===e.pointerType?function(e){switch(O(e),i){case a.TOUCH_ROTATE:if(!1===r.enableRotate)return;!function(e){if(1==y.length)f.set(e.pageX,e.pageY);else{const t=U(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);f.set(n,r)}d.subVectors(f,h).multiplyScalar(r.rotateSpeed);const t=r.domElement;w(2*Math.PI*d.x/t.clientHeight),T(2*Math.PI*d.y/t.clientHeight),h.copy(f)}(e);break;case a.TOUCH_DOLLY_PAN:if(!1===r.enableDollying&&!1===r.enablePan)return;!function(e){r.enableDollying&&function(e){const t=U(e),n=e.pageX-t.x,a=e.pageY-t.y,i=Math.sqrt(n*n+a*a);_.set(0,i),v.set(0,Math.pow(_.y/b.y,r.dollyingSpeed)),C(v.y),b.copy(_)}(e),r.enablePan&&function(e){if(1===y.length)m.set(e.pageX,e.pageY);else{const t=U(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);m.set(n,r)}g.subVectors(m,p).multiplyScalar(r.panSpeed),S(g.x,g.y),p.copy(m)}(e)}(e);break;default:i=a.NONE}}(e):function(e){switch(i){case a.ROTATE:if(!1===r.enableRotate)return;!function(e){f.set(e.clientX,e.clientY),d.subVectors(f,h).multiplyScalar(r.rotateSpeed);const t=r.domElement;w(2*Math.PI*d.x/t.clientHeight),T(2*Math.PI*d.y/t.clientHeight),h.copy(f)}(e);break;case a.DOLLY:if(!1===r.enableDollying)return;!function(e){_.set(e.clientX,e.clientY),v.subVectors(_,b),v.y>0?C(A()):v.y<0&&N(A()),b.copy(_)}(e);break;case a.PAN:if(!1===r.enablePan)return;!function(e){m.set(e.clientX,e.clientY),g.subVectors(m,p).multiplyScalar(r.panSpeed),S(g.x,g.y),p.copy(m)}(e)}}(e))}function F(e){D(e),0===y.length&&(r.domElement.releasePointerCapture(e.pointerId),r.domElement.removeEventListener("pointermove",M),r.domElement.removeEventListener("pointerup",F)),i=a.NONE}function L(e){D(e)}function R(e){!1!==r.enabled&&!1!==r.enableDollying&&i===a.NONE&&(e.preventDefault(),function(e){e.deltaY<0?N(A()):e.deltaY>0&&C(A())}(e))}function k(e){!1!==r.enabled&&!1!==r.enablePan&&function(e){let t=!1;switch(e.keyCode){case r.keys.UP:S(0,r.keyPanSpeed),t=!0;break;case r.keys.BOTTOM:S(0,-r.keyPanSpeed),t=!0;break;case r.keys.LEFT:S(r.keyPanSpeed,0),t=!0;break;case r.keys.RIGHT:S(-r.keyPanSpeed,0),t=!0}t&&e.preventDefault()}(e)}function $(e){!1!==r.enabled&&e.preventDefault()}function D(e){delete x[e.pointerId];for(let t=0;t<y.length;t++)if(y[t].pointerId==e.pointerId)return void y.splice(t,1)}function O(t){let n=x[t.pointerId];void 0===n&&(n=new e.Vector2,x[t.pointerId]=n),n.set(t.pageX,t.pageY)}function U(e){const t=e.pointerId===y[0].pointerId?y[1]:y[0];return x[t.pointerId]}r.domElement.addEventListener("contextmenu",$),r.domElement.addEventListener("pointerdown",I),r.domElement.addEventListener("pointercancel",L),r.domElement.addEventListener("wheel",R,{passive:!1}),this.update()}}class r extends e.Loader{constructor(e){super(e),"undefined"==typeof createImageBitmap&&console.warn("ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,i={};i.credentials="anonymous"===this.crossOrigin?"same-origin":"include",i.headers=this.requestHeader,fetch(e,i).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(a.options,{colorSpaceConversion:"none"}))})).then((function(n){t&&t(n),a.manager.itemEnd(e)})).catch((function(t){r&&r(t),a.manager.itemError(e),a.manager.itemEnd(e)})),a.manager.itemStart(e)}}const a=new RegExp("[\\[\\]\\.:\\/]","g");class i{constructor(){}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(a,"")}static extractUrlBase(e){const t=e.split("/");return t.pop(),(t.length<1?".":t.join("/"))+"/"}static resolveURL(e,t){return"string"!=typeof e||""===e?"":/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e}static decodeText(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}}static parseGLB(e){const t=new DataView(e),n={magic:t.getUint32(0,!0),version:t.getUint32(4,!0),length:t.getUint32(8,!0)};if(1179937895!==n.magic)return console.error("Invalid glb magic number. Expected 0x46546C67, found 0x"+n.magic.toString(16)),null;n.version<2&&console.error("GLTFLoader: Legacy binary file detected.");let r=t.getUint32(12,!0),a=t.getUint32(16,!0);if(1313821514!==a)return console.error("Invalid glb chunk type. Expected 0x4E4F534A, found 0x"+a.toString(16)),null;const o=new Uint8Array(e,20,r),s=JSON.parse(i.decodeText(o)),l=[];let u=20+r;for(;u<n.length;){if(r=t.getUint32(u,!0),a=t.getUint32(u+4,!0),5130562!==a)return console.error("Invalid glb chunk type. Expected 0x004E4942, found 0x"+a.toString(16)),null;const n=u+8,i=e.slice(n,n+r);l.push(i),u+=r+8}return{gltf:s,buffers:l}}static getNormalizedComponentScale(e){if(e===Int8Array)return 1/127;if(e===Uint8Array)return 1/255;if(e===Int16Array)return 1/32767;if(e===Uint16Array)return 1/65535;throw new Error("Unsupported normalized accessor component type.")}}const o={POSITION:"a_Position",NORMAL:"a_Normal",TANGENT:"a_Tangent",TEXCOORD_0:"a_Uv",TEXCOORD_1:"a_Uv2",TEXCOORD_2:"a_Uv3",TEXCOORD_3:"a_Uv4",TEXCOORD_4:"a_Uv5",TEXCOORD_5:"a_Uv6",TEXCOORD_6:"a_Uv7",TEXCOORD_7:"a_Uv8",COLOR_0:"a_Color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex",TEXCOORD0:"a_Uv",TEXCOORD:"a_Uv",COLOR0:"a_Color",COLOR:"a_Color",WEIGHT:"skinWeight",JOINT:"skinIndex"},s={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},l={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},u={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},c={9728:e.TEXTURE_FILTER.NEAREST,9729:e.TEXTURE_FILTER.LINEAR,9984:e.TEXTURE_FILTER.NEAREST_MIPMAP_NEAREST,9985:e.TEXTURE_FILTER.LINEAR_MIPMAP_NEAREST,9986:e.TEXTURE_FILTER.NEAREST_MIPMAP_LINEAR,9987:e.TEXTURE_FILTER.LINEAR_MIPMAP_LINEAR},h={33071:e.TEXTURE_WRAP.CLAMP_TO_EDGE,33648:e.TEXTURE_WRAP.MIRRORED_REPEAT,10497:e.TEXTURE_WRAP.REPEAT};class f{static getMaterial(){return new e.BasicMaterial}}class d{static transform(e,t){let n=0,r=0,a=1,i=1,o=0;void 0!==t.offset&&(n=t.offset[0],r=t.offset[1]),void 0!==t.rotation&&(o=t.rotation),void 0!==t.scale&&(a=t.scale[0],i=t.scale[1]),e.setUvTransform(n,r,a,i,o,0,0),void 0!==t.texCoord&&console.warn("Custom UV sets in KHR_texture_transform extension not yet supported.")}}class p{static getMaterial(){return new e.PBR2Material}static parseParams(t,n,r){const{diffuseFactor:a,diffuseTexture:i,specularFactor:o,glossinessFactor:s,specularGlossinessTexture:l}=n;Array.isArray(a)&&(t.diffuse.fromArray(a),t.opacity=a[3]||1),i&&(t.diffuseMap=r[i.index],t.diffuseMapCoord=i.texCoord||0,t.diffuseMap&&(t.diffuseMap.encoding=e.TEXEL_ENCODING_TYPE.SRGB),m(t,"diffuseMap",i.extensions)),t.glossiness=void 0!==s?s:1,Array.isArray(o)&&t.specular.fromArray(o),l&&(t.glossinessMap=r[l.index],t.specularMap=r[l.index],m(t,"glossinessMap",l.extensions),m(t,"specularMap",l.extensions))}}function m(e,t,n={}){const r=n.KHR_texture_transform;r&&(e[t]=d.transform(e[t],r))}function g(e,t,n={}){const r=n.KHR_texture_transform;r&&d.transform(e[t+"Transform"],r)}class b{static getGeometry(e,t,n){const{bufferView:r,attributes:a}=e;if(!n)throw new Error("GLTFLoader: No DRACOLoader instance provided.");const i={};for(let e in a)i[void 0===o[e]?e:o[e]]=a[e];const s=t[r];return new Promise((function(e){n.decodeDracoFile(s,e,i)}))}}function _(e,t,n,r){const{attributes:a,indices:s,targets:l}=t;for(const t in a){const n=a[t],i=void 0===o[t]?t:o[t];i in e.attributes||e.addAttribute(i,r[n])}void 0===s||e.index||e.setIndex(r[s]);const{boundingBox:c,boundingSphere:h}=e;if(void 0!==a.POSITION){const t=a.POSITION,r=n.accessors[t];if(r.min&&r.max){if(c.min.fromArray(r.min),c.max.fromArray(r.max),r.normalized){const e=i.getNormalizedComponentScale(u[r.componentType]);c.min.multiplyScalar(e),c.max.multiplyScalar(e)}}else e.computeBoundingBox()}else e.computeBoundingBox();if(c.getCenter(h.center),h.radius=c.min.distanceTo(c.max)/2,l){let t=!1,n=!1;for(let e=0,r=l.length;e<r;e++){const r=l[e];if(void 0!==r.POSITION&&(t=!0),void 0!==r.NORMAL&&(n=!0),t&&n)break}if(t||n){const a=[],i=[];for(let s=0,u=l.length;s<u;s++){const u=l[s];t&&a.push(void 0!==u.POSITION?r[u.POSITION]:e.attributes[o.POSITION]),n&&i.push(void 0!==u.NORMAL?r[u.NORMAL]:e.attributes[o.NORMAL])}t&&(e.morphAttributes.position=a),n&&(e.morphAttributes.normal=i)}}return e}function v(t,n){let{geometry:r,material:a,skinned:i,mode:s}=t;const l=void 0!==r.attributes[o.TANGENT],u=void 0!==r.attributes[o.COLOR_0],c=void 0===r.attributes[o.NORMAL],h=i;if(0===s){const t="PointsMaterial:"+a.id;let r=n.get(t);r||(r=new e.PointsMaterial,e.Material.prototype.copy.call(r,a),r.diffuse.copy(a.diffuse),r.diffuseMap=a.map,r.acceptLight=!1,n.set(t,r)),a=r}else if(1===s||3===s||2===s){const t="LineMaterial:"+a.id;let r=n.get(t);r||(r=new e.LineMaterial,r.lineWidth=a.lineWidth,r.diffuse.copy(a.diffuse),r.diffuseMap=a.diffuseMap,r.lights=!1,r.drawMode=s,n.set(t,r))}else 5===s?(console.warn("TRIANGLE_STRIP will be removed later."),a.drawMode=5):6===s&&(console.warn("TRIANGLE_FAN will be removed later."),a.drawMode=6);if(l||u||c||h){let t="ClonedMaterial:"+a.id+":";l&&(t+="vertex-tangents:"),u&&(3===r.attributes[o.COLOR_0].size?t+="vertex-colors-rgb:":4===r.attributes[o.COLOR_0].size&&(t+="vertex-colors-rgba:")),c&&(t+="flat-shading:");let i=n.get(t);i||(i=a.clone(),l&&(i.vertexTangents=!0,i.normalMap&&(i.normalScale.y*=-1)),u&&(3===r.attributes[o.COLOR_0].size?i.vertexColors=e.VERTEX_COLOR.RGB:4===r.attributes[o.COLOR_0].size?i.vertexColors=e.VERTEX_COLOR.RGBA:console.warn("Illegal vertex color size: "+r.attributes[o.COLOR_0].size)),c&&(i.shading=e.SHADING_TYPE.FLAT_SHADING)),a=i}t.material=a}function y(e){const t=e.extensions&&e.extensions.KHR_draco_mesh_compression;let n;if(n=t?"draco:"+t.bufferView+":"+t.indices+":"+x(t.attributes):e.indices+":"+x(e.attributes)+":"+e.mode,e.targets)for(let t=0,r=e.targets.length;t<r;t++)n+=":"+x(e.targets[t]);return n}function x(e){let t="";const n=Object.keys(e).sort();for(let r=0,a=n.length;r<a;r++)t+=n[r]+":"+e[n[r]]+";";return t}class A{static getLight(t){const{color:n,intensity:r=1,type:a,range:i,spot:o}=t;let s;if("directional"===a)s=new e.DirectionalLight;else if("point"===a)s=new e.PointLight,void 0!==i&&(s.distance=i);else{if("spot"!==a)throw new Error("Unexpected light type: "+a);if(s=new e.SpotLight,void 0!==i&&(s.distance=i),o){const{innerConeAngle:e=0,outerConeAngle:t=Math.PI/4}=o;s.angle=t,s.penumbra=1-e/t}}return n&&s.color.fromArray(n),s.intensity=r,s}}const w=new e.Vector4;function T(e,t,n,r){const a=r[e],i=n[e];if(t.add(a),i.children){const e=i.children;for(let t=0,i=e.length;t<i;t++)T(e[t],a,n,r)}}let E=0;class P{constructor(){this.id=++E,this.url="",this.path="",this.options=null,this.gltf=null,this.loadItems=null,this.buffers=null,this.bufferViews=null,this.images=null,this.textures=null,this.materials=null,this.accessors=null,this.primitives=null,this.nodes=null,this.cameras=null,this.lights=null,this.skins=null,this.root=null,this.roots=null,this.animations=null}}const S=[class{static parse(e,t){const{url:n}=e;return t.loadFile(n,"arraybuffer").then((t=>{if("glTF"===i.decodeText(new Uint8Array(t,0,4))){const n=i.parseGLB(t);e.gltf=n.gltf,e.buffers=n.buffers}else{const n=i.decodeText(new Uint8Array(t));e.gltf=JSON.parse(n)}}))}},class{static parse(e,t){const{gltf:n,path:r}=e,{nodes:a=[],skins:o=[],meshes:s=[],buffers:l,images:u}=n;if(o.forEach((e=>{const{joints:t=[]}=e;t.forEach((e=>{a[e].isBone=!0}))})),a.forEach((e=>{void 0!==e.mesh&&void 0!==e.skin&&(s[e.mesh].isSkinned=!0)})),t.detailLoadProgress){const n=new Set;l&&l.forEach((e=>{if(!e.uri)return;const t=i.resolveURL(e.uri,r);n.add(t)})),u&&u.forEach(((e,t)=>{const{uri:a,bufferView:o}=e;let s=a;void 0!==o&&(s="blob<"+t+">"),s=i.resolveURL(s,r),n.add(s)})),n.forEach((e=>t.manager.itemStart(e))),e.loadItems=n}}},class{static parse(e){const{gltf:{asset:{version:t}}}=e,n=Number(t);if(!(n>=2&&n<3))throw"Only support gltf 2.x."}},class{static parse(e,t){const{gltf:n,loadItems:r}=e;return null!==e.buffers?null:Promise.all(n.buffers.map((n=>{const a=i.resolveURL(n.uri,e.path);t.detailLoadProgress&&r.delete(a);const o=t.loadFile(a,"arraybuffer").then((e=>(t.detailLoadProgress&&t.manager.itemEnd(a),e)));return t.detailLoadProgress&&o.catch((()=>t.manager.itemEnd(a))),o}))).then((t=>{e.buffers=t}))}},class{static parse(e){const{buffers:t,gltf:n}=e;if(!n.bufferViews)return;const r=n.bufferViews.map((e=>{const{buffer:n,byteOffset:r=0,byteLength:a=0}=e;return t[n].slice(r,r+a)}));e.bufferViews=r}},class{static parse(e,t){const{gltf:n,bufferViews:r,path:a,loadItems:o}=e;if(n.images)return Promise.all(n.images.map((({uri:e,bufferView:n,mimeType:s,name:l},u)=>{let c=!1,h=e||"";if(void 0!==n){const e=r[n],t=new Blob([e],{type:s});h=URL.createObjectURL(t),c=!0}const f=i.resolveURL(h,a);t.detailLoadProgress&&o.delete(f);const d=t.loadImage(f).then((e=>(e.__name=l,!0===c&&URL.revokeObjectURL(h),t.detailLoadProgress&&(c?t.manager.itemEnd(i.resolveURL("blob<"+u+">",a)):t.manager.itemEnd(f)),e)));return t.detailLoadProgress&&d.catch((()=>t.manager.itemEnd(f))),d}))).then((t=>{e.images=t}))}},class{static parse(t){const{gltf:n,images:r}=t;if(n.textures)return Promise.all(n.textures.map((({sampler:t,source:a=0,name:i},o)=>{const s=r[a],l=new e.Texture2D;return l.image=s,l.version++,l.name=i||s.__name||`texture_${o}`,l.flipY=!1,function(t,n={}){const{magFilter:r,minFilter:a,wrapS:i,wrapT:o}=n;t.magFilter=c[r]||e.TEXTURE_FILTER.LINEAR,t.minFilter=c[a]||e.TEXTURE_FILTER.LINEAR_MIPMAP_LINEAR,t.wrapS=h[i]||e.TEXTURE_WRAP.REPEAT,t.wrapT=h[o]||e.TEXTURE_WRAP.REPEAT}(l,(n.samplers||{})[t]),l}))).then((e=>{t.textures=e}))}},class{static parse(t){const{gltf:n,textures:r}=t;if(!n.materials)return;const a=[];for(let t=0;t<n.materials.length;t++){const{extensions:i={},pbrMetallicRoughness:o,normalTexture:s,occlusionTexture:l,emissiveTexture:u,emissiveFactor:c,alphaMode:h,alphaCutoff:d,doubleSided:m,name:b=""}=n.materials[t],{KHR_materials_unlit:_,KHR_materials_pbrSpecularGlossiness:v}=i;let y=null;if(_?y=f.getMaterial():v?(y=p.getMaterial(),p.parseParams(y,v,r)):y=new e.PBRMaterial,y.name=b,o){const{baseColorFactor:t,baseColorTexture:n,metallicFactor:a,roughnessFactor:i,metallicRoughnessTexture:s}=o;Array.isArray(t)&&(y.diffuse.fromArray(t),y.opacity=void 0!==t[3]?t[3]:1),n&&(y.diffuseMap=r[n.index],y.diffuseMapCoord=n.texCoord||0,y.diffuseMap&&(y.diffuseMap.encoding=e.TEXEL_ENCODING_TYPE.SRGB,g(y,"diffuseMap",n.extensions))),_||v||(y.metalness=void 0!==a?a:1,y.roughness=void 0!==i?i:1,s&&(y.metalnessMap=r[s.index],y.roughnessMap=r[s.index]))}c&&y.emissive.fromArray(c),u&&(y.emissiveMap=r[u.index],y.emissiveMapCoord=u.texCoord||0,y.emissiveMap&&(y.emissiveMap.encoding=e.TEXEL_ENCODING_TYPE.SRGB,g(y,"emissiveMap",u.extensions))),l&&(y.aoMap=r[l.index],y.aoMapCoord=l.texCoord||0,void 0!==l.strength&&(y.aoMapIntensity=l.strength),y.aoMap&&g(y,"aoMap",l.extensions)),_||s&&(y.normalMap=r[s.index],y.normalScale.set(1,-1),void 0!==s.scale&&y.normalScale.set(s.scale,-s.scale),y.normalMap),y.side=!0===m?e.DRAW_SIDE.DOUBLE:e.DRAW_SIDE.FRONT,"BLEND"===h?y.transparent=!0:(y.transparent=!1,"MASK"===h&&(y.alphaTest=void 0!==d?d:.5)),a[t]=y}t.materials=a}},class{static parse(t){const{bufferViews:n,gltf:r}=t;if(!r.accessors)return;const a=new Map,i=r.accessors.map((t=>{const{bufferView:i,type:o,componentType:s,count:c,byteOffset:h=0,normalized:f=!1,sparse:d}=t;if(void 0===i&&void 0===d)return null;const p=void 0!==i?n[i]:null,m=void 0!==i?r.bufferViews[i].byteStride:void 0,g=l[o],b=u[s],_=b.BYTES_PER_ELEMENT;let v,y;if(m&&m!==_*g){const t="Buffer:"+i+":"+s;let n=a.get(t);n||(v=new b(p),n=new e.Buffer(v,m/_),a.set(t,n)),y=new e.Attribute(n,g,h/_,f)}else v=null===p?new b(c*g):new b(p,h,c*g),y=new e.Attribute(new e.Buffer(v,g),g,0,f);if(d){const t=l.SCALAR,r=u[d.indices.componentType],a=d.indices.byteOffset||0,i=d.values.byteOffset||0,o=new r(n[d.indices.bufferView],a,d.count*t),s=new b(n[d.values.bufferView],i,d.count*g);null!==p&&(y=new e.Attribute(y.buffer.clone(),y.size,y.offset,y.normalized));const c=y.buffer;for(let e=0,t=o.length;e<t;e++){let t=o[e];if(c.array[t*y.size]=s[e*g],g>=2&&(c.array[t*y.size+1]=s[e*g+1]),g>=3&&(c.array[t*y.size+2]=s[e*g+2]),g>=4&&(c.array[t*y.size+3]=s[e*g+3]),g>=5)throw new Error("Unsupported itemSize in sparse Attribute.")}}return y}));a.clear(),t.accessors=i}},class{static parse(t,n){const{gltf:r,accessors:a,materials:i,bufferViews:o}=t;if(!r.meshes)return;const s=new Map,l=new Map,u=[];for(let t=0;t<r.meshes.length;t++){const c=r.meshes[t],h=[];for(let t=0;t<c.primitives.length;t++){const u=c.primitives[t],{extensions:f={},mode:d,material:p}=u,{KHR_draco_mesh_compression:m}=f;let g;const x=y(u);l.has(x)?g=l.get(x):(g=m?b.getGeometry(m,o,n.getDRACOLoader()):Promise.resolve(new e.Geometry),g=g.then((e=>(_(e,u,r,a),e))),l.set(x,g));const A=g.then((t=>{const n={mode:d,geometry:t,material:void 0===p?new e.PBRMaterial:i[p],weights:Object.keys(t.morphAttributes).length>0&&c.weights?c.weights.slice(0):void 0,skinned:c.isSkinned};return v(n,s),n}));h.push(A)}u.push(Promise.all(h))}return s.clear(),l.clear(),Promise.all(u).then((e=>{t.primitives=e}))}},class{static parse(t){const{gltf:{nodes:n,cameras:r,extensions:a}}=t;if(!n)return;const o=new Set,s=[],l=[],u=n.map((n=>{const{matrix:u,translation:c,rotation:h,scale:f,camera:d,mesh:p,extensions:m={}}=n,{KHR_lights_punctual:g}=m;let b=null;if(n.isBone)b=new e.Bone;else if(void 0!==p)b=function(t,n){const{primitives:r}=t,{mesh:a,skin:i}=n,o=r[a].map((t=>{const{geometry:n,material:r,weights:a}=t;let o;return void 0!==i?(o=new e.SkinnedMesh(n,r),n.attributes.skinWeight&&!n.attributes.skinWeight.normalized&&function(e){const t=e.offset,n=e.buffer,r=n.stride;for(let e=0,a=n.count;e<a;e++){w.fromArray(n.array,e*r+t);const a=1/w.getManhattanLength();a!==1/0?w.multiplyScalar(a):w.set(1,0,0,0),w.toArray(n.array,e*r+t)}}(n.attributes.skinWeight)):(o=new e.Mesh(n,r),a&&(o.morphTargetInfluences=a.slice())),o}));if(o.length>1){const t=new e.Object3D;return o.forEach((e=>t.add(e))),t}return o[0]}(t,n);else if(void 0!==d)b=function(t){const{orthographic:n,perspective:r,type:a}=t,i=new e.Camera;if("perspective"==a){const{aspectRatio:e,yfov:t,zfar:n,znear:a}=r;i.setPerspective(t,e||1,a||1,n||2e6)}else if("orthographic"==a){const{xmag:e,ymag:t,zfar:r,znear:a}=n;i.setOrtho(-e,e,-t,t,a||1,r||2e6)}return i}(r[d]),s.push(b);else if(g){const e=g.light,t=a.KHR_lights_punctual.lights;b=A.getLight(t[e]),l.push(b)}else b=new e.Object3D;if(void 0!==n.name&&(b.name=function(e,t){const n=i.sanitizeNodeName(e||"");let r=n;for(let e=1;t.has(r);++e)r=n+"-"+e;return t.add(r),r}(n.name,o),b.children.length>0))for(let e=0;e<b.children.length;e++)b.children[e].name=b.name+"_"+e;return void 0!==u?(b.matrix.fromArray(u),b.matrix.decompose(b.position,b.quaternion,b.scale)):(void 0!==c&&b.position.fromArray(c),void 0!==h&&b.quaternion.fromArray(h),void 0!==f&&b.scale.fromArray(f)),b}));o.clear(),t.nodes=u,t.cameras=s,t.lights=l}},class{static parse(t){const{gltf:n,accessors:r,nodes:a}=t,i=n.skins;if(!i)return;const o=i.map((t=>{const{inverseBindMatrices:n,joints:i}=t,o=r[n],s=[],l=[];return i.forEach(((t,n)=>{const r=a[t];if(r){s.push(r);const t=new e.Matrix4;o&&t.fromArray(o.buffer.array,16*n),l.push(t)}else console.warn("Joint "+t+" could not be found.")})),new e.Skeleton(s,l)}));t.skins=o,a.forEach(((e,t)=>{const{skin:r}=n.nodes[t];void 0!==r&&e.traverse((function(e){e.isSkinnedMesh&&e.bind(o[r],e.worldMatrix)}))}))}},class{static parse(t){const{gltf:n,nodes:r}=t,a=n.scenes.map((t=>{const{name:a="",nodes:i=[]}=t,o=new e.Object3D;o.name=a;for(let e=0;e<i.length;e++)T(i[e],o,n.nodes,r);return o}));t.roots=a,t.root=a[n.scene]}},class{static parse(t){const{gltf:n,nodes:r,accessors:a}=t,{animations:o}=n;if(!o)return;const l=o.map(((t,n)=>{const{channels:o,samplers:l,name:u=`animation_${n}`}=t,c=[];let h=0;for(let t=0;t<o.length;t++){const n=o[t],u=l[n.sampler];if(u){const t=n.target,o=void 0!==t.node?t.node:t.id,l=a[u.input],f=a[u.output],d=r[o];if(!d)continue;let p;switch(d.updateMatrix(),d.matrixAutoUpdate=!0,s[t.path]){case s.rotation:p=e.QuaternionKeyframeTrack;break;case s.weights:p=e.NumberKeyframeTrack;break;default:p=e.VectorKeyframeTrack}if(!p)continue;const m=new l.buffer.array.constructor(l.buffer.array),g=new f.buffer.array.constructor(f.buffer.array);if(f.normalized){const e=i.getNormalizedComponentScale(g.constructor);for(let t=0,n=g.length;t<n;t++)g[t]*=e}const b=[];s[t.path]===s.weights?d.traverse((function(e){e.isMesh&&e.morphTargetInfluences&&b.push(e)})):b.push(d);for(let e=0,n=b.length;e<n;e++){const n=new p(b[e],s[t.path],m,g);c.push(n)}const _=m[m.length-1];h<_&&(h=_)}}return new e.KeyframeClip(u,c,h)}));t.animations=l}}];class C{constructor(t=e.DefaultLoadingManager,n=S){this.manager=t,this.detailLoadProgress=!0,this.autoLogError=!0,this._parsers=n.slice(0),this._dracoLoader=null,this._fileLoader=new e.FileLoader;const a=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),i=navigator.userAgent.indexOf("Firefox")>-1,o=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;"undefined"==typeof createImageBitmap||a||i&&o<98?this._imageLoader=new e.ImageLoader:this._imageLoader=new r}load(e,t={}){return this.manager.itemStart(e),new Promise(((n,r)=>{const a=new P;a.url=e,a.path=i.extractUrlBase(e),a.options=t,this._parse(a).then(n).then((()=>this.manager.itemEnd(e))).catch((t=>{this.autoLogError&&console.error(t),this.detailLoadProgress&&a.loadItems&&a.loadItems.forEach((e=>{this.manager.itemEnd(e)})),this.manager.itemError(e),this.manager.itemEnd(e),r(`Error loading glTF model from ${e} .`)}))}))}_parse(e){let t;return new Promise(((n,r)=>{this._parsers.forEach((n=>{t=t?t.then((()=>n.parse(e,this))):n.parse(e,this)})),t?t.then((()=>n(e))).catch(r):n(e)}))}setDRACOLoader(e){return this._dracoLoader=e,this}getDRACOLoader(){return this._dracoLoader}loadFile(e,t="json"){return this._fileLoader.setResponseType(t),new Promise(((t,n)=>{e=this.manager.resolveURL(e),this._fileLoader.load(e,t,void 0,n)}))}loadImage(e){return new Promise(((t,n)=>{e=this.manager.resolveURL(e),this._imageLoader.load(e,t,void 0,n)}))}insertParser(e,t){this._parsers.splice(t,0,e)}replaceParser(e,t){this._parsers.splice(t,1,e)}}var N=function(t){this.timeLoaded=0,this.manager=t,this.materials=null,this.verbosity=0,this.attributeOptions={},this.drawMode=e.DRAW_MODE.TRIANGLES,this.nativeAttributeMap={a_Position:"POSITION",a_Normal:"NORMAL",a_Color:"COLOR",a_Uv:"TEX_COORD"}};N.prototype={constructor:N,load:function(t,n,r,a){var i=this,o=new e.FileLoader(i.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.load(t,(function(e){i.decodeDracoFile(e,n)}),r,a)},setPath:function(e){return this.path=e,this},setVerbosity:function(e){return this.verbosity=e,this},setDrawMode:function(e){return this.drawMode=e,this},setSkipDequantization:function(e,t){var n=!0;return void 0!==t&&(n=t),this.getAttributeOptions(e).skipDequantization=n,this},decodeDracoFile:function(e,t,n,r){var a=this;N.getDecoderModule().then((function(i){a.decodeDracoFileInternal(e,i.decoder,t,n||{},r||{})}))},decodeDracoFileInternal:function(e,t,n,r,a){var i=new t.DecoderBuffer;i.Init(new Int8Array(e),e.byteLength);var o=new t.Decoder,s=o.GetEncodedGeometryType(i);if(s==t.TRIANGULAR_MESH)this.verbosity>0&&console.log("Loaded a mesh.");else{if(s!=t.POINT_CLOUD){var l="t3d.DRACOLoader: Unknown geometry type.";throw console.error(l),new Error(l)}this.verbosity>0&&console.log("Loaded a point cloud.")}n(this.convertDracoGeometryTot3d(t,o,s,i,r,a))},addAttributeToGeometry:function(t,n,r,a,i,o,s,l){if(0===o.ptr){var u="t3d.DRACOLoader: No attribute "+a;throw console.error(u),new Error(u)}var c,h=o.num_components(),f=r.num_points()*h;switch(i){case Float32Array:c=new t.DracoFloat32Array,n.GetAttributeFloatForAllPoints(r,o,c),l[a]=new Float32Array(f);break;case Int8Array:c=new t.DracoInt8Array,n.GetAttributeInt8ForAllPoints(r,o,c),l[a]=new Int8Array(f);break;case Int16Array:c=new t.DracoInt16Array,n.GetAttributeInt16ForAllPoints(r,o,c),l[a]=new Int16Array(f);break;case Int32Array:c=new t.DracoInt32Array,n.GetAttributeInt32ForAllPoints(r,o,c),l[a]=new Int32Array(f);break;case Uint8Array:c=new t.DracoUInt8Array,n.GetAttributeUInt8ForAllPoints(r,o,c),l[a]=new Uint8Array(f);break;case Uint16Array:c=new t.DracoUInt16Array,n.GetAttributeUInt16ForAllPoints(r,o,c),l[a]=new Uint16Array(f);break;case Uint32Array:c=new t.DracoUInt32Array,n.GetAttributeUInt32ForAllPoints(r,o,c),l[a]=new Uint32Array(f);break;default:throw u="t3d.DRACOLoader: Unexpected attribute type.",console.error(u),new Error(u)}for(var d=0;d<f;d++)l[a][d]=c.GetValue(d);s.addAttribute(a,new e.Attribute(new e.Buffer(l[a],h))),t.destroy(c)},convertDracoGeometryTot3d:function(t,n,r,a,i,o){var s,l;!0===this.getAttributeOptions("a_Position").skipDequantization&&n.SkipAttributeTransform(t.POSITION);const u=performance.now();if(r===t.TRIANGULAR_MESH?(s=new t.Mesh,l=n.DecodeBufferToMesh(a,s)):(s=new t.PointCloud,l=n.DecodeBufferToPointCloud(a,s)),!l.ok()||0==s.ptr){var c="t3d.DRACOLoader: Decoding failed: ";throw c+=l.error_msg(),console.error(c),t.destroy(n),t.destroy(s),new Error(c)}var h,f=performance.now();t.destroy(a),r==t.TRIANGULAR_MESH?(h=s.num_faces(),this.verbosity>0&&console.log("Number of faces loaded: "+h.toString())):h=0;var d=s.num_points(),p=s.num_attributes();this.verbosity>0&&(console.log("Number of points loaded: "+d.toString()),console.log("Number of attributes loaded: "+p.toString()));var m=n.GetAttributeId(s,t.POSITION);if(-1==m)throw c="t3d.DRACOLoader: No position attribute found.",console.error(c),t.destroy(n),t.destroy(s),new Error(c);var g=n.GetAttribute(s,m),b={},_=new e.Geometry;for(var v in this.nativeAttributeMap)if(void 0===i[v]){var y=n.GetAttributeId(s,t[this.nativeAttributeMap[v]]);if(-1!==y){this.verbosity>0&&console.log("Loaded "+v+" attribute.");var x=n.GetAttribute(s,y);this.addAttributeToGeometry(t,n,s,v,Float32Array,x,_,b)}}for(var v in i){var A=o[v]||Float32Array,w=i[v];x=n.GetAttributeByUniqueId(s,w),this.addAttributeToGeometry(t,n,s,v,A,x,_,b)}if(r==t.TRIANGULAR_MESH)if(this.drawMode===e.DRAW_MODE.TRIANGLE_STRIP){var T=new t.DracoInt32Array;b.indices=new Array(T.size());for(var E=0;E<T.size();++E)b.indices[E]=T.GetValue(E);t.destroy(T)}else{var P=3*h;b.indices=new Array(P);var S=new t.DracoInt32Array;for(E=0;E<h;++E){n.GetFaceFromMesh(s,E,S);var C=3*E;b.indices[C]=S.GetValue(0),b.indices[C+1]=S.GetValue(1),b.indices[C+2]=S.GetValue(2)}t.destroy(S)}_.drawMode=this.drawMode,r==t.TRIANGULAR_MESH&&_.setIndex(b.indices.length>65535?new e.Attribute(new e.Buffer(new Uint16Array(b.indices),1)):new e.Attribute(new e.Buffer(new Uint32Array(b.indices),1)));var N=new t.AttributeQuantizationTransform;if(N.InitFromAttribute(g))for(_.attributes.a_Position.isQuantized=!0,_.attributes.a_Position.maxRange=N.range(),_.attributes.a_Position.numQuantizationBits=N.quantization_bits(),_.attributes.a_Position.minValues=new Float32Array(3),E=0;E<3;++E)_.attributes.a_Position.minValues[E]=N.min_value(E);return t.destroy(N),t.destroy(n),t.destroy(s),this.decode_time=f-u,this.import_time=performance.now()-f,this.verbosity>0&&(console.log("Decode time: "+this.decode_time),console.log("Import time: "+this.import_time)),_},isVersionSupported:function(e,t){N.getDecoderModule().then((function(n){t(n.decoder.isVersionSupported(e))}))},getAttributeOptions:function(e){return void 0===this.attributeOptions[e]&&(this.attributeOptions[e]={}),this.attributeOptions[e]}},N.decoderPath="./",N.decoderConfig={},N.decoderModulePromise=null,N.setDecoderPath=function(e){N.decoderPath=e},N.setDecoderConfig=function(e){var t=N.decoderConfig.wasmBinary;N.decoderConfig=e||{},N.releaseDecoderModule(),t&&(N.decoderConfig.wasmBinary=t)},N.releaseDecoderModule=function(){N.decoderModulePromise=null},N.getDecoderModule=function(){var e=this,t=N.decoderPath,n=N.decoderConfig,r=N.decoderModulePromise;return r||("undefined"!=typeof DracoDecoderModule?r=Promise.resolve():"object"!=typeof WebAssembly||"js"===n.type?r=N._loadScript(t+"draco_decoder.js"):(n.wasmBinaryFile=t+"draco_decoder.wasm",r=N._loadScript(t+"draco_wasm_wrapper.js").then((function(){return N._loadArrayBuffer(n.wasmBinaryFile)})).then((function(e){n.wasmBinary=e}))),r=r.then((function(){return new Promise((function(t){n.onModuleLoaded=function(n){e.timeLoaded=performance.now(),t({decoder:n})},DracoDecoderModule(n)}))})),N.decoderModulePromise=r,r)},N._loadScript=function(e){var t=document.getElementById("decoder_script");null!==t&&t.parentNode.removeChild(t);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");return r.id="decoder_script",r.type="text/javascript",r.src=e,new Promise((function(e){r.onload=e,n.appendChild(r)}))},N._loadArrayBuffer=function(t){var n=new e.FileLoader;return n.setResponseType("arraybuffer"),new Promise((function(e,r){n.load(t,e,void 0,r)}))};class I extends e.Loader{constructor(e){super(e)}load(t,n,r,a){const i=new e.Texture2D,o=new e.ImageLoader(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(e){i.image=e,i.version++,n&&n(i)}),r,a),i}}class M extends e.Loader{constructor(t){super(t),this.type=e.PIXEL_TYPE.HALF_FLOAT}load(t,n,r,a){const i=this,o=new e.FileLoader(this.manager);o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(this.withCredentials),o.load(t,(function(e){void 0!==n&&n(i.parse(e))}),r,a)}parse(t){const n=new Uint8Array(t);n.pos=0;const r=k(n);if(F!==r){const t=r.width,a=r.height,i=$(n.subarray(n.pos),t,a);if(F!==i){let n,o,s;if(this.type===e.PIXEL_TYPE.FLOAT){s=i.length/4;const t=new Float32Array(4*s);for(let e=0;e<s;e++)D(i,4*e,t,4*e);n=t,o=e.PIXEL_TYPE.FLOAT}else if(this.type===e.PIXEL_TYPE.HALF_FLOAT){s=i.length/4;const t=new Uint16Array(4*s);for(let e=0;e<s;e++)O(i,4*e,t,4*e);n=t,o=e.PIXEL_TYPE.HALF_FLOAT}else this.type===e.PIXEL_TYPE.UNSIGNED_BYTE?(n=i,o=e.PIXEL_TYPE.UNSIGNED_BYTE):console.error("RGBELoader: unsupported type: ",this.type);const l=o===e.PIXEL_TYPE.FLOAT||o===e.PIXEL_TYPE.HALF_FLOAT;return{width:t,height:a,data:n,header:r.string,gamma:r.gamma,exposure:r.exposure,format:e.PIXEL_FORMAT.RGBA,internalformat:null,type:o,generateMipmaps:!l&&void 0,flipY:!!l||void 0,minFilter:l?e.TEXTURE_FILTER.LINEAR:void 0,magFilter:l?e.TEXTURE_FILTER.LINEAR:void 0}}}}}const F=-1,L=function(e,t){switch(e){case 1:console.error("RGBELoader Read Error: "+(t||""));break;case 2:console.error("RGBELoader Write Error: "+(t||""));break;case 3:console.error("RGBELoader Bad File Format: "+(t||""));break;default:console.error("RGBELoader: Error: "+(t||""))}return F},R=function(e,t,n){t=t||1024;let r=e.pos,a=-1,i=0,o="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));for(;0>(a=s.indexOf("\n"))&&i<t&&r<e.byteLength;)o+=s,i+=s.length,r+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<a&&(!1!==n&&(e.pos+=i+a+1),o+s.slice(0,a))},k=function(e){const t=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,n=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,r=/^\s*FORMAT=(\S+)\s*$/,a=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,i={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let o,s;if(e.pos>=e.byteLength||!(o=R(e)))return L(1,"no header found");if(!(s=o.match(/^#\?(\S+)$/)))return L(3,"bad initial token");for(i.valid|=1,i.programtype=s[1],i.string+=o+"\n";o=R(e),!1!==o;)if(i.string+=o+"\n","#"!==o.charAt(0)){if((s=o.match(t))&&(i.gamma=parseFloat(s[1])),(s=o.match(n))&&(i.exposure=parseFloat(s[1])),(s=o.match(r))&&(i.valid|=2,i.format=s[1]),(s=o.match(a))&&(i.valid|=4,i.height=parseInt(s[1],10),i.width=parseInt(s[2],10)),2&i.valid&&4&i.valid)break}else i.comments+=o+"\n";return 2&i.valid?4&i.valid?i:L(3,"missing image size specifier"):L(3,"missing format specifier")},$=function(e,t,n){const r=t;if(r<8||r>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(r!==(e[2]<<8|e[3]))return L(3,"wrong scanline width");const a=new Uint8Array(4*t*n);if(!a.length)return L(4,"unable to allocate buffer space");let i=0,o=0;const s=4*r,l=new Uint8Array(4),u=new Uint8Array(s);let c=n;for(;c>0&&o<e.byteLength;){if(o+4>e.byteLength)return L(1);if(l[0]=e[o++],l[1]=e[o++],l[2]=e[o++],l[3]=e[o++],2!=l[0]||2!=l[1]||(l[2]<<8|l[3])!=r)return L(3,"bad rgbe scanline format");let t,n=0;for(;n<s&&o<e.byteLength;){t=e[o++];const r=t>128;if(r&&(t-=128),0===t||n+t>s)return L(3,"bad scanline data");if(r){const r=e[o++];for(let e=0;e<t;e++)u[n++]=r}else u.set(e.subarray(o,o+t),n),n+=t,o+=t}const h=r;for(let e=0;e<h;e++){let t=0;a[i]=u[e+t],t+=r,a[i+1]=u[e+t],t+=r,a[i+2]=u[e+t],t+=r,a[i+3]=u[e+t],i+=4}c--}return a},D=function(e,t,n,r){const a=e[t+3],i=Math.pow(2,a-128)/255;n[r+0]=e[t+0]*i,n[r+1]=e[t+1]*i,n[r+2]=e[t+2]*i,n[r+3]=1},O=function(e,t,n,r){const a=e[t+3],i=Math.pow(2,a-128)/255;n[r+0]=z(Math.min(e[t+0]*i,65504)),n[r+1]=z(Math.min(e[t+1]*i,65504)),n[r+2]=z(Math.min(e[t+2]*i,65504)),n[r+3]=z(1)},U=new Float32Array(1),j=new Int32Array(U.buffer);function z(e){e>65504&&(console.warn("toHalfFloat(): value exceeds 65504."),e=65504),U[0]=e;const t=j[0];let n=t>>16&32768,r=t>>12&2047;const a=t>>23&255;return a<103?n:a>142?(n|=31744,n|=(255==a?0:1)&&8388607&t,n):a<113?(r|=2048,n|=(r>>114-a)+(r>>113-a&1),n):(n|=a-112<<10|r>>1,n+=1&r,n)}class B{constructor(t){this.camera=new e.Camera,this.targets=[new e.Vector3(1,0,0),new e.Vector3(-1,0,0),new e.Vector3(0,1,0),new e.Vector3(0,-1,0),new e.Vector3(0,0,1),new e.Vector3(0,0,-1)],this.ups=[new e.Vector3(0,-1,0),new e.Vector3(0,-1,0),new e.Vector3(0,0,1),new e.Vector3(0,0,-1),new e.Vector3(0,-1,0),new e.Vector3(0,-1,0)],this.camera.setPerspective(.5*Math.PI,1,1,1e3),this.position=new e.Vector3,this.lookTarget=new e.Vector3,this.renderTarget=t||new e.RenderTargetCube(512,512),this.renderTexture=this.renderTarget.texture,this.renderTexture.minFilter=e.TEXTURE_FILTER.LINEAR_MIPMAP_LINEAR,this.renderOption={ifRender:function(e){return!e.object.skipReflectionProbe}}}render(e,t){const n=e.renderPass;this.camera.position.copy(this.position);for(let r=0;r<6;r++){this.lookTarget.set(this.targets[r].x+this.camera.position.x,this.targets[r].y+this.camera.position.y,this.targets[r].z+this.camera.position.z),this.camera.lookAt(this.lookTarget,this.ups[r]),this.camera.updateMatrix(),this.renderTarget.activeCubeFace=r,n.setRenderTarget(this.renderTarget),n.clear(!0,!0,!0);const a=t.updateRenderStates(this.camera,!1),i=t.updateRenderQueue(this.camera,!1,!1);let o;for(let t=0,n=i.layerList.length;t<n;t++)o=i.layerList[t],e.renderRenderableList(o.opaque,a,this.renderOption),e.renderRenderableList(o.transparent,a,this.renderOption);n.updateRenderTargetMipmap(this.renderTarget)}}}class H{static prefilterEnvironmentMap(t,n,r={}){const a=r.sampleSize||1024,i=n.isTextureCube;let o;o=i?0===n.images.length?16:n.images[0].width:n.image.width/4;const s=Math.floor(Math.log2(o));o=Math.pow(2,s);const l=t.renderPass.capabilities;l.version>1?l.getExtension("EXT_color_buffer_float"):(l.getExtension("OES_texture_half_float"),l.getExtension("OES_texture_half_float_linear")),l.getExtension("OES_texture_float_linear"),l.getExtension("EXT_color_buffer_half_float");let u=e.PIXEL_TYPE.HALF_FLOAT,c=Uint16Array,h=e.PIXEL_FORMAT.RGBA;const f=r.outputTexture||new e.TextureCube;f.type=u,f.format=h,f.generateMipmaps=!1;const d=new e.RenderTargetCube(o,o);d.texture.type=u,d.texture.format=h,d.texture.magFilter=e.TEXTURE_FILTER.LINEAR,d.texture.minFilter=e.TEXTURE_FILTER.LINEAR,d.texture.generateMipmaps=!1;const p=function(t,n,r){n=n||256,r=r||1024;const a=new e.Texture2D,i=new Float32Array(r*n*4);a.image={width:n,height:r,data:i},a.type=e.PIXEL_TYPE.FLOAT,a.minFilter=e.TEXTURE_FILTER.NEAREST,a.magFilter=e.TEXTURE_FILTER.NEAREST,a.generateMipmaps=!1,a.version++;const o=[];for(let e=0;e<n;e++){const t=e/n,a=t*t;for(let e=0;e<r;e++){let t=(e<<16|e>>>16)>>>0;t=((1431655765&t)<<1|(2863311530&t)>>>1)>>>0,t=((858993459&t)<<2|(3435973836&t)>>>2)>>>0,t=((252645135&t)<<4|(4042322160&t)>>>4)>>>0,t=(((16711935&t)<<8|(4278255360&t)>>>8)>>>0)/4294967296;const n=Math.sqrt((1-t)/(1+(a*a-1)*t));o[e]=n}for(let t=0;t<r;t++){const a=4*(t*n+e),s=o[t],l=Math.sqrt(1-s*s),u=t/r,c=2*Math.PI*u;i[a]=l*Math.cos(c),i[a+1]=s,i[a+2]=l*Math.sin(c),i[a+3]=1}}return a}(t.renderPass.capabilities,256,a),m=new B(d),g=new e.Scene,b=new e.BoxGeometry(1,1,1),_=new e.ShaderMaterial(X);_.side=e.DRAW_SIDE.BACK,_.cubeMap=n;const v=new e.Mesh(b,_);v.frustumCulled=!1,_.uniforms.environmentMap=n,i?(_.uniforms.envMapFlip=n.images[0]&&n.images[0].rtt?-1:1,_.defines.PANORAMA=!1):(_.uniforms.envMapFlip=1,_.defines.PANORAMA=!0),_.uniforms.normalDistribution=p,m.camera.add(v),g.add(m.camera);for(let e=0;e<s+1;e++){_.uniforms.roughness=Math.max(e-1,0)/s,m.render(t,g),f.mipmaps[e]=[];for(let n=0;n<6;n++){const r=new c(d.width*d.height*4);d.activeCubeFace=n,t.renderPass.setRenderTarget(d),t.renderPass.readRenderTargetPixels(0,0,d.width,d.height,r),0===e&&(f.images[n]={width:d.width,height:d.height,data:r}),f.mipmaps[e].push({width:d.width,height:d.height,data:r})}d.resize(d.width/2,d.height/2)}return d.dispose(),b.dispose(),_.dispose(),p.dispose(),f.version++,f}}const X={name:"rmrem",defines:{PANORAMA:!1,SAMPLE_NUMBER:1024},uniforms:{environmentMap:null,normalDistribution:null,roughness:.5,envMapFlip:1},vertexShader:"\n\t\t#include <common_vert>\n\t\tvarying vec3 vDir;\n\t\tvoid main() {\n\t\t\tvDir = (u_Model * vec4(a_Position, 0.0)).xyz;\n\t\t\tgl_Position = u_ProjectionView * u_Model * vec4(a_Position, 1.0);\n\t\t\tgl_Position.z = gl_Position.w; // set z to camera.far\n\t\t}\n\t",fragmentShader:"\n\t\t#include <common_frag>\n\t\t#ifdef PANORAMA\n\t\t\tuniform sampler2D environmentMap;\n\t\t#else\n\t\t\tuniform samplerCube environmentMap;\n\t\t#endif\n\t\tuniform sampler2D normalDistribution;\n\t\tuniform float roughness;\n\t\tuniform float envMapFlip;\n\t\tvarying vec3 vDir;\n\n\t\tvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n\t\t\tvec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n\t\t\n\t\t\tvec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n\t\t\tvec3 tangentX = normalize(cross(N, upVector));\n\t\t\tvec3 tangentZ = cross(N, tangentX);\n\t\t\t// Tangent to world space\n\t\t\treturn normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n\t\t}\n\n\t\tvoid main() {\n\t\t\tvec3 V = normalize(vDir);\n\n\t\t\tvec3 N = V;\n\n\t\t\tvec3 prefilteredColor = vec3(0.0);\n\t\t\tfloat totalWeight = 0.0;\n\t\t\tfloat fMaxSampleNumber = float(SAMPLE_NUMBER);\n\n\t\t\tfor (int i = 0; i < SAMPLE_NUMBER; i++) {\n\t\t\t\tvec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);\n\t\t\t\tvec3 L = reflect(-V, H);\n\t\t\n\t\t\t\tfloat NoL = clamp(dot(N, L), 0.0, 1.0);\n\t\t\t\tif (NoL > 0.0) {\n\t\t\t\t\t#ifdef PANORAMA\n\t\t\t\t\t\tfloat phi = acos(L.y);\n\t\t\t\t\t\tfloat theta = envMapFlip * atan(L.x, L.z) + PI * 0.5;\n\t\t\t\t\t\tvec2 uv = vec2(theta / 2.0 / PI, -phi / PI);\n\t\t\t\t\t\tprefilteredColor += mapTexelToLinear(texture2D(environmentMap, fract(uv))).rgb * NoL;\n\t\t\t\t\t#else\n\t\t\t\t\t\tprefilteredColor += mapTexelToLinear(textureCube(environmentMap, vec3(envMapFlip * L.x, L.yz))).rgb * NoL;\n\t\t\t\t\t#endif\n\t\t\t\t\ttotalWeight += NoL;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgl_FragColor = vec4(prefilteredColor / totalWeight, 1.0);\n\t\t\t#include <encodings_frag>\n\t\t}\n\t"};class V{constructor(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}class G extends e.Mesh{constructor(t){const n=new e.BoxGeometry(1,1,1),r=new e.ShaderMaterial(G.SkyBoxShader);r.side=e.DRAW_SIDE.BACK,super(n,r),this.material=r,t&&(this.texture=t),this.frustumCulled=!1}set level(e){this.material.uniforms.level=e}get level(){return this.material.uniforms.level}set gamma(e){this.material.defines.GAMMA=e,this.material.needsUpdate=!0}get gamma(){return this.material.defines.GAMMA}set texture(e){e.isTextureCube?(this.material.cubeMap=e,this.material.uniforms.flip=e.images[0]&&e.images[0].rtt?1:-1,this.material.defines.PANORAMA=!1):(this.material.diffuseMap=e,this.material.uniforms.flip=-1,this.material.defines.PANORAMA=""),this.material.needsUpdate=!0}get texture(){return this.material.diffuseMap||this.material.cubeMap}}G.SkyBoxShader={name:"skybox",defines:{GAMMA:!1,PANORAMA:!1},uniforms:{level:0,flip:-1},vertexShader:["#include <common_vert>","varying vec3 vDir;","void main() {","\tvDir = (u_Model * vec4(a_Position, 0.0)).xyz;","\tgl_Position = u_ProjectionView * u_Model * vec4(a_Position, 1.0);","\tgl_Position.z = gl_Position.w;","}"].join("\n"),fragmentShader:["#include <common_frag>","#ifdef PANORAMA","\tuniform sampler2D diffuseMap;","#else","\tuniform samplerCube cubeMap;","#endif","uniform float flip;","uniform float level;","varying vec3 vDir;","void main() {","\t#include <begin_frag>","\tvec3 V = normalize(vDir);","\t#ifdef PANORAMA","\t\tfloat phi = acos(V.y);","\t\tfloat theta = flip * atan(V.x, V.z) + PI * 0.5;","\t\tvec2 uv = vec2(theta / 2.0 / PI, -phi / PI);","\t\t#ifdef TEXTURE_LOD_EXT","\t\t\toutColor *= mapTexelToLinear(texture2DLodEXT(diffuseMap, fract(uv), level));","\t\t#else","\t\t\toutColor *= mapTexelToLinear(texture2D(diffuseMap, fract(uv), level));","\t\t#endif","\t#else","\t\tvec3 coordVec = vec3(flip * V.x, V.yz);","\t\t#ifdef TEXTURE_LOD_EXT","\t\t\toutColor *= mapTexelToLinear(textureCubeLodEXT(cubeMap, coordVec, level));","\t\t#else","\t\t\toutColor *= mapTexelToLinear(textureCube(cubeMap, coordVec, level));","\t\t#endif","\t#endif","\t#include <end_frag>","\t#ifdef GAMMA","\t\t#include <encodings_frag>","\t#endif","}"].join("\n")};const W={Pisa:{name:"pisa",ext:"hdr"},Factory_Catwalk:{name:"Factory_Catwalk",ext:"hdr"},Barce_Rooftop_C:{name:"Barce_Rooftop_C",ext:"hdr"},Grand_Canyon_C:{name:"Grand_Canyon_C",ext:"hdr"},Hall:{name:"Hall",ext:"hdr"},Ice_Lake:{name:"Ice_Lake",ext:"hdr"},Old_Industrial_Hall:{name:"Old_Industrial_Hall",ext:"hdr"}};var Y,Q,q=new e.Vector3,K={computeNormals:function(t){var n=t.index,r=t.attributes,a=r.a_Position;if(void 0!==a){var i=r.a_Normal;if(void 0===i)i=new e.Attribute(new e.Buffer(new Float32Array(3*a.buffer.count),3)),t.addAttribute("a_Normal",i);else{for(let e=0;e<i.buffer.array.length;e++)i.buffer.array[e]=0;i.buffer.version++}var o=new e.Vector3,s=new e.Vector3,l=new e.Vector3,u=new e.Vector3,c=new e.Vector3,h=new e.Vector3,f=new e.Vector3,d=new e.Vector3;if(n)for(let e=0,t=n.buffer.count;e<t;e+=3){var p=n.buffer.array[e+0],m=n.buffer.array[e+1],g=n.buffer.array[e+2];o.fromArray(a.buffer.array,3*p),s.fromArray(a.buffer.array,3*m),l.fromArray(a.buffer.array,3*g),f.subVectors(l,s),d.subVectors(o,s),f.cross(d),u.fromArray(i.buffer.array,3*p),c.fromArray(i.buffer.array,3*m),h.fromArray(i.buffer.array,3*g),u.add(f),c.add(f),h.add(f),u.toArray(i.buffer.array,3*p),c.toArray(i.buffer.array,3*m),h.toArray(i.buffer.array,3*g)}else for(let e=0,t=3*a.buffer.count;e<t;e+=9)o.fromArray(a.buffer.array,e+0),s.fromArray(a.buffer.array,e+3),l.fromArray(a.buffer.array,e+6),f.subVectors(l,s),d.subVectors(o,s),f.cross(d),f.toArray(i.buffer.array,e+0),f.toArray(i.buffer.array,e+3),f.toArray(i.buffer.array,e+6);this.normalizeNormals(t)}else console.warn("t3d.Geometry: Missing required attributes (position) in GeometryUtils.computeNormals()")},normalizeNormals:function(e){const t=e.attributes.a_Normal.buffer;for(let e=0;e<t.array.length;e+=3)q.fromArray(t.array,e),q.normalize(),q.toArray(t.array,e)},computeTangents:function(t){var n=t.index,r=t.attributes;if(null!==n&&void 0!==r.a_Position&&void 0!==r.a_Normal&&void 0!==r.a_Uv){var a=n.buffer.array,i=r.a_Position.buffer.array,o=r.a_Normal.buffer.array,s=r.a_Uv.buffer.array,l=i.length/3;void 0===r.tangent&&t.addAttribute("a_Tangent",new e.Attribute(new e.Buffer(new Float32Array(4*l),4)));for(var u=r.a_Tangent.buffer.array,c=[],h=[],f=0;f<l;f++)c[f]=new e.Vector3,h[f]=new e.Vector3;var d=new e.Vector3,p=new e.Vector3,m=new e.Vector3,g=new e.Vector2,b=new e.Vector2,_=new e.Vector2,v=new e.Vector3,y=new e.Vector3,x=t.groups;0===x.length&&(x=[{start:0,count:a.length}]),f=0;for(var A=x.length;f<A;++f)for(var w=L=(F=x[f]).start,T=L+F.count;w<T;w+=3)R(a[w+0],a[w+1],a[w+2]);var E,P,S,C=new e.Vector3,N=new e.Vector3,I=new e.Vector3,M=new e.Vector3;for(f=0,A=x.length;f<A;++f){var F,L;for(w=L=(F=x[f]).start,T=L+F.count;w<T;w+=3)k(a[w+0]),k(a[w+1]),k(a[w+2])}}else console.warn("t3d.Geometry: Missing required attributes (index, position, normal or uv) in GeometryUtils.computeTangents()");function R(e,t,n){d.fromArray(i,3*e),p.fromArray(i,3*t),m.fromArray(i,3*n),g.fromArray(s,2*e),b.fromArray(s,2*t),_.fromArray(s,2*n),p.sub(d),m.sub(d),b.sub(g),_.sub(g);var r=1/(b.x*_.y-_.x*b.y);isFinite(r)&&(v.copy(p).multiplyScalar(_.y).addScaledVector(m,-b.y).multiplyScalar(r),y.copy(m).multiplyScalar(b.x).addScaledVector(p,-_.x).multiplyScalar(r),c[e].add(v),c[t].add(v),c[n].add(v),h[e].add(y),h[t].add(y),h[n].add(y))}function k(e){I.fromArray(o,3*e),M.copy(I),P=c[e],C.copy(P),C.sub(I.multiplyScalar(I.dot(P))).normalize(),N.crossVectors(M,P),S=N.dot(h[e]),E=S<0?-1:1,u[4*e]=C.x,u[4*e+1]=C.y,u[4*e+2]=C.z,u[4*e+3]=-E}},mergeGeometries:function(t,n){for(var r=null!==t[0].index,a=new Set(Object.keys(t[0].attributes)),i={},o=new e.Geometry,s=0,l=0;l<t.length;++l){var u=t[l];if(r!==(null!==u.index))return null;for(var c in u.attributes){if(!a.has(c))return null;void 0===i[c]&&(i[c]=[]),i[c].push(u.attributes[c])}if(n){var h;if(r)h=u.index.buffer.count;else{if(void 0===u.attributes.a_Position)return null;h=u.attributes.a_Position.buffer.count}o.addGroup(s,h,l),s+=h}}if(r){var f=0,d=[];for(l=0;l<t.length;++l){for(var p=t[l].index,m=0;m<p.buffer.count;++m)d.push(p.buffer.array[m]+f);f+=t[l].attributes.a_Position.buffer.count}o.setIndex(d)}for(var c in i){var g=this.mergeBufferAttributes(i[c]);if(!g)return null;o.addAttribute(c,g)}return o},mergeBufferAttributes:function(t){for(var n,r,a,i=0,o=0;o<t.length;++o){var s=t[o];if(s.buffer.stride!==s.size)return null;if(void 0===n&&(n=s.buffer.array.constructor),n!==s.buffer.array.constructor)return null;if(void 0===r&&(r=s.size),r!==s.size)return null;if(void 0===a&&(a=s.normalized),a!==s.normalized)return null;i+=s.buffer.array.length}var l=new n(i),u=0;for(o=0;o<t.length;++o)l.set(t[o].buffer.array,u),u+=t[o].buffer.array.length;return new e.Attribute(new e.Buffer(l,r),r,0,a)},applyMatrix4:(Y=new e.Vector3,Q=new e.Matrix3,function(e,t,n){var r,a,i=e.attributes.a_Position;if(void 0!==i){r=i.buffer.array,a=i.buffer.count;for(var o=0;o<a;o++)Y.fromArray(r,3*o),Y.applyMatrix4(t),Y.toArray(r,3*o);i.buffer.version++}var s=e.attributes.a_Normal;if(void 0!==s){r=s.buffer.array,a=s.buffer.count;var l=Q.setFromMatrix4(t).inverse().transpose();for(o=0;o<a;o++)Y.fromArray(r,3*o),Y.applyMatrix3(l).normalize(),Y.toArray(r,3*o);s.buffer.version++}var u=e.attributes.a_Tangent;if(void 0!==u){for(r=u.buffer.array,a=u.buffer.count,o=0;o<a;o++)Y.fromArray(r,3*o),Y.transformDirection(t),Y.toArray(r,3*o);u.buffer.version++}null!==e.boundingBox&&n&&e.computeBoundingBox(),null!==e.boundingSphere&&n&&e.computeBoundingSphere()}),getWireframeAttribute(t){const n=[],r=t.index,a=t.attributes.a_Position;if(null!==r){const e=r.buffer.array;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],a=e[t+1],i=e[t+2];n.push(r,a,a,i,i,r)}}else for(let e=0,t=a.buffer.array.length/3-1;e<t;e+=3){const t=e+0,r=e+1,a=e+2;n.push(t,r,r,a,a,t)}return new e.Attribute(new e.Buffer(a.buffer.array.length/3>65536?new Uint32Array(n):new Uint16Array(n),1))}};class Z{constructor(e,t,n){this.autoUpdate=!0,this.needsUpdate=!0}needRender(){return!!this.autoUpdate||!!this.needsUpdate&&(this.needsUpdate=!1,!0)}setGeometryReplaceFunction(e){}render(e,t,n,r){}output(e){}resize(e,t){this.needsUpdate=!0}dispose(){this.needsUpdate=!0}}class J{constructor(){this.name="",this.bufferDependencies=[],this.active=!0}render(e,t,n,r,a){console.error("Effect: .render() must be implemented in subclass.")}resize(e,t){}dispose(){}}const ee="\n    attribute vec3 a_Position;\n    attribute vec2 a_Uv;\n\n    uniform mat4 u_ProjectionView;\n    uniform mat4 u_Model;\n\n    varying vec2 v_Uv;\n\n    void main() {\n        v_Uv = a_Uv;\n        gl_Position = u_ProjectionView * u_Model * vec4(a_Position, 1.0);\n    }\n",te={name:"ec_blur",defines:{NORMALTEX_ENABLED:0,DEPTHTEX_ENABLED:0,DEPTH_PACKING:0,KERNEL_SIZE_INT:"5",KERNEL_SIZE_FLOAT:"5.0"},uniforms:{tDiffuse:null,textureSize:[512,512],direction:0,blurSize:1,kernel:[.122581,.233062,.288713,.233062,.122581],normalTex:null,depthTex:null,projection:new Float32Array(16),viewInverseTranspose:new Float32Array(16),depthRange:1},vertexShader:ee,fragmentShader:"\n        uniform vec2 textureSize;\n        uniform int direction;\n        uniform float blurSize;\n        uniform float kernel[KERNEL_SIZE_INT];\n\n        #if NORMALTEX_ENABLED == 1\n            uniform sampler2D normalTex;\n            uniform mat4 viewInverseTranspose;\n            vec3 getViewNormal(const in vec2 screenPosition) {\n                vec3 normal = texture2D(normalTex, screenPosition).xyz * 2.0 - 1.0;\n                // Convert to view space\n                return (viewInverseTranspose * vec4(normal, 0.0)).xyz;\n            }\n        #endif\n\n        #if DEPTHTEX_ENABLED == 1\n\t\t\t#if DEPTH_PACKING == 1\n\t\t\t\t#include <packing>\n\t\t\t#endif\n\t\t\tuniform sampler2D depthTex;\n\t\t\tuniform mat4 projection;\n\t\t\tuniform float depthRange;\n\t\t\tfloat getDepth( const in vec2 screenPosition ) {\n\t\t\t\t#if DEPTH_PACKING == 1\n\t\t\t\t\treturn unpackRGBAToDepth( texture2D( depthTex, screenPosition ) );\n\t\t\t\t#else\n\t\t\t\t\treturn texture2D( depthTex, screenPosition ).r;\n\t\t\t\t#endif\n\t\t\t}\n\t\t\tfloat getLinearDepth(vec2 coord) {\n\t\t\t\tfloat depth = getDepth(coord) * 2.0 - 1.0;\n\t\t\t\treturn projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n\t\t\t}\n\t\t#endif\n\n        uniform sampler2D tDiffuse;\n        varying vec2 v_Uv;\n\n        void main() {\n            vec2 off = vec2(0.0);\n            if (direction == 0) {\n                off[0] = blurSize / textureSize.x;\n            } else {\n                off[1] = blurSize / textureSize.y;\n            }\n\n            vec4 sum = vec4(0.0);\n            float weightAll = 0.0;\n\n            #if NORMALTEX_ENABLED == 1\n                vec3 centerNormal = getViewNormal(v_Uv);\n            #endif\n            #if DEPTHTEX_ENABLED == 1\n                float centerDepth = getLinearDepth(v_Uv);\n            #endif\n\n            for (int i = 0; i < KERNEL_SIZE_INT; i++) {\n\t\t\t\tvec2 coord = clamp(v_Uv + vec2(float(i) - (KERNEL_SIZE_FLOAT - 1.) / 2.) * off, vec2(0.0), vec2(1.0));\n\t\t\t\tfloat w = kernel[i];\n\n\t\t\t\t#if NORMALTEX_ENABLED == 1\n\t\t\t\t\tvec3 normal = getViewNormal(coord);\n\t\t\t\t\tw *= clamp(dot(normal, centerNormal), 0.0, 1.0);\n\t\t\t\t#endif\n\t\t\t\t#if DEPTHTEX_ENABLED == 1\n\t\t\t\t\tfloat d = getLinearDepth(coord);\n\t\t            // PENDING Better equation?\n\t\t            // w *= (1.0 - smoothstep(abs(centerDepth - d) / depthRange, 0.0, 1.0));\n\t\t\t\t\tw *= (1.0 - smoothstep(0.0, 1.0, abs(centerDepth - d) / depthRange));\n\t\t\t\t#endif\n\n\t\t\t\tweightAll += w;\n\t\t\t\tsum += w * texture2D(tDiffuse, coord);\n\t\t\t}\n\n\t\t\tgl_FragColor = sum / weightAll;\n        }\n    "},ne={name:"ec_additive",defines:{},uniforms:{texture1:null,colorWeight1:1,alphaWeight1:1,texture2:null,colorWeight2:1,alphaWeight2:1},vertexShader:ee,fragmentShader:"\n        uniform sampler2D texture1;\n        uniform float colorWeight1;\n        uniform float alphaWeight1;\n\n        uniform sampler2D texture2;\n        uniform float colorWeight2;\n        uniform float alphaWeight2;\n\n        varying vec2 v_Uv;\n\n        void main() {\n            vec4 texel1 = texture2D(texture1, v_Uv);\n            vec4 texel2 = texture2D(texture2, v_Uv);\n            vec3 color = texel1.rgb * colorWeight1 + texel2.rgb * colorWeight2;\n            float alpha = texel1.a * alphaWeight1 + texel2.a * alphaWeight2;\n            gl_FragColor = vec4(color, alpha);\n        }\n    "},re={name:"ec_multiply",defines:{},uniforms:{texture1:null,texture2:null},vertexShader:ee,fragmentShader:"\n        uniform sampler2D texture1;\n        uniform sampler2D texture2;\n\n        varying vec2 v_Uv;\n\n        void main() {\n            vec4 texel1 = texture2D(texture1, v_Uv);\n            vec4 texel2 = texture2D(texture2, v_Uv);\n            gl_FragColor = texel1 * texel2;\n        }\n    "},ae={name:"ec_copy",defines:{},uniforms:{tDiffuse:null},vertexShader:ee,fragmentShader:"\n        uniform sampler2D tDiffuse;\n\n        varying vec2 v_Uv;\n\n        void main() {\n            gl_FragColor = texture2D(tDiffuse, v_Uv);\n        }\n    "},ie={name:"ec_channel",defines:{},uniforms:{tDiffuse:null,channelMask:[1,0,0,0]},vertexShader:ee,fragmentShader:"\n        uniform sampler2D tDiffuse;\n\t\tuniform vec4 channelMask;\n\n        varying vec2 v_Uv;\n\n        void main() {\n\t\t\tfloat value = dot(texture2D(tDiffuse, v_Uv), channelMask);\n            gl_FragColor = vec4(vec3(value), 1.0);\n        }\n    "},oe={name:"ec_mask",defines:{},uniforms:{colorTexture:null,maskTexture:null,additiveTexture:null,channel:[1,0,0,0]},vertexShader:ee,fragmentShader:"\n        uniform sampler2D colorTexture;\n\t\tuniform sampler2D maskTexture;\n\n\t\tuniform sampler2D additiveTexture;\n\n\t\tuniform vec4 channel;\n\n        varying vec2 v_Uv;\n\n        void main() {\n\t\t\tvec4 colorTex = texture2D(colorTexture, v_Uv);\n\t\t\tvec4 maskTex = texture2D(maskTexture, v_Uv);\n\t\t\tvec4 addTex = texture2D(additiveTexture, v_Uv);\n            gl_FragColor = colorTex * dot(maskTex, channel) + addTex;\n        }\n    "},se={name:"ec_highlight",defines:{},uniforms:{tDiffuse:null,threshold:1,smoothWidth:.01},vertexShader:ee,fragmentShader:"\n        uniform float threshold;\n\t\tuniform float smoothWidth;\n\n        uniform sampler2D tDiffuse;\n        varying vec2 v_Uv;\n\n        void main() {\n            vec4 texel = texture2D(tDiffuse, v_Uv);\n            vec3 luma = vec3(0.299, 0.587, 0.114);\n            float v = dot(texel.xyz, luma);\n            gl_FragColor = smoothstep(threshold, threshold + smoothWidth, v) * texel;\n        }\n    "},le={name:"ec_seperable_blur",defines:{MAX_RADIUS:4},uniforms:{tDiffuse:null,texSize:[.5,.5],direction:[.5,.5],kernelRadius:1},vertexShader:ee,fragmentShader:"\n        uniform vec2 texSize;\n        uniform vec2 direction;\n        uniform float kernelRadius;\n\n        uniform sampler2D tDiffuse;\n        varying vec2 v_Uv;\n\n        float gaussianPdf(in float x, in float sigma) {\n\t\t\treturn 0.39894 * exp(-0.5 * x * x / (sigma * sigma)) / sigma;\n\t\t}\n\n        void main() {\n            vec2 invSize = 1.0 / texSize;\n\t\t\tfloat weightSum = gaussianPdf(0.0, kernelRadius);\n\t\t\tvec4 diffuseColor = texture2D(tDiffuse, v_Uv);\n\t\t\tvec4 diffuseSum = diffuseColor * weightSum;\n\t\t\tvec2 delta = direction * invSize * kernelRadius / float(MAX_RADIUS);\n\t\t\tvec2 uvOffset = delta;\n\t\t\tfor( int i = 1; i <= MAX_RADIUS; i ++ ) {\n\t\t\t\tfloat w = gaussianPdf(uvOffset.x, kernelRadius);\n\t\t\t\tvec4 sample1 = texture2D(tDiffuse, v_Uv + uvOffset);\n\t\t\t\tvec4 sample2 = texture2D(tDiffuse, v_Uv - uvOffset);\n\t\t\t\tdiffuseSum += ((sample1 + sample2) * w);\n\t\t\t\tweightSum += (2.0 * w);\n\t\t\t\tuvOffset += delta;\n\t\t\t}\n\t\t\tvec4 color = diffuseSum / weightSum;\n\t\t\tgl_FragColor = color;\n        }\n    "},ue={name:"ec_h_blur",uniforms:{tDiffuse:null,h:1/512},vertexShader:ee,fragmentShader:"\n\t\tuniform float h;\n\n        uniform sampler2D tDiffuse;\n        varying vec2 v_Uv;\n\n        void main() {\n            vec4 sum = vec4(0.0);\n           \n\t\t\tsum += texture2D(tDiffuse, vec2(v_Uv.x - 4.0 * h, v_Uv.y)) * 0.051;\n\t\t\tsum += texture2D(tDiffuse, vec2(v_Uv.x - 3.0 * h, v_Uv.y)) * 0.0918;\n\t\t\tsum += texture2D(tDiffuse, vec2(v_Uv.x - 2.0 * h, v_Uv.y)) * 0.12245;\n\t\t\tsum += texture2D(tDiffuse, vec2(v_Uv.x - 1.0 * h, v_Uv.y)) * 0.1531;\n\t\t\tsum += texture2D(tDiffuse, vec2(v_Uv.x, v_Uv.y)) * 0.1633;\n\t\t\tsum += texture2D(tDiffuse, vec2(v_Uv.x + 1.0 * h, v_Uv.y)) * 0.1531;\n\t\t\tsum += texture2D(tDiffuse, vec2(v_Uv.x + 2.0 * h, v_Uv.y)) * 0.12245;\n\t\t\tsum += texture2D(tDiffuse, vec2(v_Uv.x + 3.0 * h, v_Uv.y)) * 0.0918;\n\t\t\tsum += texture2D(tDiffuse, vec2(v_Uv.x + 4.0 * h, v_Uv.y)) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n        }\n    "},ce={name:"ec_v_blur",uniforms:{tDiffuse:null,v:1/512},vertexShader:ee,fragmentShader:"\n\t\tuniform float v;\n\n        uniform sampler2D tDiffuse;\n        varying vec2 v_Uv;\n\n        void main() {\n            vec4 sum = vec4(0.0);\n           \n\t\t\tsum += texture2D(tDiffuse, vec2(v_Uv.x, v_Uv.y - 4.0 * v)) * 0.051;\n            sum += texture2D(tDiffuse, vec2(v_Uv.x, v_Uv.y - 3.0 * v)) * 0.0918;\n\t\t\tsum += texture2D(tDiffuse, vec2(v_Uv.x, v_Uv.y - 2.0 * v)) * 0.12245;\n\t\t\tsum += texture2D(tDiffuse, vec2(v_Uv.x, v_Uv.y - 1.0 * v)) * 0.1531;\n\t\t\tsum += texture2D(tDiffuse, vec2(v_Uv.x, v_Uv.y)) * 0.1633;\n\t\t\tsum += texture2D(tDiffuse, vec2(v_Uv.x, v_Uv.y + 1.0 * v)) * 0.1531;\n\t\t\tsum += texture2D(tDiffuse, vec2(v_Uv.x, v_Uv.y + 2.0 * v)) * 0.12245;\n\t\t\tsum += texture2D(tDiffuse, vec2(v_Uv.x, v_Uv.y + 3.0 * v)) * 0.0918;\n\t\t\tsum += texture2D(tDiffuse, vec2(v_Uv.x, v_Uv.y + 4.0 * v)) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n        }\n    "};function he(t){return t.format===e.PIXEL_FORMAT.DEPTH_STENCIL||t.format===e.PIXEL_FORMAT.DEPTH24_STENCIL8}class fe extends J{constructor(){super(),this.threshold=.7,this.smoothWidth=.01,this.blurSize=2,this.strength=1,this._highlightPass=new e.ShaderPostPass(se),this._blurPass=new e.ShaderPostPass(te),this._blendPass=new e.ShaderPostPass(ne),this._blendPass.material.premultipliedAlpha=!0}resize(e,t){this._blurPass.uniforms.textureSize[0]=e,this._blurPass.uniforms.textureSize[1]=t}render(e,t,n,r,a){const i=t._renderTargetCache.allocate(0),o=t._renderTargetCache.allocate(1),s=t._renderTargetCache.allocate(1);e.renderPass.setRenderTarget(i),e.renderPass.setClearColor(0,0,0,0),e.renderPass.clear(!0,!0,!1),this._highlightPass.uniforms.tDiffuse=n.texture,this._highlightPass.uniforms.threshold=this.threshold,this._highlightPass.uniforms.smoothWidth=this.smoothWidth,this._highlightPass.render(e),e.renderPass.setRenderTarget(o),e.renderPass.setClearColor(0,0,0,0),e.renderPass.clear(!0,!0,!1),this._blurPass.uniforms.tDiffuse=i.texture,this._blurPass.uniforms.direction=0,this._blurPass.uniforms.blurSize=this.blurSize,this._blurPass.render(e),e.renderPass.setRenderTarget(s),e.renderPass.setClearColor(0,0,0,0),e.renderPass.clear(!0,!0,!1),this._blurPass.uniforms.tDiffuse=o.texture,this._blurPass.uniforms.direction=1,this._blurPass.uniforms.blurSize=this.blurSize,this._blurPass.render(e),e.renderPass.setRenderTarget(r),e.renderPass.setClearColor(0,0,0,0),a?e.renderPass.clear(t.clearColor,t.clearDepth,t.clearStencil):e.renderPass.clear(!0,!0,!1),this._blendPass.uniforms.texture1=n.texture,this._blendPass.uniforms.texture2=s.texture,this._blendPass.uniforms.colorWeight1=1,this._blendPass.uniforms.alphaWeight1=1,this._blendPass.uniforms.colorWeight2=this.strength,this._blendPass.uniforms.alphaWeight2=this.strength,a&&(this._blendPass.material.transparent=t._tempClearColor[3]<1||!t.clearColor,this._blendPass.renderStates.camera.rect.fromArray(t._tempViewport)),this._blendPass.render(e),a&&(this._blendPass.material.transparent=!1,this._blendPass.renderStates.camera.rect.set(0,0,1,1)),t._renderTargetCache.release(i,0),t._renderTargetCache.release(o,1),t._renderTargetCache.release(s,1)}}class de extends J{constructor(){super(),this.chromaFactor=.025,this._mainPass=new e.ShaderPostPass(pe),this._mainPass.material.premultipliedAlpha=!0}resize(e,t){this._mainPass.uniforms.resolution[0]=1/e,this._mainPass.uniforms.resolution[1]=1/t}render(e,t,n,r,a){e.renderPass.setRenderTarget(r),e.renderPass.setClearColor(0,0,0,0),a?e.renderPass.clear(t.clearColor,t.clearDepth,t.clearStencil):e.renderPass.clear(!0,!0,!1);const i=this._mainPass;i.uniforms.tDiffuse=n.texture,i.uniforms.uChromaFactor=this.chromaFactor,a&&(i.material.transparent=t._tempClearColor[3]<1||!t.clearColor,i.renderStates.camera.rect.fromArray(t._tempViewport)),i.render(e),a&&(i.material.transparent=!1,i.renderStates.camera.rect.set(0,0,1,1))}}const pe={name:"ec_chromatic_aberration",defines:{},uniforms:{tDiffuse:null,uChromaFactor:.025,uResolutionRatio:[1,1],resolution:[1/1024,1/512]},vertexShader:ee,fragmentShader:"\n        uniform float uChromaFactor;\n        uniform vec2 uResolutionRatio;\n        uniform vec2 resolution;\n\n        uniform sampler2D tDiffuse;\n        varying vec2 v_Uv;\n\n        void main() {\n            vec2 uv = v_Uv;\n            vec2 dist = uv - 0.5;\n            vec2 offset = uChromaFactor * dist * length(dist);\n            vec4 col = texture2D(tDiffuse, min(uv, 1.0 - resolution) * uResolutionRatio);\n            col.r = texture2D(tDiffuse, min(uv - offset, 1.0 - resolution) * uResolutionRatio).r;\n            col.b = texture2D(tDiffuse, min(uv + offset, 1.0 - resolution) * uResolutionRatio).b;\n            gl_FragColor = col;\n        }\n    "};class me extends J{constructor(){super(),this.brightness=0,this.contrast=1.02,this.exposure=0,this.gamma=1,this.saturation=1.02,this._mainPass=new e.ShaderPostPass(ge),this._mainPass.material.premultipliedAlpha=!0,this._mainPass.uniforms.contrast=1.02,this._mainPass.uniforms.saturation=1.02}render(e,t,n,r,a){e.renderPass.setRenderTarget(r),e.renderPass.setClearColor(0,0,0,0),a?e.renderPass.clear(t.clearColor,t.clearDepth,t.clearStencil):e.renderPass.clear(!0,!0,!1);const i=this._mainPass;i.uniforms.tDiffuse=n.texture,i.uniforms.brightness=this.brightness,i.uniforms.contrast=this.contrast,i.uniforms.exposure=this.exposure,i.uniforms.gamma=this.gamma,i.uniforms.saturation=this.saturation,a&&(i.material.transparent=t._tempClearColor[3]<1||!t.clearColor,i.renderStates.camera.rect.fromArray(t._tempViewport)),i.render(e),a&&(i.material.transparent=!1,i.renderStates.camera.rect.set(0,0,1,1))}}const ge={name:"ec_color_correction",defines:{},uniforms:{tDiffuse:null,brightness:0,contrast:1,exposure:0,gamma:1,saturation:1},vertexShader:ee,fragmentShader:'\n        uniform float brightness;\n        uniform float contrast;\n        uniform float exposure;\n        uniform float gamma;\n        uniform float saturation;\n\n        uniform sampler2D tDiffuse;\n        varying vec2 v_Uv;\n\n        // Values from "Graphics Shaders: Theory and Practice" by Bailey and Cunningham\n        const vec3 w = vec3(0.2125, 0.7154, 0.0721);\n\n        void main() {\n            vec4 tex = texture2D(tDiffuse, v_Uv);\n            // brightness\n            vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);\n            // contrast\n            color = clamp((color - vec3(0.5)) * contrast + vec3(0.5), 0.0, 1.0);\n            // exposure\n            color = clamp(color * pow(2.0, exposure), 0.0, 1.0);\n            // gamma\n            color = clamp(pow(color, vec3(gamma)), 0.0, 1.0);\n            float luminance = dot(color, w);\n            color = mix(vec3(luminance), color, saturation);\n            gl_FragColor = vec4(color, tex.a);\n        }\n    '};class be extends J{constructor(){super(),this.bufferDependencies=[{key:"GBuffer"}],this.focalDepth=1,this.focalLength=24,this.fstop=.9,this.maxblur=1,this.threshold=.9,this.gain=1,this.bias=.5,this.dithering=1e-4,this._mainPass=new e.ShaderPostPass(_e),this._mainPass.material.premultipliedAlpha=!0}resize(e,t){this._mainPass.uniforms.resolution[0]=1/e,this._mainPass.uniforms.resolution[1]=1/t}render(t,n,r,a,i){t.renderPass.setRenderTarget(a),t.renderPass.setClearColor(0,0,0,0),i?t.renderPass.clear(n.clearColor,n.clearDepth,n.clearStencil):t.renderPass.clear(!0,!0,!1);const o=n.getBuffer("GBuffer"),s=o.getCurrentRenderStates();this._mainPass.uniforms.tColor=r.texture,this._mainPass.uniforms.tDepth=o.output()._attachments[e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT];let l=0,u=0;const c=s.camera.projectionMatrix;!function(e){return-1===e.elements[11]}(c)?(l=(c.elements[14]+1)/c.elements[10],u=(c.elements[14]-1)/c.elements[10]):(l=c.elements[14]/(c.elements[10]-1),u=c.elements[14]/(c.elements[10]+1)),this._mainPass.uniforms.znear=l,this._mainPass.uniforms.zfar=u,this._mainPass.uniforms.focalDepth=this.focalDepth,this._mainPass.uniforms.focalLength=this.focalLength,this._mainPass.uniforms.fstop=this.fstop,this._mainPass.uniforms.maxblur=this.maxblur,this._mainPass.uniforms.threshold=this.threshold,this._mainPass.uniforms.gain=this.gain,this._mainPass.uniforms.bias=this.bias,this._mainPass.uniforms.dithering=this.dithering,i&&(this._mainPass.material.transparent=n._tempClearColor[3]<1||!n.clearColor,this._mainPass.renderStates.camera.rect.fromArray(n._tempViewport)),this._mainPass.render(t),i&&(this._mainPass.material.transparent=!1,this._mainPass.renderStates.camera.rect.set(0,0,1,1))}}const _e={name:"ec_bokeh",defines:{RINGS:3,SAMPLES:4},uniforms:{tColor:null,tDepth:null,resolution:[1/1024,1/512],znear:.1,zfar:100,focalDepth:1,focalLength:24,fstop:.9,maxblur:1,threshold:.5,gain:2,bias:.5,dithering:1e-4},vertexShader:ee,fragmentShader:"\n        varying vec2 v_Uv;\n\n        uniform sampler2D tColor;\n        uniform sampler2D tDepth;\n        \n        uniform vec2 resolution;  \n        \n        uniform float znear;\n        uniform float zfar;\n\n        uniform float focalDepth;\n        uniform float focalLength;\n        uniform float fstop;\n\n        uniform float maxblur; // clamp value of max blur (0.0 = no blur, 1.0 default)\n        uniform float threshold; // highlight threshold\n        uniform float gain; // highlight gain\n        uniform float bias; // bokeh edge bias\n        uniform float dithering;\n\n        const int samples = SAMPLES;\n        const int rings = RINGS;\n        const int maxringsamples = rings * samples;\n\n        float CoC = 0.03; // circle of confusion size in mm (35mm film = 0.03mm)\n\n        vec4 color(vec2 coords, float blur) {\n            vec4 col = texture2D(tColor, coords);\n            vec3 lumcoeff = vec3(0.299, 0.587, 0.114);\n            float lum = dot(col.rgb, lumcoeff);\n            float thresh = max((lum - threshold) * gain, 0.0);\n            return vec4(col.rgb + mix(vec3(0.0), col.rgb, thresh * blur), col.a);\n        }\n\n        float linearize(float depth) {\n            return -zfar * znear / (depth * (zfar - znear) - zfar);\n        }\n\n        float gather(float i, float j, int ringsamples, inout vec3 colorSum, float w, float h, float blur) {\n            float rings2 = float(rings);\n            float step = PI * 2.0 / float(ringsamples);\n            float pw = cos(j * step) * i;\n            float ph = sin(j * step) * i;\n\t\t\tvec4 sampleColor = color(v_Uv + vec2(pw * w, ph * h), blur);\n\t\t\tfloat weight = mix(1.0, i / rings2, bias) * sampleColor.a;\n            colorSum += sampleColor.rgb  * weight;\n            return weight;\n        }\n\n        void main() {\n            float depth = linearize(texture2D(tDepth,  v_Uv).x);\n            float fDepth = focalDepth;\n\n            // dof blur factor calculation\n\n            float f = focalLength; // focal length in mm\n            float d = fDepth * 1000.; // focal plane in mm\n            float o = depth * 1000.; // depth in mm\n\n            float a = (o * f) / (o - f);\n            float b = (d * f) / (d - f);\n            float c = (d - f) / (d * fstop * CoC);\n\n            float blur = abs(a - b) * c;\n            blur = clamp(blur, 0.0, 1.0);\n\n            // calculation of pattern for dithering\n\n            vec2 noise = vec2(rand( v_Uv), rand( v_Uv + vec2(0.4, 0.6))) * dithering * blur;\n\n            // getting blur x and y step factor\n\n            float w = resolution.x * blur * maxblur + noise.x;\n            float h = resolution.y * blur * maxblur + noise.y;\n\n            // calculation of final color\n\n            vec3 col = vec3(0.0);\n\t\t\tvec4 centerColor = texture2D(tColor,  v_Uv);\n\n            if (blur < 0.05) {\n                col = centerColor.rgb;\n            } else {\n                col = centerColor.rgb;\n\n                float s = 1.0;\n                int ringsamples;\n\n                for(int i = 1; i <= rings; i++) {\n                    ringsamples = i * samples;\n\n                    for (int j = 0; j < maxringsamples; j++) {\n                        if (j >= ringsamples) break;\n                        s += gather(float(i), float(j), ringsamples, col, w, h, blur);\n                    }\n                }\n\n                col /= s; // divide by sample count\n            }\n\n            gl_FragColor = vec4(col, centerColor.a);\n        }\n    "};class ve extends J{constructor(){super(),this.noiseIntensity=.35,this.scanlinesIntensity=.5,this.scanlinesCount=2048,this.grayscale=!0,this._time=0,this._mainPass=new e.ShaderPostPass(ye),this._mainPass.material.premultipliedAlpha=!0}render(e,t,n,r,a){e.renderPass.setRenderTarget(r),e.renderPass.setClearColor(0,0,0,0),a?e.renderPass.clear(t.clearColor,t.clearDepth,t.clearStencil):e.renderPass.clear(!0,!0,!1);const i=this._mainPass;i.uniforms.tDiffuse=n.texture,i.uniforms.nIntensity=this.noiseIntensity,i.uniforms.sIntensity=this.scanlinesIntensity,i.uniforms.sCount=this.scanlinesCount,i.uniforms.grayscale=this.grayscale,this._time+=.01667,i.uniforms.time=this._time,a&&(i.material.transparent=t._tempClearColor[3]<1||!t.clearColor,i.renderStates.camera.rect.fromArray(t._tempViewport)),i.render(e),a&&(i.material.transparent=!1,i.renderStates.camera.rect.set(0,0,1,1))}}const ye={name:"ec_film",defines:{},uniforms:{tDiffuse:null,time:0,nIntensity:.5,sIntensity:.05,sCount:4096,grayscale:!0},vertexShader:ee,fragmentShader:"\n        uniform float time;\n        uniform float nIntensity;\n        uniform float sIntensity;\n        uniform float sCount;\n        uniform bool grayscale;\n\n        uniform sampler2D tDiffuse;\n        varying vec2 v_Uv;\n\n        void main() {\n            // sample the source\n            vec4 cTextureScreen = texture2D(tDiffuse, v_Uv);\n            // make some noise\n            float dx = rand(v_Uv + time);\n            // add noise\n            vec3 cResult = cTextureScreen.rgb + cTextureScreen.rgb * clamp(0.1 + dx, 0.0, 1.0);\n            // get us a sine and cosine\n            vec2 sc = vec2(sin(v_Uv.y * sCount), cos(v_Uv.y * sCount));\n            // add scanlines\n            cResult += cTextureScreen.rgb * vec3(sc.x, sc.y, sc.x) * sIntensity;\n            // interpolate between source and result by intensity\n            cResult = cTextureScreen.rgb + clamp(nIntensity, 0.0, 1.0) * (cResult - cTextureScreen.rgb);\n            // convert to grayscale if desired\n            if(grayscale) {\n                cResult = vec3(cResult.r * 0.3 + cResult.g * 0.59 + cResult.b * 0.11);\n            }\n            gl_FragColor = vec4(cResult, cTextureScreen.a);\n        }\n    "};class xe extends J{constructor(){super(),this._mainPass=new e.ShaderPostPass(Ae),this._mainPass.material.premultipliedAlpha=!0}resize(e,t){this._mainPass.uniforms.resolution[0]=1/e,this._mainPass.uniforms.resolution[1]=1/t}render(e,t,n,r,a){e.renderPass.setRenderTarget(r),e.renderPass.setClearColor(0,0,0,0),a?e.renderPass.clear(t.clearColor,t.clearDepth,t.clearStencil):e.renderPass.clear(!0,!0,!1),this._mainPass.uniforms.tDiffuse=n.texture,a&&(this._mainPass.material.transparent=t._tempClearColor[3]<1||!t.clearColor,this._mainPass.renderStates.camera.rect.fromArray(t._tempViewport)),this._mainPass.render(e),a&&(this._mainPass.material.transparent=!1,this._mainPass.renderStates.camera.rect.set(0,0,1,1))}}const Ae={name:"ec_fxaa",defines:{},uniforms:{tDiffuse:null,resolution:[1/1024,1/512]},vertexShader:ee,fragmentShader:"\n        uniform sampler2D tDiffuse;\n        varying vec2 v_Uv;\n        \n        uniform vec2 resolution;  \n        \n        // FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)\n        \n        //----------------------------------------------------------------------------------\n        // File:        es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag\n        // SDK Version: v3.00\n        // Email:       gameworks@nvidia.com\n        // Site:        http://developer.nvidia.com/\n        //\n        // Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.\n        //\n        // Redistribution and use in source and binary forms, with or without\n        // modification, are permitted provided that the following conditions\n        // are met:\n        //  * Redistributions of source code must retain the above copyright\n        //    notice, this list of conditions and the following disclaimer.\n        //  * Redistributions in binary form must reproduce the above copyright\n        //    notice, this list of conditions and the following disclaimer in the\n        //    documentation and/or other materials provided with the distribution.\n        //  * Neither the name of NVIDIA CORPORATION nor the names of its\n        //    contributors may be used to endorse or promote products derived\n        //    from this software without specific prior written permission.\n        //\n        // THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS \"AS IS\" AND ANY\n        // EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n        // IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n        // PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n        // CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n        // EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n        // PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n        // PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n        // OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n        // (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n        // OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n        //\n        //----------------------------------------------------------------------------------\n        \n        #define FXAA_PC 1\n        #define FXAA_GLSL_100 1\n        #define FXAA_QUALITY_PRESET 39\n        \n        #define FXAA_GREEN_AS_LUMA 1\n        \n        /*--------------------------------------------------------------------------*/\n        #ifndef FXAA_PC_CONSOLE\n            //\n            // The console algorithm for PC is included\n            // for developers targeting really low spec machines.\n            // Likely better to just run FXAA_PC, and use a really low preset.\n            //\n            #define FXAA_PC_CONSOLE 0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #ifndef FXAA_GLSL_120\n            #define FXAA_GLSL_120 0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #ifndef FXAA_GLSL_130\n            #define FXAA_GLSL_130 0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #ifndef FXAA_HLSL_3\n            #define FXAA_HLSL_3 0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #ifndef FXAA_HLSL_4\n            #define FXAA_HLSL_4 0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #ifndef FXAA_HLSL_5\n            #define FXAA_HLSL_5 0\n        #endif\n        /*==========================================================================*/\n        #ifndef FXAA_GREEN_AS_LUMA\n            //\n            // For those using non-linear color,\n            // and either not able to get luma in alpha, or not wanting to,\n            // this enables FXAA to run using green as a proxy for luma.\n            // So with this enabled, no need to pack luma in alpha.\n            //\n            // This will turn off AA on anything which lacks some amount of green.\n            // Pure red and blue or combination of only R and B, will get no AA.\n            //\n            // Might want to lower the settings for both,\n            //    fxaaConsoleEdgeThresholdMin\n            //    fxaaQualityEdgeThresholdMin\n            // In order to insure AA does not get turned off on colors\n            // which contain a minor amount of green.\n            //\n            // 1 = On.\n            // 0 = Off.\n            //\n            #define FXAA_GREEN_AS_LUMA 0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #ifndef FXAA_EARLY_EXIT\n            //\n            // Controls algorithm's early exit path.\n            // On PS3 turning this ON adds 2 cycles to the shader.\n            // On 360 turning this OFF adds 10ths of a millisecond to the shader.\n            // Turning this off on console will result in a more blurry image.\n            // So this defaults to on.\n            //\n            // 1 = On.\n            // 0 = Off.\n            //\n            #define FXAA_EARLY_EXIT 1\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #ifndef FXAA_DISCARD\n            //\n            // Only valid for PC OpenGL currently.\n            // Probably will not work when FXAA_GREEN_AS_LUMA = 1.\n            //\n            // 1 = Use discard on pixels which don't need AA.\n            //     For APIs which enable concurrent TEX+ROP from same surface.\n            // 0 = Return unchanged color on pixels which don't need AA.\n            //\n            #define FXAA_DISCARD 0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #ifndef FXAA_FAST_PIXEL_OFFSET\n            //\n            // Used for GLSL 120 only.\n            //\n            // 1 = GL API supports fast pixel offsets\n            // 0 = do not use fast pixel offsets\n            //\n            #ifdef GL_EXT_gpu_shader4\n                #define FXAA_FAST_PIXEL_OFFSET 1\n            #endif\n            #ifdef GL_NV_gpu_shader5\n                #define FXAA_FAST_PIXEL_OFFSET 1\n            #endif\n            #ifdef GL_ARB_gpu_shader5\n                #define FXAA_FAST_PIXEL_OFFSET 1\n            #endif\n            #ifndef FXAA_FAST_PIXEL_OFFSET\n                #define FXAA_FAST_PIXEL_OFFSET 0\n            #endif\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #ifndef FXAA_GATHER4_ALPHA\n            //\n            // 1 = API supports gather4 on alpha channel.\n            // 0 = API does not support gather4 on alpha channel.\n            //\n            #if (FXAA_HLSL_5 == 1)\n                #define FXAA_GATHER4_ALPHA 1\n            #endif\n            #ifdef GL_ARB_gpu_shader5\n                #define FXAA_GATHER4_ALPHA 1\n            #endif\n            #ifdef GL_NV_gpu_shader5\n                #define FXAA_GATHER4_ALPHA 1\n            #endif\n            #ifndef FXAA_GATHER4_ALPHA\n                #define FXAA_GATHER4_ALPHA 0\n            #endif\n        #endif\n        \n        \n        /*============================================================================\n                                FXAA QUALITY - TUNING KNOBS\n        ------------------------------------------------------------------------------\n        NOTE the other tuning knobs are now in the shader function inputs!\n        ============================================================================*/\n        #ifndef FXAA_QUALITY_PRESET\n            //\n            // Choose the quality preset.\n            // This needs to be compiled into the shader as it effects code.\n            // Best option to include multiple presets is to\n            // in each shader define the preset, then include this file.\n            //\n            // OPTIONS\n            // -----------------------------------------------------------------------\n            // 10 to 15 - default medium dither (10=fastest, 15=highest quality)\n            // 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)\n            // 39       - no dither, very expensive\n            //\n            // NOTES\n            // -----------------------------------------------------------------------\n            // 12 = slightly faster then FXAA 3.9 and higher edge quality (default)\n            // 13 = about same speed as FXAA 3.9 and better than 12\n            // 23 = closest to FXAA 3.9 visually and performance wise\n            //  _ = the lowest digit is directly related to performance\n            // _  = the highest digit is directly related to style\n            //\n            #define FXAA_QUALITY_PRESET 12\n        #endif\n        \n        \n        /*============================================================================\n        \n                                FXAA QUALITY - PRESETS\n        \n        ============================================================================*/\n        \n        /*============================================================================\n                            FXAA QUALITY - MEDIUM DITHER PRESETS\n        ============================================================================*/\n        #if (FXAA_QUALITY_PRESET == 10)\n            #define FXAA_QUALITY_PS 3\n            #define FXAA_QUALITY_P0 1.5\n            #define FXAA_QUALITY_P1 3.0\n            #define FXAA_QUALITY_P2 12.0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_QUALITY_PRESET == 11)\n            #define FXAA_QUALITY_PS 4\n            #define FXAA_QUALITY_P0 1.0\n            #define FXAA_QUALITY_P1 1.5\n            #define FXAA_QUALITY_P2 3.0\n            #define FXAA_QUALITY_P3 12.0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_QUALITY_PRESET == 12)\n            #define FXAA_QUALITY_PS 5\n            #define FXAA_QUALITY_P0 1.0\n            #define FXAA_QUALITY_P1 1.5\n            #define FXAA_QUALITY_P2 2.0\n            #define FXAA_QUALITY_P3 4.0\n            #define FXAA_QUALITY_P4 12.0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_QUALITY_PRESET == 13)\n            #define FXAA_QUALITY_PS 6\n            #define FXAA_QUALITY_P0 1.0\n            #define FXAA_QUALITY_P1 1.5\n            #define FXAA_QUALITY_P2 2.0\n            #define FXAA_QUALITY_P3 2.0\n            #define FXAA_QUALITY_P4 4.0\n            #define FXAA_QUALITY_P5 12.0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_QUALITY_PRESET == 14)\n            #define FXAA_QUALITY_PS 7\n            #define FXAA_QUALITY_P0 1.0\n            #define FXAA_QUALITY_P1 1.5\n            #define FXAA_QUALITY_P2 2.0\n            #define FXAA_QUALITY_P3 2.0\n            #define FXAA_QUALITY_P4 2.0\n            #define FXAA_QUALITY_P5 4.0\n            #define FXAA_QUALITY_P6 12.0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_QUALITY_PRESET == 15)\n            #define FXAA_QUALITY_PS 8\n            #define FXAA_QUALITY_P0 1.0\n            #define FXAA_QUALITY_P1 1.5\n            #define FXAA_QUALITY_P2 2.0\n            #define FXAA_QUALITY_P3 2.0\n            #define FXAA_QUALITY_P4 2.0\n            #define FXAA_QUALITY_P5 2.0\n            #define FXAA_QUALITY_P6 4.0\n            #define FXAA_QUALITY_P7 12.0\n        #endif\n        \n        /*============================================================================\n                            FXAA QUALITY - LOW DITHER PRESETS\n        ============================================================================*/\n        #if (FXAA_QUALITY_PRESET == 20)\n            #define FXAA_QUALITY_PS 3\n            #define FXAA_QUALITY_P0 1.5\n            #define FXAA_QUALITY_P1 2.0\n            #define FXAA_QUALITY_P2 8.0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_QUALITY_PRESET == 21)\n            #define FXAA_QUALITY_PS 4\n            #define FXAA_QUALITY_P0 1.0\n            #define FXAA_QUALITY_P1 1.5\n            #define FXAA_QUALITY_P2 2.0\n            #define FXAA_QUALITY_P3 8.0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_QUALITY_PRESET == 22)\n            #define FXAA_QUALITY_PS 5\n            #define FXAA_QUALITY_P0 1.0\n            #define FXAA_QUALITY_P1 1.5\n            #define FXAA_QUALITY_P2 2.0\n            #define FXAA_QUALITY_P3 2.0\n            #define FXAA_QUALITY_P4 8.0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_QUALITY_PRESET == 23)\n            #define FXAA_QUALITY_PS 6\n            #define FXAA_QUALITY_P0 1.0\n            #define FXAA_QUALITY_P1 1.5\n            #define FXAA_QUALITY_P2 2.0\n            #define FXAA_QUALITY_P3 2.0\n            #define FXAA_QUALITY_P4 2.0\n            #define FXAA_QUALITY_P5 8.0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_QUALITY_PRESET == 24)\n            #define FXAA_QUALITY_PS 7\n            #define FXAA_QUALITY_P0 1.0\n            #define FXAA_QUALITY_P1 1.5\n            #define FXAA_QUALITY_P2 2.0\n            #define FXAA_QUALITY_P3 2.0\n            #define FXAA_QUALITY_P4 2.0\n            #define FXAA_QUALITY_P5 3.0\n            #define FXAA_QUALITY_P6 8.0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_QUALITY_PRESET == 25)\n            #define FXAA_QUALITY_PS 8\n            #define FXAA_QUALITY_P0 1.0\n            #define FXAA_QUALITY_P1 1.5\n            #define FXAA_QUALITY_P2 2.0\n            #define FXAA_QUALITY_P3 2.0\n            #define FXAA_QUALITY_P4 2.0\n            #define FXAA_QUALITY_P5 2.0\n            #define FXAA_QUALITY_P6 4.0\n            #define FXAA_QUALITY_P7 8.0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_QUALITY_PRESET == 26)\n            #define FXAA_QUALITY_PS 9\n            #define FXAA_QUALITY_P0 1.0\n            #define FXAA_QUALITY_P1 1.5\n            #define FXAA_QUALITY_P2 2.0\n            #define FXAA_QUALITY_P3 2.0\n            #define FXAA_QUALITY_P4 2.0\n            #define FXAA_QUALITY_P5 2.0\n            #define FXAA_QUALITY_P6 2.0\n            #define FXAA_QUALITY_P7 4.0\n            #define FXAA_QUALITY_P8 8.0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_QUALITY_PRESET == 27)\n            #define FXAA_QUALITY_PS 10\n            #define FXAA_QUALITY_P0 1.0\n            #define FXAA_QUALITY_P1 1.5\n            #define FXAA_QUALITY_P2 2.0\n            #define FXAA_QUALITY_P3 2.0\n            #define FXAA_QUALITY_P4 2.0\n            #define FXAA_QUALITY_P5 2.0\n            #define FXAA_QUALITY_P6 2.0\n            #define FXAA_QUALITY_P7 2.0\n            #define FXAA_QUALITY_P8 4.0\n            #define FXAA_QUALITY_P9 8.0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_QUALITY_PRESET == 28)\n            #define FXAA_QUALITY_PS 11\n            #define FXAA_QUALITY_P0 1.0\n            #define FXAA_QUALITY_P1 1.5\n            #define FXAA_QUALITY_P2 2.0\n            #define FXAA_QUALITY_P3 2.0\n            #define FXAA_QUALITY_P4 2.0\n            #define FXAA_QUALITY_P5 2.0\n            #define FXAA_QUALITY_P6 2.0\n            #define FXAA_QUALITY_P7 2.0\n            #define FXAA_QUALITY_P8 2.0\n            #define FXAA_QUALITY_P9 4.0\n            #define FXAA_QUALITY_P10 8.0\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_QUALITY_PRESET == 29)\n            #define FXAA_QUALITY_PS 12\n            #define FXAA_QUALITY_P0 1.0\n            #define FXAA_QUALITY_P1 1.5\n            #define FXAA_QUALITY_P2 2.0\n            #define FXAA_QUALITY_P3 2.0\n            #define FXAA_QUALITY_P4 2.0\n            #define FXAA_QUALITY_P5 2.0\n            #define FXAA_QUALITY_P6 2.0\n            #define FXAA_QUALITY_P7 2.0\n            #define FXAA_QUALITY_P8 2.0\n            #define FXAA_QUALITY_P9 2.0\n            #define FXAA_QUALITY_P10 4.0\n            #define FXAA_QUALITY_P11 8.0\n        #endif\n        \n        /*============================================================================\n                            FXAA QUALITY - EXTREME QUALITY\n        ============================================================================*/\n        #if (FXAA_QUALITY_PRESET == 39)\n            #define FXAA_QUALITY_PS 12\n            #define FXAA_QUALITY_P0 1.0\n            #define FXAA_QUALITY_P1 1.0\n            #define FXAA_QUALITY_P2 1.0\n            #define FXAA_QUALITY_P3 1.0\n            #define FXAA_QUALITY_P4 1.0\n            #define FXAA_QUALITY_P5 1.5\n            #define FXAA_QUALITY_P6 2.0\n            #define FXAA_QUALITY_P7 2.0\n            #define FXAA_QUALITY_P8 2.0\n            #define FXAA_QUALITY_P9 2.0\n            #define FXAA_QUALITY_P10 4.0\n            #define FXAA_QUALITY_P11 8.0\n        #endif\n        \n        \n        \n        /*============================================================================\n        \n                                        API PORTING\n        \n        ============================================================================*/\n        #if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)\n            #define FxaaBool bool\n            #define FxaaDiscard discard\n            #define FxaaFloat float\n            #define FxaaFloat2 vec2\n            #define FxaaFloat3 vec3\n            #define FxaaFloat4 vec4\n            #define FxaaHalf float\n            #define FxaaHalf2 vec2\n            #define FxaaHalf3 vec3\n            #define FxaaHalf4 vec4\n            #define FxaaInt2 ivec2\n            #define FxaaSat(x) clamp(x, 0.0, 1.0)\n            #define FxaaTex sampler2D\n        #else\n            #define FxaaBool bool\n            #define FxaaDiscard clip(-1)\n            #define FxaaFloat float\n            #define FxaaFloat2 float2\n            #define FxaaFloat3 float3\n            #define FxaaFloat4 float4\n            #define FxaaHalf half\n            #define FxaaHalf2 half2\n            #define FxaaHalf3 half3\n            #define FxaaHalf4 half4\n            #define FxaaSat(x) saturate(x)\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_GLSL_100 == 1)\n        #define FxaaTexTop(t, p) texture2D(t, p, 0.0)\n        #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_GLSL_120 == 1)\n            // Requires,\n            //  #version 120\n            // And at least,\n            //  #extension GL_EXT_gpu_shader4 : enable\n            //  (or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)\n            #define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)\n            #if (FXAA_FAST_PIXEL_OFFSET == 1)\n                #define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)\n            #else\n                #define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)\n            #endif\n            #if (FXAA_GATHER4_ALPHA == 1)\n                // use #extension GL_ARB_gpu_shader5 : enable\n                #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)\n                #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)\n                #define FxaaTexGreen4(t, p) textureGather(t, p, 1)\n                #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)\n            #endif\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_GLSL_130 == 1)\n            // Requires '#version 130' or better\n            #define FxaaTexTop(t, p) textureLod(t, p, 0.0)\n            #define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)\n            #if (FXAA_GATHER4_ALPHA == 1)\n                // use #extension GL_ARB_gpu_shader5 : enable\n                #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)\n                #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)\n                #define FxaaTexGreen4(t, p) textureGather(t, p, 1)\n                #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)\n            #endif\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_HLSL_3 == 1)\n            #define FxaaInt2 float2\n            #define FxaaTex sampler2D\n            #define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))\n            #define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_HLSL_4 == 1)\n            #define FxaaInt2 int2\n            struct FxaaTex { SamplerState smpl; Texture2D tex; };\n            #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)\n            #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)\n        #endif\n        /*--------------------------------------------------------------------------*/\n        #if (FXAA_HLSL_5 == 1)\n            #define FxaaInt2 int2\n            struct FxaaTex { SamplerState smpl; Texture2D tex; };\n            #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)\n            #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)\n            #define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)\n            #define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)\n            #define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)\n            #define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)\n        #endif\n        \n        \n        /*============================================================================\n                        GREEN AS LUMA OPTION SUPPORT FUNCTION\n        ============================================================================*/\n        #if (FXAA_GREEN_AS_LUMA == 0)\n            FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }\n        #else\n            FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }\n        #endif\n        \n        \n        \n        \n        /*============================================================================\n        \n                                    FXAA3 QUALITY - PC\n        \n        ============================================================================*/\n        #if (FXAA_PC == 1)\n        /*--------------------------------------------------------------------------*/\n        FxaaFloat4 FxaaPixelShader(\n            //\n            // Use noperspective interpolation here (turn off perspective interpolation).\n            // {xy} = center of pixel\n            FxaaFloat2 pos,\n            //\n            // Used only for FXAA Console, and not used on the 360 version.\n            // Use noperspective interpolation here (turn off perspective interpolation).\n            // {xy_} = upper left of pixel\n            // {_zw} = lower right of pixel\n            FxaaFloat4 fxaaConsolePosPos,\n            //\n            // Input color texture.\n            // {rgb_} = color in linear or perceptual color space\n            // if (FXAA_GREEN_AS_LUMA == 0)\n            //     {__a} = luma in perceptual color space (not linear)\n            FxaaTex tex,\n            //\n            // Only used on the optimized 360 version of FXAA Console.\n            // For everything but 360, just use the same input here as for 'tex'.\n            // For 360, same diffuseMap, just alias with a 2nd sampler.\n            // This sampler needs to have an exponent bias of -1.\n            FxaaTex fxaaConsole360TexExpBiasNegOne,\n            //\n            // Only used on the optimized 360 version of FXAA Console.\n            // For everything but 360, just use the same input here as for 'tex'.\n            // For 360, same diffuseMap, just alias with a 3nd sampler.\n            // This sampler needs to have an exponent bias of -2.\n            FxaaTex fxaaConsole360TexExpBiasNegTwo,\n            //\n            // Only used on FXAA Quality.\n            // This must be from a constant/uniform.\n            // {x_} = 1.0/screenWidthInPixels\n            // {_y} = 1.0/screenHeightInPixels\n            FxaaFloat2 fxaaQualityRcpFrame,\n            //\n            // Only used on FXAA Console.\n            // This must be from a constant/uniform.\n            // This effects sub-pixel AA quality and inversely sharpness.\n            //   Where N ranges between,\n            //     N = 0.50 (default)\n            //     N = 0.33 (sharper)\n            // {x__} = -N/screenWidthInPixels\n            // {_y_} = -N/screenHeightInPixels\n            // {_z_} =  N/screenWidthInPixels\n            // {__w} =  N/screenHeightInPixels\n            FxaaFloat4 fxaaConsoleRcpFrameOpt,\n            //\n            // Only used on FXAA Console.\n            // Not used on 360, but used on PS3 and PC.\n            // This must be from a constant/uniform.\n            // {x__} = -2.0/screenWidthInPixels\n            // {_y_} = -2.0/screenHeightInPixels\n            // {_z_} =  2.0/screenWidthInPixels\n            // {__w} =  2.0/screenHeightInPixels\n            FxaaFloat4 fxaaConsoleRcpFrameOpt2,\n            //\n            // Only used on FXAA Console.\n            // Only used on 360 in place of fxaaConsoleRcpFrameOpt2.\n            // This must be from a constant/uniform.\n            // {x__} =  8.0/screenWidthInPixels\n            // {_y_} =  8.0/screenHeightInPixels\n            // {_z_} = -4.0/screenWidthInPixels\n            // {__w} = -4.0/screenHeightInPixels\n            FxaaFloat4 fxaaConsole360RcpFrameOpt2,\n            //\n            // Only used on FXAA Quality.\n            // This used to be the FXAA_QUALITY_SUBPIX define.\n            // It is here now to allow easier tuning.\n            // Choose the amount of sub-pixel aliasing removal.\n            // This can effect sharpness.\n            //   1.00 - upper limit (softer)\n            //   0.75 - default amount of filtering\n            //   0.50 - lower limit (sharper, less sub-pixel aliasing removal)\n            //   0.25 - almost off\n            //   0.00 - completely off\n            FxaaFloat fxaaQualitySubpix,\n            //\n            // Only used on FXAA Quality.\n            // This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.\n            // It is here now to allow easier tuning.\n            // The minimum amount of local contrast required to apply algorithm.\n            //   0.333 - too little (faster)\n            //   0.250 - low quality\n            //   0.166 - default\n            //   0.125 - high quality\n            //   0.063 - overkill (slower)\n            FxaaFloat fxaaQualityEdgeThreshold,\n            //\n            // Only used on FXAA Quality.\n            // This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.\n            // It is here now to allow easier tuning.\n            // Trims the algorithm from processing darks.\n            //   0.0833 - upper limit (default, the start of visible unfiltered edges)\n            //   0.0625 - high quality (faster)\n            //   0.0312 - visible limit (slower)\n            // Special notes when using FXAA_GREEN_AS_LUMA,\n            //   Likely want to set this to zero.\n            //   As colors that are mostly not-green\n            //   will appear very dark in the green channel!\n            //   Tune by looking at mostly non-green content,\n            //   then start at zero and increase until aliasing is a problem.\n            FxaaFloat fxaaQualityEdgeThresholdMin,\n            //\n            // Only used on FXAA Console.\n            // This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.\n            // It is here now to allow easier tuning.\n            // This does not effect PS3, as this needs to be compiled in.\n            //   Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.\n            //   Due to the PS3 being ALU bound,\n            //   there are only three safe values here: 2 and 4 and 8.\n            //   These options use the shaders ability to a free *|/ by 2|4|8.\n            // For all other platforms can be a non-power of two.\n            //   8.0 is sharper (default!!!)\n            //   4.0 is softer\n            //   2.0 is really soft (good only for vector graphics inputs)\n            FxaaFloat fxaaConsoleEdgeSharpness,\n            //\n            // Only used on FXAA Console.\n            // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.\n            // It is here now to allow easier tuning.\n            // This does not effect PS3, as this needs to be compiled in.\n            //   Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.\n            //   Due to the PS3 being ALU bound,\n            //   there are only two safe values here: 1/4 and 1/8.\n            //   These options use the shaders ability to a free *|/ by 2|4|8.\n            // The console setting has a different mapping than the quality setting.\n            // Other platforms can use other values.\n            //   0.125 leaves less aliasing, but is softer (default!!!)\n            //   0.25 leaves more aliasing, and is sharper\n            FxaaFloat fxaaConsoleEdgeThreshold,\n            //\n            // Only used on FXAA Console.\n            // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.\n            // It is here now to allow easier tuning.\n            // Trims the algorithm from processing darks.\n            // The console setting has a different mapping than the quality setting.\n            // This only applies when FXAA_EARLY_EXIT is 1.\n            // This does not apply to PS3,\n            // PS3 was simplified to avoid more shader instructions.\n            //   0.06 - faster but more aliasing in darks\n            //   0.05 - default\n            //   0.04 - slower and less aliasing in darks\n            // Special notes when using FXAA_GREEN_AS_LUMA,\n            //   Likely want to set this to zero.\n            //   As colors that are mostly not-green\n            //   will appear very dark in the green channel!\n            //   Tune by looking at mostly non-green content,\n            //   then start at zero and increase until aliasing is a problem.\n            FxaaFloat fxaaConsoleEdgeThresholdMin,\n            //\n            // Extra constants for 360 FXAA Console only.\n            // Use zeros or anything else for other platforms.\n            // These must be in physical constant registers and NOT immedates.\n            // Immedates will result in compiler un-optimizing.\n            // {xyzw} = float4(1.0, -1.0, 0.25, -0.25)\n            FxaaFloat4 fxaaConsole360ConstDir\n        ) {\n        /*--------------------------------------------------------------------------*/\n            FxaaFloat2 posM;\n            posM.x = pos.x;\n            posM.y = pos.y;\n            #if (FXAA_GATHER4_ALPHA == 1)\n                #if (FXAA_DISCARD == 0)\n                    FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\n                    #if (FXAA_GREEN_AS_LUMA == 0)\n                        #define lumaM rgbyM.w\n                    #else\n                        #define lumaM rgbyM.y\n                    #endif\n                #endif\n                #if (FXAA_GREEN_AS_LUMA == 0)\n                    FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);\n                    FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));\n                #else\n                    FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);\n                    FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));\n                #endif\n                #if (FXAA_DISCARD == 1)\n                    #define lumaM luma4A.w\n                #endif\n                #define lumaE luma4A.z\n                #define lumaS luma4A.x\n                #define lumaSE luma4A.y\n                #define lumaNW luma4B.w\n                #define lumaN luma4B.z\n                #define lumaW luma4B.x\n            #else\n                FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\n                #if (FXAA_GREEN_AS_LUMA == 0)\n                    #define lumaM rgbyM.w\n                #else\n                    #define lumaM rgbyM.y\n                #endif\n                #if (FXAA_GLSL_100 == 1)\n                FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));\n                FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));\n                FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));\n                FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));\n                #else\n                FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));\n                FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));\n                FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));\n                FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));\n                #endif\n            #endif\n        /*--------------------------------------------------------------------------*/\n            FxaaFloat maxSM = max(lumaS, lumaM);\n            FxaaFloat minSM = min(lumaS, lumaM);\n            FxaaFloat maxESM = max(lumaE, maxSM);\n            FxaaFloat minESM = min(lumaE, minSM);\n            FxaaFloat maxWN = max(lumaN, lumaW);\n            FxaaFloat minWN = min(lumaN, lumaW);\n            FxaaFloat rangeMax = max(maxWN, maxESM);\n            FxaaFloat rangeMin = min(minWN, minESM);\n            FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;\n            FxaaFloat range = rangeMax - rangeMin;\n            FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);\n            FxaaBool earlyExit = range < rangeMaxClamped;\n        /*--------------------------------------------------------------------------*/\n            if(earlyExit)\n                #if (FXAA_DISCARD == 1)\n                    FxaaDiscard;\n                #else\n                    return rgbyM;\n                #endif\n        /*--------------------------------------------------------------------------*/\n            #if (FXAA_GATHER4_ALPHA == 0)\n                #if (FXAA_GLSL_100 == 1)\n                FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));\n                FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));\n                FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));\n                FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));\n                #else\n                FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));\n                FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));\n                FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));\n                FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\n                #endif\n            #else\n                FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));\n                FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\n            #endif\n        /*--------------------------------------------------------------------------*/\n            FxaaFloat lumaNS = lumaN + lumaS;\n            FxaaFloat lumaWE = lumaW + lumaE;\n            FxaaFloat subpixRcpRange = 1.0/range;\n            FxaaFloat subpixNSWE = lumaNS + lumaWE;\n            FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;\n            FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;\n        /*--------------------------------------------------------------------------*/\n            FxaaFloat lumaNESE = lumaNE + lumaSE;\n            FxaaFloat lumaNWNE = lumaNW + lumaNE;\n            FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;\n            FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;\n        /*--------------------------------------------------------------------------*/\n            FxaaFloat lumaNWSW = lumaNW + lumaSW;\n            FxaaFloat lumaSWSE = lumaSW + lumaSE;\n            FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);\n            FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);\n            FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;\n            FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;\n            FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;\n            FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;\n        /*--------------------------------------------------------------------------*/\n            FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;\n            FxaaFloat lengthSign = fxaaQualityRcpFrame.x;\n            FxaaBool horzSpan = edgeHorz >= edgeVert;\n            FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;\n        /*--------------------------------------------------------------------------*/\n            if(!horzSpan) lumaN = lumaW;\n            if(!horzSpan) lumaS = lumaE;\n            if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;\n            FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;\n        /*--------------------------------------------------------------------------*/\n            FxaaFloat gradientN = lumaN - lumaM;\n            FxaaFloat gradientS = lumaS - lumaM;\n            FxaaFloat lumaNN = lumaN + lumaM;\n            FxaaFloat lumaSS = lumaS + lumaM;\n            FxaaBool pairN = abs(gradientN) >= abs(gradientS);\n            FxaaFloat gradient = max(abs(gradientN), abs(gradientS));\n            if(pairN) lengthSign = -lengthSign;\n            FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);\n        /*--------------------------------------------------------------------------*/\n            FxaaFloat2 posB;\n            posB.x = posM.x;\n            posB.y = posM.y;\n            FxaaFloat2 offNP;\n            offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;\n            offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;\n            if(!horzSpan) posB.x += lengthSign * 0.5;\n            if( horzSpan) posB.y += lengthSign * 0.5;\n        /*--------------------------------------------------------------------------*/\n            FxaaFloat2 posN;\n            posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;\n            posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;\n            FxaaFloat2 posP;\n            posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;\n            posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;\n            FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;\n            FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));\n            FxaaFloat subpixE = subpixC * subpixC;\n            FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));\n        /*--------------------------------------------------------------------------*/\n            if(!pairN) lumaNN = lumaSS;\n            FxaaFloat gradientScaled = gradient * 1.0/4.0;\n            FxaaFloat lumaMM = lumaM - lumaNN * 0.5;\n            FxaaFloat subpixF = subpixD * subpixE;\n            FxaaBool lumaMLTZero = lumaMM < 0.0;\n        /*--------------------------------------------------------------------------*/\n            lumaEndN -= lumaNN * 0.5;\n            lumaEndP -= lumaNN * 0.5;\n            FxaaBool doneN = abs(lumaEndN) >= gradientScaled;\n            FxaaBool doneP = abs(lumaEndP) >= gradientScaled;\n            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;\n            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;\n            FxaaBool doneNP = (!doneN) || (!doneP);\n            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;\n            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;\n        /*--------------------------------------------------------------------------*/\n            if(doneNP) {\n                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                doneN = abs(lumaEndN) >= gradientScaled;\n                doneP = abs(lumaEndP) >= gradientScaled;\n                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;\n                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;\n                doneNP = (!doneN) || (!doneP);\n                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;\n                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;\n        /*--------------------------------------------------------------------------*/\n                #if (FXAA_QUALITY_PS > 3)\n                if(doneNP) {\n                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                    doneN = abs(lumaEndN) >= gradientScaled;\n                    doneP = abs(lumaEndP) >= gradientScaled;\n                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;\n                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;\n                    doneNP = (!doneN) || (!doneP);\n                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;\n                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;\n        /*--------------------------------------------------------------------------*/\n                    #if (FXAA_QUALITY_PS > 4)\n                    if(doneNP) {\n                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                        doneN = abs(lumaEndN) >= gradientScaled;\n                        doneP = abs(lumaEndP) >= gradientScaled;\n                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;\n                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;\n                        doneNP = (!doneN) || (!doneP);\n                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;\n                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;\n        /*--------------------------------------------------------------------------*/\n                        #if (FXAA_QUALITY_PS > 5)\n                        if(doneNP) {\n                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                            doneN = abs(lumaEndN) >= gradientScaled;\n                            doneP = abs(lumaEndP) >= gradientScaled;\n                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;\n                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;\n                            doneNP = (!doneN) || (!doneP);\n                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;\n                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;\n        /*--------------------------------------------------------------------------*/\n                            #if (FXAA_QUALITY_PS > 6)\n                            if(doneNP) {\n                                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                                doneN = abs(lumaEndN) >= gradientScaled;\n                                doneP = abs(lumaEndP) >= gradientScaled;\n                                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;\n                                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;\n                                doneNP = (!doneN) || (!doneP);\n                                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;\n                                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;\n        /*--------------------------------------------------------------------------*/\n                                #if (FXAA_QUALITY_PS > 7)\n                                if(doneNP) {\n                                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                                    doneN = abs(lumaEndN) >= gradientScaled;\n                                    doneP = abs(lumaEndP) >= gradientScaled;\n                                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;\n                                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;\n                                    doneNP = (!doneN) || (!doneP);\n                                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;\n                                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;\n        /*--------------------------------------------------------------------------*/\n            #if (FXAA_QUALITY_PS > 8)\n            if(doneNP) {\n                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                doneN = abs(lumaEndN) >= gradientScaled;\n                doneP = abs(lumaEndP) >= gradientScaled;\n                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;\n                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;\n                doneNP = (!doneN) || (!doneP);\n                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;\n                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;\n        /*--------------------------------------------------------------------------*/\n                #if (FXAA_QUALITY_PS > 9)\n                if(doneNP) {\n                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                    doneN = abs(lumaEndN) >= gradientScaled;\n                    doneP = abs(lumaEndP) >= gradientScaled;\n                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;\n                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;\n                    doneNP = (!doneN) || (!doneP);\n                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;\n                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;\n        /*--------------------------------------------------------------------------*/\n                    #if (FXAA_QUALITY_PS > 10)\n                    if(doneNP) {\n                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                        doneN = abs(lumaEndN) >= gradientScaled;\n                        doneP = abs(lumaEndP) >= gradientScaled;\n                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;\n                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;\n                        doneNP = (!doneN) || (!doneP);\n                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;\n                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;\n        /*--------------------------------------------------------------------------*/\n                        #if (FXAA_QUALITY_PS > 11)\n                        if(doneNP) {\n                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                            doneN = abs(lumaEndN) >= gradientScaled;\n                            doneP = abs(lumaEndP) >= gradientScaled;\n                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;\n                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;\n                            doneNP = (!doneN) || (!doneP);\n                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;\n                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;\n        /*--------------------------------------------------------------------------*/\n                            #if (FXAA_QUALITY_PS > 12)\n                            if(doneNP) {\n                                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                                doneN = abs(lumaEndN) >= gradientScaled;\n                                doneP = abs(lumaEndP) >= gradientScaled;\n                                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;\n                                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;\n                                doneNP = (!doneN) || (!doneP);\n                                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;\n                                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;\n        /*--------------------------------------------------------------------------*/\n                            }\n                            #endif\n        /*--------------------------------------------------------------------------*/\n                        }\n                        #endif\n        /*--------------------------------------------------------------------------*/\n                    }\n                    #endif\n        /*--------------------------------------------------------------------------*/\n                }\n                #endif\n        /*--------------------------------------------------------------------------*/\n            }\n            #endif\n        /*--------------------------------------------------------------------------*/\n                                }\n                                #endif\n        /*--------------------------------------------------------------------------*/\n                            }\n                            #endif\n        /*--------------------------------------------------------------------------*/\n                        }\n                        #endif\n        /*--------------------------------------------------------------------------*/\n                    }\n                    #endif\n        /*--------------------------------------------------------------------------*/\n                }\n                #endif\n        /*--------------------------------------------------------------------------*/\n            }\n        /*--------------------------------------------------------------------------*/\n            FxaaFloat dstN = posM.x - posN.x;\n            FxaaFloat dstP = posP.x - posM.x;\n            if(!horzSpan) dstN = posM.y - posN.y;\n            if(!horzSpan) dstP = posP.y - posM.y;\n        /*--------------------------------------------------------------------------*/\n            FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;\n            FxaaFloat spanLength = (dstP + dstN);\n            FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;\n            FxaaFloat spanLengthRcp = 1.0/spanLength;\n        /*--------------------------------------------------------------------------*/\n            FxaaBool directionN = dstN < dstP;\n            FxaaFloat dst = min(dstN, dstP);\n            FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;\n            FxaaFloat subpixG = subpixF * subpixF;\n            FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;\n            FxaaFloat subpixH = subpixG * fxaaQualitySubpix;\n        /*--------------------------------------------------------------------------*/\n            FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;\n            FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);\n            if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;\n            if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;\n            #if (FXAA_DISCARD == 1)\n                return FxaaTexTop(tex, posM);\n            #else\n                return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);\n            #endif\n        }\n        /*==========================================================================*/\n        #endif\n        \n        void main() {\n        gl_FragColor = FxaaPixelShader(\n            v_Uv,\n            vec4(0.0),\n            tDiffuse,\n            tDiffuse,\n            tDiffuse,\n            resolution,\n            vec4(0.0),\n            vec4(0.0),\n            vec4(0.0),\n            0.75,\n            0.166,\n            0.0833,\n            0.0,\n            0.0,\n            0.0,\n            vec4(0.0)\n        );\n        \n        // TODO avoid querying texture twice for same texel\n        gl_FragColor.a = texture2D(tDiffuse, v_Uv).a;\n        }\n    "};class we extends J{constructor(){super(),this.bufferDependencies=[{key:"GBuffer"}],this._ssaoPass=new e.ShaderPostPass(Me),this.radius=.5,this.power=1,this.bias=.1,this.intensity=1,this.quality="Medium",this._kernelCode="",this._kernelSize=-1,this._setNoiseSize(64),this._setKernelSize(16),this._blurPass=new e.ShaderPostPass(te),this._blurPass.material.defines.NORMALTEX_ENABLED=1,this._blurPass.material.defines.DEPTHTEX_ENABLED=1,this.blurSize=1,this.depthRange=1,this._blendPass=new e.ShaderPostPass(re),this._blendPass.material.premultipliedAlpha=!0}render(t,n,r,a,i){const o=n._renderTargetCache.allocate(0),s=n._renderTargetCache.allocate(0),l=n.getBuffer("GBuffer"),u=l.getCurrentRenderStates();Te.copy(u.camera.projectionMatrix),Ee.copy(u.camera.projectionMatrix).inverse(),Pe.copy(u.camera.viewMatrix).inverse().transpose(),t.renderPass.setRenderTarget(o),t.renderPass.setClearColor(1,1,1,1),t.renderPass.clear(!0,!0,!1),this._ssaoPass.uniforms.normalTex=l.output()._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0],this._ssaoPass.uniforms.depthTex=l.output()._attachments[e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT],this._ssaoPass.uniforms.texSize[0]=l.output().width,this._ssaoPass.uniforms.texSize[1]=l.output().height,Te.toArray(this._ssaoPass.uniforms.projection),Ee.toArray(this._ssaoPass.uniforms.projectionInv),Pe.toArray(this._ssaoPass.uniforms.viewInverseTranspose),this._setKernelSize(Se[this.quality]),this._ssaoPass.uniforms.radius=this.radius,this._ssaoPass.uniforms.power=this.power,this._ssaoPass.uniforms.bias=this.bias,this._ssaoPass.uniforms.intensity=this.intensity,this._ssaoPass.render(t),t.renderPass.setRenderTarget(s),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._blurPass.uniforms.normalTex=l.output()._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0],this._blurPass.uniforms.depthTex=l.output()._attachments[e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT],this._blurPass.uniforms.textureSize[0]=l.output().width,this._blurPass.uniforms.textureSize[1]=l.output().height,Te.toArray(this._blurPass.uniforms.projection),Pe.toArray(this._blurPass.uniforms.viewInverseTranspose),this._blurPass.uniforms.blurSize=this.blurSize,this._blurPass.uniforms.depthRange=this.depthRange,this._blurPass.uniforms.direction=0,this._blurPass.uniforms.tDiffuse=o.texture,this._blurPass.render(t),t.renderPass.setRenderTarget(r?o:a),t.renderPass.clear(!0,!0,!1),this._blurPass.uniforms.direction=1,this._blurPass.uniforms.tDiffuse=s.texture,this._blurPass.render(t),r&&(t.renderPass.setRenderTarget(a),t.renderPass.setClearColor(0,0,0,0),i?t.renderPass.clear(n.clearColor,n.clearDepth,n.clearStencil):t.renderPass.clear(!0,!0,!1),this._blendPass.uniforms.texture1=r.texture,this._blendPass.uniforms.texture2=o.texture,i&&(this._blendPass.material.transparent=n._tempClearColor[3]<1||!n.clearColor,this._blendPass.renderStates.camera.rect.fromArray(n._tempViewport)),this._blendPass.render(t),i&&(this._blendPass.material.transparent=!1,this._blendPass.renderStates.camera.rect.set(0,0,1,1))),n._renderTargetCache.release(o,0),n._renderTargetCache.release(s,0)}_setKernelSize(e,t=0){const n=e+"_"+t;this._kernelCode!==n&&(this._kernelCode=n,Ne[n]||(Ne[n]=function(e,t=0){const n=new Float32Array(3*e);for(let r=0;r<e;r++){const e=Ce(r+t,2)*Math.PI*2,a=1-(.85*Ce(r+t,3)+.15),i=Math.sqrt(1-a*a),o=Math.random(),s=Math.cos(e)*i*o,l=Math.sin(e)*i*o,u=a*o;n[3*r]=s,n[3*r+1]=l,n[3*r+2]=u}return n}(e,t*e)),this._ssaoPass.uniforms.kernel=Ne[n],this._ssaoPass.material.defines.KERNEL_SIZE=e,this._ssaoPass.material.needsUpdate=!0)}_setNoiseSize(t){if(this._noiseSize===t)return;this._noiseSize=t;const n=this._ssaoPass.uniforms;n.noiseTex?(n.noiseTex.image.data=Ie(t),n.noiseTex.image.width=t,n.noiseTex.image.height=t,n.noiseTex.version++):n.noiseTex=function(t){const n=new e.Texture2D;return n.image={data:Ie(t),width:t,height:t},n.type=e.PIXEL_TYPE.UNSIGNED_BYTE,n.magFilter=e.TEXTURE_FILTER.NEAREST,n.minFilter=e.TEXTURE_FILTER.NEAREST,n.wrapS=e.TEXTURE_WRAP.REPEAT,n.wrapT=e.TEXTURE_WRAP.REPEAT,n.generateMipmaps=!1,n.flipY=!1,n.version++,n}(t),n.noiseTexSize[0]=t,n.noiseTexSize[1]=t}}const Te=new e.Matrix4,Ee=new e.Matrix4,Pe=new e.Matrix4,Se={Low:6,Medium:12,High:32,Ultra:64};function Ce(e,t){let n=0,r=1/t,a=e;for(;a>0;)n+=r*(a%t),a=Math.floor(a/t),r/=t;return n}const Ne={};function Ie(t){const n=new Uint8Array(t*t*4);let r=0;const a=new e.Vector3;for(let e=0;e<t;e++)for(let e=0;e<t;e++)a.set(2*Math.random()-1,2*Math.random()-1,0).normalize(),n[r++]=255*(.5*a.x+.5),n[r++]=255*(.5*a.y+.5),n[r++]=0,n[r++]=255;return n}const Me={name:"ec_ssao",defines:{ALCHEMY:!1,DEPTH_PACKING:0,KERNEL_SIZE:64},uniforms:{normalTex:null,depthTex:null,texSize:[512,512],noiseTex:null,noiseTexSize:[4,4],projection:new Float32Array(16),projectionInv:new Float32Array(16),viewInverseTranspose:new Float32Array(16),kernel:null,radius:.2,power:1,bias:1e-4,intensity:1},vertexShader:ee,fragmentShader:"\n        #include <packing>\n\n        varying vec2 v_Uv;\n\n        uniform sampler2D normalTex;\n        uniform sampler2D depthTex;\n        uniform vec2 texSize;\n\n        uniform sampler2D noiseTex;\n        uniform vec2 noiseTexSize;\n\n        uniform mat4 projection;\n        uniform mat4 projectionInv;\n        uniform mat4 viewInverseTranspose;\n\n        uniform vec3 kernel[KERNEL_SIZE];\n\n        uniform float radius;\n        uniform float power;\n        uniform float bias;\n        uniform float intensity;\n\n        float getDepth(const in vec2 screenPosition) {\n            #if DEPTH_PACKING == 1\n                return unpackRGBAToDepth(texture2D(depthTex, screenPosition));\n            #else\n                return texture2D(depthTex, screenPosition).r;\n            #endif\n        }\n\n        vec3 getViewNormal(const in vec2 screenPosition) {\n            vec3 normal = texture2D(normalTex, screenPosition).xyz * 2.0 - 1.0;\n            // Convert to view space\n            return (viewInverseTranspose * vec4(normal, 0.0)).xyz;\n        }\n\n        float ssaoEstimator(in mat3 kernelBasis, in vec3 originPos, in vec3 N) {\n            float occlusion = 0.0;\n\n            for (int i = 0; i < KERNEL_SIZE; i++) {\n                vec3 samplePos = kernel[i];\n                samplePos = kernelBasis * samplePos;\n                samplePos = samplePos * radius + originPos;\n\n                vec4 texCoord = projection * vec4(samplePos, 1.0);\n                texCoord.xy /= texCoord.w;\n                texCoord.xy = texCoord.xy * 0.5 + 0.5;\n\n                float sampleDepth = getDepth(texCoord.xy);\n                float z = sampleDepth * 2.0 - 1.0;\n\n                #ifdef ALCHEMY\n                    vec4 projectedPos = vec4(texCoord.xy * 2.0 - 1.0, z, 1.0);\n                    vec4 p4 = projectionInv * projectedPos;\n                    p4.xyz /= p4.w;\n\n                    vec3 cDir = p4.xyz - originPos;\n\n                    float vv = dot(cDir, cDir);\n                    float vn = dot(cDir, N);\n\n                    float radius2 = radius * radius;\n                    vn = max(vn + p4.z * bias, 0.0);\n                    float f = max(radius2 - vv, 0.0) / radius2;\n                    occlusion += f * f * f * max(vn / (0.01 + vv), 0.0);\n                #else\n                    if (projection[3][3] == 0.0) {\n                        z = projection[3][2] / (z * projection[2][3] - projection[2][2]);\n                    } else {\n                        z = (z - projection[3][2]) / projection[2][2];\n                    }\n\n                    float factor = step(samplePos.z, z - bias);\n                    float rangeCheck = smoothstep(0.0, 1.0, radius / abs(originPos.z - z));\n                    occlusion += rangeCheck * factor;\n                #endif\n            }\n\n            occlusion = 1.0 - occlusion / float(KERNEL_SIZE);\n\n            return pow(occlusion, power);\n        }\n\n        void main() {\n            float centerDepth = getDepth(v_Uv);\n            if(centerDepth >= (1.0 - EPSILON)) {\n                discard;\n            }\n\n            vec3 N = getViewNormal(v_Uv);\n\n            vec2 noiseTexCoord = texSize / vec2(noiseTexSize) * v_Uv;\n            vec3 rvec = texture2D(noiseTex, noiseTexCoord).rgb * 2.0 - 1.0;\n\n            // Tangent\n            vec3 T = normalize(rvec - N * dot(rvec, N));\n            // Bitangent\n            vec3 BT = normalize(cross(N, T));\n\n            mat3 kernelBasis = mat3(T, BT, N);\n\n            // view position\n            float z = centerDepth * 2.0 - 1.0;\n            vec4 projectedPos = vec4(v_Uv * 2.0 - 1.0, z, 1.0);\n            vec4 p4 = projectionInv * projectedPos;\n            vec3 position = p4.xyz / p4.w;\n\n            float ao = ssaoEstimator(kernelBasis, position, N);\n            ao = clamp(1.0 - (1.0 - ao) * intensity, 0.0, 1.0);\n\n            gl_FragColor = vec4(vec3(ao), 1.0);\n        }\n    "};class Fe extends J{constructor(){super(),this.bufferDependencies=[{key:"SceneBuffer"},{key:"GBuffer"}],this._ssrPass=new e.ShaderPostPass($e),this.maxRayDistance=200,this.pixelStride=16,this.pixelStrideZCutoff=50,this.screenEdgeFadeStart=.9,this.eyeFadeStart=.4,this.eyeFadeEnd=.8,this.minGlossiness=.2,this._blurPass=new e.ShaderPostPass(te),this._blurPass.material.defines.NORMALTEX_ENABLED=1,this._blurPass.material.defines.DEPTHTEX_ENABLED=1,this.blurSize=2,this.depthRange=1,this._blendPass=new e.ShaderPostPass(ne),this._blendPass.material.premultipliedAlpha=!0}render(t,n,r,a,i){const o=n._renderTargetCache.allocate(0),s=n._renderTargetCache.allocate(0),l=n.getBuffer("SceneBuffer"),u=n.getBuffer("GBuffer"),c=u.getCurrentRenderStates();Le.copy(c.camera.projectionMatrix),Re.copy(c.camera.projectionMatrix).inverse(),ke.copy(c.camera.viewMatrix).inverse().transpose(),t.renderPass.setRenderTarget(o),t.renderPass.setClearColor(0,0,0,1),t.renderPass.clear(!0,!0,!1),this._ssrPass.uniforms.colorTex=l.output()._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0],this._ssrPass.uniforms.gBufferTexture1=u.output()._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0],this._ssrPass.uniforms.gBufferTexture2=u.output()._attachments[e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT],this._ssrPass.uniforms.viewportSize[0]=u.output().width,this._ssrPass.uniforms.viewportSize[1]=u.output().height,Le.toArray(this._ssrPass.uniforms.projection),Re.toArray(this._ssrPass.uniforms.projectionInv),ke.toArray(this._ssrPass.uniforms.viewInverseTranspose),this._ssrPass.uniforms.maxRayDistance=this.maxRayDistance,this._ssrPass.uniforms.pixelStride=this.pixelStride,this._ssrPass.uniforms.pixelStrideZCutoff=this.pixelStrideZCutoff,this._ssrPass.uniforms.screenEdgeFadeStart=this.screenEdgeFadeStart,this._ssrPass.uniforms.eyeFadeStart=this.eyeFadeStart,this._ssrPass.uniforms.eyeFadeEnd=this.eyeFadeEnd,this._ssrPass.uniforms.minGlossiness=this.minGlossiness,this._ssrPass.render(t),t.renderPass.setRenderTarget(s),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._blurPass.uniforms.normalTex=u.output()._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0],this._blurPass.uniforms.depthTex=u.output()._attachments[e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT],this._blurPass.uniforms.textureSize[0]=u.output().width,this._blurPass.uniforms.textureSize[1]=u.output().height,Le.toArray(this._blurPass.uniforms.projection),ke.toArray(this._blurPass.uniforms.viewInverseTranspose),this._blurPass.uniforms.blurSize=this.blurSize,this._blurPass.uniforms.depthRange=this.depthRange,this._blurPass.uniforms.direction=0,this._blurPass.uniforms.tDiffuse=o.texture,this._blurPass.render(t),t.renderPass.setRenderTarget(r?o:a),t.renderPass.clear(!0,!0,!1),this._blurPass.uniforms.direction=1,this._blurPass.uniforms.tDiffuse=s.texture,this._blurPass.render(t),r&&(t.renderPass.setRenderTarget(a),t.renderPass.setClearColor(0,0,0,0),i?t.renderPass.clear(n.clearColor,n.clearDepth,n.clearStencil):t.renderPass.clear(!0,!0,!1),this._blendPass.uniforms.texture1=r.texture,this._blendPass.uniforms.texture2=o.texture,this._blendPass.uniforms.colorWeight1=1,this._blendPass.uniforms.alphaWeight1=1,this._blendPass.uniforms.colorWeight2=1,this._blendPass.uniforms.alphaWeight2=0,i&&(this._blendPass.material.transparent=n._tempClearColor[3]<1||!n.clearColor,this._blendPass.renderStates.camera.rect.fromArray(n._tempViewport)),this._blendPass.render(t),i&&(this._blendPass.material.transparent=!1,this._blendPass.renderStates.camera.rect.set(0,0,1,1))),n._renderTargetCache.release(o,0),n._renderTargetCache.release(s,0)}}const Le=new e.Matrix4,Re=new e.Matrix4,ke=new e.Matrix4,$e={name:"ec_ssr",defines:{},uniforms:{colorTex:null,gBufferTexture1:null,gBufferTexture2:null,projection:new Float32Array(16),projectionInv:new Float32Array(16),viewInverseTranspose:new Float32Array(16),maxRayDistance:4,pixelStride:16,pixelStrideZCutoff:10,screenEdgeFadeStart:.9,eyeFadeStart:.4,eyeFadeEnd:.8,minGlossiness:.2,zThicknessThreshold:.1,jitterOffset:0,nearZ:0,viewportSize:[512,512],maxMipmapLevel:5},vertexShader:ee,fragmentShader:"\n\t\t#define MAX_ITERATION 20;\n\t\t#define MAX_BINARY_SEARCH_ITERATION 5;\n\n\t\tvarying vec2 v_Uv;\n\n\t\tuniform sampler2D colorTex;\n\t\tuniform sampler2D gBufferTexture1;\n\t\tuniform sampler2D gBufferTexture2;\n\n\t\tuniform mat4 projection;\n\t\tuniform mat4 projectionInv;\n\t\tuniform mat4 viewInverseTranspose;\n\n\t\tuniform float maxRayDistance;\n\n\t\tuniform float pixelStride;\n\t\t// ray origin Z at this distance will have a pixel stride of 1.0\n\t\tuniform float pixelStrideZCutoff;\n\n\t\t// distance to screen edge that ray hits will start to fade (0.0 -> 1.0)\n\t\tuniform float screenEdgeFadeStart;\n\n\t\t// ray direction's Z that ray hits will start to fade (0.0 -> 1.0)\n\t\tuniform float eyeFadeStart;\n\t\t// ray direction's Z that ray hits will be cut (0.0 -> 1.0)\n\t\tuniform float eyeFadeEnd;\n\n\t\t// Object larger than minGlossiness will have ssr effect\n\t\tuniform float minGlossiness;\n\t\tuniform float zThicknessThreshold;\n\t\tuniform float jitterOffset;\n\n\t\tuniform float nearZ;\n\t\tuniform vec2 viewportSize;\n\n\t\tuniform float maxMipmapLevel;\n\n\t\tfloat fetchDepth(sampler2D depthTexture, vec2 uv) {\n\t\t\tvec4 depthTexel = texture2D(depthTexture, uv);\n\t\t\treturn depthTexel.r * 2.0 - 1.0;\n\t\t}\n\n\t\tfloat linearDepth(float depth) {\n\t\t\treturn projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n\t\t}\n\n\t\tbool rayIntersectDepth(float rayZNear, float rayZFar, vec2 hitPixel) {\n\t\t\t// Swap if bigger\n\t\t\tif (rayZFar > rayZNear) {\n\t\t\t\tfloat t = rayZFar; rayZFar = rayZNear; rayZNear = t;\n\t\t\t}\n\t\t\tfloat cameraZ = linearDepth(fetchDepth(gBufferTexture2, hitPixel));\n\t\t\t// float cameraBackZ = linearDepth(fetchDepth(backDepthTex, hitPixel));\n\t\t\t// Cross z\n\t\t\treturn rayZFar <= cameraZ && rayZNear >= cameraZ - zThicknessThreshold;\n\t\t}\n\n\t\t// Trace a ray in screenspace from rayOrigin (in camera space) pointing in rayDir (in camera space)\n\t\t//\n\t\t// With perspective correct interpolation\n\t\t//\n\t\t// Returns true if the ray hits a pixel in the depth buffer\n\t\t// and outputs the hitPixel (in UV space), the hitPoint (in camera space) and the number\n\t\t// of iterations it took to get there.\n\t\t//\n\t\t// Based on Morgan McGuire & Mike Mara's GLSL implementation:\n\t\t// http://casual-effects.blogspot.com/2014/08/screen-space-ray-tracing.html\n\t\tbool traceScreenSpaceRay(vec3 rayOrigin, vec3 rayDir, float jitter, out vec2 hitPixel, out vec3 hitPoint, out float iterationCount) {\n\t\t\t// Clip to the near plane\n\t\t\tfloat rayLength = ((rayOrigin.z + rayDir.z * maxRayDistance) > -nearZ) ? (-nearZ - rayOrigin.z) / rayDir.z : maxRayDistance;\n\n\t\t\tvec3 rayEnd = rayOrigin + rayDir * rayLength;\n\n\t\t\t// Project into homogeneous clip space\n\t\t\tvec4 H0 = projection * vec4(rayOrigin, 1.0);\n\t\t\tvec4 H1 = projection * vec4(rayEnd, 1.0);\n\n\t\t\tfloat k0 = 1.0 / H0.w, k1 = 1.0 / H1.w;\n\n\t\t\t// The interpolated homogeneous version of the camera space points\n\t\t\tvec3 Q0 = rayOrigin * k0, Q1 = rayEnd * k1;\n\n\t\t\t// Screen space endpoints\n\t\t\t// PENDING viewportSize ?\n\t\t\tvec2 P0 = (H0.xy * k0 * 0.5 + 0.5) * viewportSize;\n\t\t\tvec2 P1 = (H1.xy * k1 * 0.5 + 0.5) * viewportSize;\n\n\t\t\t// If the line is degenerate, make it cover at least one pixel to avoid handling\n\t\t\t// zero-pixel extent as a special case later\n\t\t\tP1 += dot(P1 - P0, P1 - P0) < 0.0001 ? 0.01 : 0.0;\n\t\t\tvec2 delta = P1 - P0;\n\n\t\t\t// Permute so that the primary iteration is in x to collapse\n\t\t\t// all quadrant-specific DDA case later\n\t\t\tbool permute = false;\n\t\t\tif (abs(delta.x) < abs(delta.y)) {\n\t\t\t\t// More vertical line\n\t\t\t\tpermute = true;\n\t\t\t\tdelta = delta.yx;\n\t\t\t\tP0 = P0.yx;\n\t\t\t\tP1 = P1.yx;\n\t\t\t}\n\t\t\tfloat stepDir = sign(delta.x);\n\t\t\tfloat invdx = stepDir / delta.x;\n\n\t\t\t// Track the derivatives of Q and K\n\t\t\tvec3 dQ = (Q1 - Q0) * invdx;\n\t\t\tfloat dk = (k1 - k0) * invdx;\n\n\t\t\tvec2 dP = vec2(stepDir, delta.y * invdx);\n\n\t\t\t// Calculate pixel stride based on distance of ray origin from camera.\n\t\t\t// Since perspective means distant objects will be smaller in screen space\n\t\t\t// we can use this to have higher quality reflections for far away objects\n\t\t\t// while still using a large pixel stride for near objects (and increase performance)\n\t\t\t// this also helps mitigate artifacts on distant reflections when we use a large\n\t\t\t// pixel stride.\n\t\t\tfloat strideScaler = 1.0 - min(1.0, -rayOrigin.z / pixelStrideZCutoff);\n\t\t\tfloat pixStride = 1.0 + strideScaler * pixelStride;\n\n\t\t\t// Scale derivatives by the desired pixel stride and the offset the starting values by the jitter fraction\n\t\t\tdP *= pixStride; dQ *= pixStride; dk *= pixStride;\n\n\t\t\t// Track ray step and derivatives in a vec4 to parallelize\n\t\t\tvec4 pqk = vec4(P0, Q0.z, k0);\n\t\t\tvec4 dPQK = vec4(dP, dQ.z, dk);\n\n\t\t\tpqk += dPQK * jitter;\n\t\t\tfloat rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n\t\t\tfloat rayZNear;\n\n\t\t\tbool intersect = false;\n\n\t\t\tvec2 texelSize = 1.0 / viewportSize;\n\n\t\t\titerationCount = 0.0;\n\n\t\t\tfor (int i = 0; i < 20; i++) {\n\t\t\t\tpqk += dPQK;\n\n\t\t\t\trayZNear = rayZFar;\n\t\t\t\trayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n\n\t\t\t\thitPixel = permute ? pqk.yx : pqk.xy;\n\t\t\t\thitPixel *= texelSize;\n\n\t\t\t\tintersect = rayIntersectDepth(rayZNear, rayZFar, hitPixel);\n\n\t\t\t\titerationCount += 1.0;\n\n\t\t\t\t// PENDING Right on all platforms?\n\t\t\t\tif (intersect) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Binary search refinement\n\t\t\t// FIXME If intersect in first iteration binary search may easily lead to the pixel of reflect object it self\n\t\t\tif (pixStride > 1.0 && intersect && iterationCount > 1.0) {\n\t\t\t\t// Roll back\n\t\t\t\tpqk -= dPQK;\n\t\t\t\tdPQK /= pixStride;\n\n\t\t\t\tfloat originalStride = pixStride * 0.5;\n\t\t\t\tfloat stride = originalStride;\n\n\t\t\t\trayZNear = pqk.z / pqk.w;\n\t\t\t\trayZFar = rayZNear;\n\n\t\t\t\tfor (int j = 0; j < 5; j++) {\n\t\t\t\t\tpqk += dPQK * stride;\n\t\t\t\t\trayZNear = rayZFar;\n\t\t\t\t\trayZFar = (dPQK.z * -0.5 + pqk.z) / (dPQK.w * -0.5 + pqk.w);\n\t\t\t\t\thitPixel = permute ? pqk.yx : pqk.xy;\n\t\t\t\t\thitPixel *= texelSize;\n\n\t\t\t\t\toriginalStride *= 0.5;\n\t\t\t\t\tstride = rayIntersectDepth(rayZNear, rayZFar, hitPixel) ? -originalStride : originalStride;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tQ0.xy += dQ.xy * iterationCount;\n\t\t\tQ0.z = pqk.z;\n\t\t\thitPoint = Q0 / pqk.w;\n\n\t\t\treturn intersect;\n\t\t}\n\n\t\tfloat calculateAlpha(float iterationCount, float reflectivity, vec2 hitPixel, vec3 hitPoint, float dist, vec3 rayDir) {\n\t\t\tfloat alpha = clamp(reflectivity, 0.0, 1.0);\n\t\t\t// Fade ray hits that approach the maximum iterations\n\t\t\talpha *= 1.0 - (iterationCount / float(20));\n\t\t\t// Fade ray hits that approach the screen edge\n\t\t\tvec2 hitPixelNDC = hitPixel * 2.0 - 1.0;\n\t\t\tfloat maxDimension = min(1.0, max(abs(hitPixelNDC.x), abs(hitPixelNDC.y)));\n\t\t\talpha *= 1.0 - max(0.0, maxDimension - screenEdgeFadeStart) / (1.0 - screenEdgeFadeStart);\n\n\t\t\t// Fade ray hits base on how much they face the camera\n\t\t\tfloat _eyeFadeStart = eyeFadeStart;\n\t\t\tfloat _eyeFadeEnd = eyeFadeEnd;\n\t\t\tif (_eyeFadeStart > _eyeFadeEnd) {\n\t\t\t\tfloat tmp = _eyeFadeEnd;\n\t\t\t\t_eyeFadeEnd = _eyeFadeStart;\n\t\t\t\t_eyeFadeStart = tmp;\n\t\t\t}\n\n\t\t\tfloat eyeDir = clamp(rayDir.z, _eyeFadeStart, _eyeFadeEnd);\n\t\t\talpha *= 1.0 - (eyeDir - _eyeFadeStart) / (_eyeFadeEnd - _eyeFadeStart);\n\n\t\t\t// Fade ray hits based on distance from ray origin\n\t\t\talpha *= 1.0 - clamp(dist / maxRayDistance, 0.0, 1.0);\n\n\t\t\treturn alpha;\n\t\t}\n\n\t\tvoid main() {\n\t\t\tvec4 normalAndGloss = texture2D(gBufferTexture1, v_Uv);\n\n\t\t\t// Is empty\n\t\t\tif (dot(normalAndGloss.rgb, vec3(1.0)) == 0.0) {\n\t\t\t\tdiscard;\n\t\t\t}\n\n\t\t\tfloat g = normalAndGloss.a;\n\t\t\tif (g <= minGlossiness) {\n\t\t\t\tdiscard;\n\t\t\t}\n\n\t\t\tfloat reflectivity = (g - minGlossiness) / (1.0 - minGlossiness);\n\n\t\t\tvec3 N = normalAndGloss.rgb * 2.0 - 1.0;\n\t\t\tN = normalize((viewInverseTranspose * vec4(N, 0.0)).xyz);\n\n\t\t\t// Position in view\n\t\t\tvec4 projectedPos = vec4(v_Uv * 2.0 - 1.0, fetchDepth(gBufferTexture2, v_Uv), 1.0);\n\t\t\tvec4 pos = projectionInv * projectedPos;\n\t\t\tvec3 rayOrigin = pos.xyz / pos.w;\n\n\t\t\tvec3 rayDir = normalize(reflect(normalize(rayOrigin), N));\n\t\t\tvec2 hitPixel;\n\t\t\tvec3 hitPoint;\n\t\t\tfloat iterationCount;\n\n\t\t\t// Get jitter\n\t\t\tvec2 uv2 = v_Uv * viewportSize;\n\t\t\tfloat jitter = fract((uv2.x + uv2.y) * 0.25);\n\n\t\t\tbool intersect = traceScreenSpaceRay(rayOrigin, rayDir, jitter, hitPixel, hitPoint, iterationCount);\n\n\t\t\tfloat dist = distance(rayOrigin, hitPoint);\n\n\t\t\tfloat alpha = calculateAlpha(iterationCount, reflectivity, hitPixel, hitPoint, dist, rayDir) * float(intersect);\n\n\t\t\tvec3 hitNormal = texture2D(gBufferTexture1, hitPixel).rgb * 2.0 - 1.0;\n\t\t\thitNormal = normalize((viewInverseTranspose * vec4(hitNormal, 0.0)).xyz);\n\n\t\t\t// Ignore the pixel not face the ray\n\t\t\t// TODO fadeout ?\n\t\t\t// PENDING Can be configured?\n\t\t\tif (dot(hitNormal, rayDir) >= 0.0) {\n\t\t\t\tdiscard;\n\t\t\t}\n\n\t\t\t// vec4 color = decodeHDR(texture2DLodEXT(colorTex, hitPixel, clamp(dist / maxRayDistance, 0.0, 1.0) * maxMipmapLevel));\n\n\t\t\tif (!intersect) {\n\t\t\t\tdiscard;\n\t\t\t}\n\n\t\t\tvec4 color = texture2D(colorTex, hitPixel);\n\t\t\tgl_FragColor = vec4(color.rgb * alpha, color.a);\n\n\t\t\t// gl_FragColor = vec4(vec3(iterationCount / 2.0), 1.0);\n\n\t\t}\n    "};class De extends J{constructor(){super(),this.color=new e.Color3(0,0,0),this.offset=1,this._vignettingPass=new e.ShaderPostPass(Oe),this._vignettingPass.material.premultipliedAlpha=!0}render(e,t,n,r,a){const i=this._vignettingPass;i.uniforms.tDiffuse=n.texture,this.color.toArray(i.uniforms.vignettingColor),i.uniforms.vignettingOffset=this.offset,e.renderPass.setRenderTarget(r),e.renderPass.setClearColor(0,0,0,0),a?e.renderPass.clear(t.clearColor,t.clearDepth,t.clearStencil):e.renderPass.clear(!0,!0,!1),a&&(i.material.transparent=t._tempClearColor[3]<1||!t.clearColor,i.renderStates.camera.rect.fromArray(t._tempViewport)),i.render(e),a&&(i.material.transparent=!1,i.renderStates.camera.rect.set(0,0,1,1))}}const Oe={name:"ec_vignetting_blend",defines:{},uniforms:{tDiffuse:null,vignettingColor:[0,0,0],vignettingOffset:1},vertexShader:ee,fragmentShader:"\n\t\tuniform vec3 vignettingColor;\n\t\tuniform float vignettingOffset;\n\n        uniform sampler2D tDiffuse;\n        varying vec2 v_Uv;\n\n        void main() {\n            vec4 color = texture2D(tDiffuse, v_Uv);\n            vec2 uv = (v_Uv - vec2(0.5)) * vec2(vignettingOffset);\n\t\t\tcolor.rgb = mix(color.rgb, vignettingColor, clamp(dot(uv, uv), 0.0, 1.0));\n\t\t\tgl_FragColor = color;\n        }\n    "};class Ue extends J{constructor(){super(),this.offset=1,this._hBlurPass=new e.ShaderPostPass(ue),this._vBlurPass=new e.ShaderPostPass(ce),this._blendPass=new e.ShaderPostPass(je),this._blendPass.material.premultipliedAlpha=!0}resize(e,t){this._hBlurPass.uniforms.h=4/e,this._vBlurPass.uniforms.v=4/t}render(e,t,n,r,a){const i=t._renderTargetCache.allocate(1),o=t._renderTargetCache.allocate(1),s=this._blendPass;e.renderPass.setRenderTarget(i),e.renderPass.setClearColor(0,0,0,0),e.renderPass.clear(!0,!0,!1),this._hBlurPass.uniforms.tDiffuse=n.texture,this._hBlurPass.render(e),e.renderPass.setRenderTarget(o),e.renderPass.setClearColor(0,0,0,0),e.renderPass.clear(!0,!0,!1),this._vBlurPass.uniforms.tDiffuse=i.texture,this._vBlurPass.render(e),s.uniforms.tDiffuse=n.texture,s.uniforms.blurOffset=this.offset,s.uniforms.blurTexture=o.texture,e.renderPass.setRenderTarget(r),e.renderPass.setClearColor(0,0,0,0),a?e.renderPass.clear(t.clearColor,t.clearDepth,t.clearStencil):e.renderPass.clear(!0,!0,!1),a&&(s.material.transparent=t._tempClearColor[3]<1||!t.clearColor,s.renderStates.camera.rect.fromArray(t._tempViewport)),s.render(e),a&&(s.material.transparent=!1,s.renderStates.camera.rect.set(0,0,1,1)),t._renderTargetCache.release(i,1),t._renderTargetCache.release(o,1)}}const je={name:"ec_blur_blend",defines:{},uniforms:{tDiffuse:null,blurOffset:1,blurTexture:null},vertexShader:ee,fragmentShader:"\n\t\tuniform float blurOffset;\n\n        uniform sampler2D blurTexture;\n\n        uniform sampler2D tDiffuse;\n        varying vec2 v_Uv;\n\n        void main() {\n            vec4 color = texture2D(tDiffuse, v_Uv);\n            vec2 uv = (v_Uv - vec2(0.5)) * vec2(blurOffset);\n\n            vec3 color2 = texture2D(blurTexture, v_Uv).rgb;\n\n\t\t\tcolor.rgb = mix(color.rgb, color2, clamp(dot(uv, uv), 0.0, 1.0));\n\t\t\tgl_FragColor = color;\n        }\n    "};class ze extends J{constructor(){super(),this.bufferDependencies=[{key:"MarkBuffer"}],this.color=new e.Color3(1,1,1),this.strength=1.5,this.stride=5,this._channelPass=new e.ShaderPostPass(ie),this._blurXPass=new e.ShaderPostPass(Be),this._blurYPass=new e.ShaderPostPass(He),this._blendPass=new e.ShaderPostPass(Xe),this._blendPass.material.premultipliedAlpha=!0}resize(e,t){this._blurXPass.uniforms.texSize[0]=e,this._blurXPass.uniforms.texSize[1]=t,this._blurYPass.uniforms.texSize[0]=e,this._blurYPass.uniforms.texSize[1]=t}render(t,n,r,a,i){const o=n._renderTargetCache.allocate(0),s=n._renderTargetCache.allocate(0),l=n._renderTargetCache.allocate(0),u=n.getBuffer("MarkBuffer"),c=u.attachManager.getAttachIndex(this.name),h=u.attachManager.getChannelIndex(this.name);t.renderPass.setRenderTarget(o),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._channelPass.uniforms.tDiffuse=u.output(c)._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0];for(let e=0;e<4;e++)this._channelPass.uniforms.channelMask[e]=e===h?1:0;this._channelPass.render(t),t.renderPass.setRenderTarget(s),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._blurXPass.uniforms.tDiffuse=o.texture,this._blurXPass.uniforms.stride=this.stride,this._blurXPass.render(t),t.renderPass.setRenderTarget(l),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._blurYPass.uniforms.tDiffuse=o.texture,this._blurYPass.uniforms.blurX=s.texture,this._blurYPass.uniforms.stride=this.stride,this._blurYPass.uniforms.glowness=this.strength,this.color.toArray(this._blurYPass.uniforms.glowColor),this._blurYPass.render(t),t.renderPass.setRenderTarget(a),t.renderPass.setClearColor(0,0,0,0),i?t.renderPass.clear(n.clearColor,n.clearDepth,n.clearStencil):t.renderPass.clear(!0,!0,!1),this._blendPass.uniforms.texture1=r.texture,this._blendPass.uniforms.texture2=l.texture,i&&(this._blendPass.material.transparent=n._tempClearColor[3]<1||!n.clearColor,this._blendPass.renderStates.camera.rect.fromArray(n._tempViewport)),this._blendPass.render(t),i&&(this._blendPass.material.transparent=!1,this._blendPass.renderStates.camera.rect.set(0,0,1,1)),n._renderTargetCache.release(o,0),n._renderTargetCache.release(s,0),n._renderTargetCache.release(l,0)}}const Be={name:"ec_innerglow_x",defines:{},uniforms:{tDiffuse:null,texSize:[1,1],stride:10},vertexShader:ee,fragmentShader:"\n\t\t#define WT9_0 1.0\n\t\t#define WT9_1 0.8\n\t\t#define WT9_2 0.6\n\t\t#define WT9_3 0.4\n\t\t#define WT9_4 0.2\n\t\t#define WT9_NORMALIZE 5.2\n\n\t\tvarying vec2 v_Uv;\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform vec2 texSize;\n\t\tuniform float stride;\n\n\t\tvoid main() {\n\t\t\tfloat texelIncrement = 0.25 * stride / texSize.x;\n\n\t\t\tfloat colour = texture2D(tDiffuse,vec2(v_Uv.x + texelIncrement, v_Uv.y)).x * (0.8 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x + 2.0 * texelIncrement, v_Uv.y)).x * (WT9_2 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x + 3.0 * texelIncrement, v_Uv.y)).x * (WT9_3 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x + 4.0 * texelIncrement, v_Uv.y)).x * (WT9_4 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x, v_Uv.y)).x * (WT9_0 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x - 1.0 * texelIncrement, v_Uv.y)).x * (WT9_1 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x - 2.0 * texelIncrement, v_Uv.y)).x * (WT9_2 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x - 3.0 * texelIncrement, v_Uv.y)).x * (WT9_3 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x - 4.0 * texelIncrement, v_Uv.y)).x * (WT9_3 / WT9_NORMALIZE);\n\n\t\t\ttexelIncrement = 0.5 * stride / texSize.x;\n\t\t\tcolour += texture2D(tDiffuse,vec2(v_Uv.x + texelIncrement, v_Uv.y)).x * (0.8 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x + 2.0 * texelIncrement, v_Uv.y)).x * (WT9_2 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x + 3.0 * texelIncrement, v_Uv.y)).x * (WT9_3 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x + 4.0 * texelIncrement, v_Uv.y)).x * (WT9_4 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x, v_Uv.y)).x * (WT9_0 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x - 1.0 * texelIncrement, v_Uv.y)).x * (WT9_1 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x - 2.0 * texelIncrement, v_Uv.y)).x * (WT9_2 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x - 3.0 * texelIncrement, v_Uv.y)).x * (WT9_3 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x - 4.0 * texelIncrement, v_Uv.y)).x * (WT9_3 / WT9_NORMALIZE);\n\n\t\t\ttexelIncrement = 0.75 * stride / texSize.x;\n\t\t\tcolour += texture2D(tDiffuse,vec2(v_Uv.x + texelIncrement, v_Uv.y)).x * (0.8 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x + 2.0 * texelIncrement, v_Uv.y)).x * (WT9_2 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x + 3.0 * texelIncrement, v_Uv.y)).x * (WT9_3 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x + 4.0 * texelIncrement, v_Uv.y)).x * (WT9_4 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x, v_Uv.y)).x * (WT9_0 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x - 1.0 * texelIncrement, v_Uv.y)).x * (WT9_1 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x - 2.0 * texelIncrement, v_Uv.y)).x * (WT9_2 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x - 3.0 * texelIncrement, v_Uv.y)).x * (WT9_3 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x - 4.0 * texelIncrement, v_Uv.y)).x * (WT9_3 / WT9_NORMALIZE);\n\n\t\t\ttexelIncrement = stride / texSize.x;\n\t\t\tcolour += texture2D(tDiffuse,vec2(v_Uv.x + texelIncrement, v_Uv.y)).x * (0.8 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x + 2.0 * texelIncrement, v_Uv.y)).x * (WT9_2 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x + 3.0 * texelIncrement, v_Uv.y)).x * (WT9_3 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x + 4.0 * texelIncrement, v_Uv.y)).x * (WT9_4 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x, v_Uv.y)).x * (WT9_0 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x - 1.0 * texelIncrement, v_Uv.y)).x * (WT9_1 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x - 2.0 * texelIncrement, v_Uv.y)).x * (WT9_2 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x - 3.0 * texelIncrement, v_Uv.y)).x * (WT9_3 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(tDiffuse, vec2(v_Uv.x - 4.0 * texelIncrement, v_Uv.y)).x * (WT9_3 / WT9_NORMALIZE);\n\n\t\t\tfloat col = 1.0 - colour * 0.25;\n\n\t\t\tgl_FragColor = vec4(col,col,col,col);\n\t\t}\n    "},He={name:"ec_innerglow_y",defines:{},uniforms:{tDiffuse:null,blurX:null,texSize:[1,1],stride:10,glowness:2,glowColor:[1,0,0]},vertexShader:ee,fragmentShader:"\n\t\t#define WT9_0 1.0\n\t\t#define WT9_1 0.8\n\t\t#define WT9_2 0.6\n\t\t#define WT9_3 0.4\n\t\t#define WT9_4 0.2\n\t\t#define WT9_NORMALIZE 5.2\n\n\t\tvarying vec2 v_Uv;\n\t\tuniform vec2 texSize;\n\t\tuniform float stride;\n\t\tuniform float glowness;\n\t\tuniform vec3 glowColor;\n\t\tuniform sampler2D blurX;\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvoid main() {\n\t\t\tfloat texelIncrement = 0.25 * stride / texSize.y;\n\n\t\t\tfloat colour = texture2D(blurX, vec2(v_Uv.x , v_Uv.y + texelIncrement)).x * (0.8 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x, v_Uv.y + 2.0 * texelIncrement)).x* (WT9_2 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x , v_Uv.y + 3.0 * texelIncrement)).x * (WT9_3 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x , v_Uv.y + 4.0 * texelIncrement)).x * (WT9_4 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x, v_Uv.y)).x * (WT9_0 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x , v_Uv.y - 1.0 * texelIncrement)).x * (WT9_1 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x, v_Uv.y - 2.0 * texelIncrement)).x * (WT9_2 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x, v_Uv.y - 3.0 * texelIncrement)).x* (WT9_3 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x , v_Uv.y- 4.0 * texelIncrement)).x * (WT9_3 / WT9_NORMALIZE);\n\n\t\t\ttexelIncrement = 0.5 * stride / texSize.y;\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x , v_Uv.y + texelIncrement)).x * (0.8 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x, v_Uv.y + 2.0 * texelIncrement)).x* (WT9_2 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x , v_Uv.y + 3.0 * texelIncrement)).x * (WT9_3 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x , v_Uv.y + 4.0 * texelIncrement)).x * (WT9_4 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x, v_Uv.y)).x * (WT9_0 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x , v_Uv.y - 1.0 * texelIncrement)).x * (WT9_1 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x, v_Uv.y - 2.0 * texelIncrement)).x * (WT9_2 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x, v_Uv.y - 3.0 * texelIncrement)).x* (WT9_3 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x , v_Uv.y- 4.0 * texelIncrement)).x * (WT9_3 / WT9_NORMALIZE);\n\n\t\t\ttexelIncrement = 0.75 * stride / texSize.y;\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x , v_Uv.y + texelIncrement)).x * (0.8 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x, v_Uv.y + 2.0 * texelIncrement)).x* (WT9_2 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x , v_Uv.y + 3.0 * texelIncrement)).x * (WT9_3 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x , v_Uv.y + 4.0 * texelIncrement)).x * (WT9_4 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x, v_Uv.y)).x * (WT9_0 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x , v_Uv.y - 1.0 * texelIncrement)).x * (WT9_1 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x, v_Uv.y - 2.0 * texelIncrement)).x * (WT9_2 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x, v_Uv.y - 3.0 * texelIncrement)).x* (WT9_3 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x , v_Uv.y- 4.0 * texelIncrement)).x * (WT9_3 / WT9_NORMALIZE);\n\n\t\t\ttexelIncrement = stride / texSize.y;\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x , v_Uv.y + texelIncrement)).x * (0.8 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x, v_Uv.y + 2.0 * texelIncrement)).x* (WT9_2 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x , v_Uv.y + 3.0 * texelIncrement)).x * (WT9_3 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x , v_Uv.y + 4.0 * texelIncrement)).x * (WT9_4 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x, v_Uv.y)).x * (WT9_0 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x , v_Uv.y - 1.0 * texelIncrement)).x * (WT9_1 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x, v_Uv.y - 2.0 * texelIncrement)).x * (WT9_2 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x, v_Uv.y - 3.0 * texelIncrement)).x* (WT9_3 / WT9_NORMALIZE);\n\t\t\tcolour += texture2D(blurX, vec2(v_Uv.x , v_Uv.y- 4.0 * texelIncrement)).x * (WT9_3 / WT9_NORMALIZE);\n\n\t\t\tvec3 glo = (0.25 * glowness * colour) * glowColor;\n\t\t\tvec4 maskTexel = texture2D(tDiffuse, v_Uv);\n\t\t\t\n\t\t\tgl_FragColor = vec4(maskTexel.x * glo, 1.);\n\t\t}\n    "},Xe={name:"ec_tint",defines:{},uniforms:{texture1:null,texture2:null},vertexShader:ee,fragmentShader:"\n        uniform sampler2D texture1;\n        uniform sampler2D texture2;\n        varying vec2 v_Uv;\n        void main() {\n            vec4 texel1 = texture2D(texture1, v_Uv);\n            vec4 texel2 = texture2D(texture2, v_Uv);\n\n            float v = max(max(texel2.x, texel2.y), texel2.z);\n\n            vec4 color = mix(texel1, vec4(texel2.rgb, texel1.a), v);\n            gl_FragColor = color;\n        }\n    "};class Ve extends J{constructor(){super(),this.bufferDependencies=[{key:"SceneBuffer"},{key:"MarkBuffer",mask:1},{key:"ColorMarkBuffer",mask:2}],this.strength=1,this.radius=.4,this.threshold=.01,this.smoothWidth=.1,this._maskPass=new e.ShaderPostPass(oe),this._highlightPass=new e.ShaderPostPass(se),this._blurPass=new e.ShaderPostPass(le),this._compositePass=new e.ShaderPostPass(We),this._blendPass=new e.ShaderPostPass(ne),this._blendPass.material.premultipliedAlpha=!0,this._compositePass.uniforms.bloomFactors=new Float32Array([1,.8,.6,.4,.2]),this._compositePass.uniforms.bloomTintColors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this._tempRTList=[]}render(t,n,r,a,i){const o=n._renderTargetCache.allocate(0),s=n._renderTargetCache.allocate(1),l=n.getBuffer("SceneBuffer"),u=n.getBuffer("MarkBuffer"),c=n.getBuffer("ColorMarkBuffer"),h=u.attachManager.has(this.name),f=c.attachManager.getAttachIndex(this.name),d=c.output(f)._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0];if(h){const n=u.attachManager.getAttachIndex(this.name),r=u.attachManager.getChannelIndex(this.name);t.renderPass.setRenderTarget(s),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._maskPass.uniforms.colorTexture=l.output()._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0],this._maskPass.uniforms.maskTexture=u.output(n)._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0],this._maskPass.uniforms.additiveTexture=d;for(let e=0;e<4;e++)this._maskPass.uniforms.channel[e]=e===r?1:0;this._maskPass.render(t)}t.renderPass.setRenderTarget(o),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._highlightPass.uniforms.tDiffuse=h?s.texture:d,this._highlightPass.uniforms.threshold=this.threshold,this._highlightPass.uniforms.smoothWidth=this.smoothWidth,this._highlightPass.render(t);let p=o;for(let e=0;e<Ge.length;e++){const r=n._renderTargetCache.allocate(e+1);t.renderPass.setRenderTarget(r),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._blurPass.uniforms.tDiffuse=p.texture,this._blurPass.uniforms.texSize[0]=p.width,this._blurPass.uniforms.texSize[1]=p.height,this._blurPass.uniforms.direction[0]=1,this._blurPass.uniforms.direction[1]=0,this._blurPass.uniforms.kernelRadius=Ge[e],this._blurPass.render(t);const a=n._renderTargetCache.allocate(e+1);t.renderPass.setRenderTarget(a),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._blurPass.uniforms.tDiffuse=r.texture,this._blurPass.uniforms.direction[0]=0,this._blurPass.uniforms.direction[1]=1,this._blurPass.render(t),n._renderTargetCache.release(r,e+1),p=a,this._tempRTList[e]=a}t.renderPass.setRenderTarget(s),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._compositePass.uniforms.blurTexture1=this._tempRTList[0].texture,this._compositePass.uniforms.blurTexture2=this._tempRTList[1].texture,this._compositePass.uniforms.blurTexture3=this._tempRTList[2].texture,this._compositePass.uniforms.blurTexture4=this._tempRTList[3].texture,this._compositePass.uniforms.blurTexture5=this._tempRTList[4].texture,this._compositePass.uniforms.bloomRadius=this.radius,this._compositePass.uniforms.bloomStrength=this.strength,this._compositePass.render(t),t.renderPass.setRenderTarget(a),t.renderPass.setClearColor(0,0,0,0),i?t.renderPass.clear(n.clearColor,n.clearDepth,n.clearStencil):t.renderPass.clear(!0,!0,!1),this._blendPass.uniforms.texture1=r.texture,this._blendPass.uniforms.texture2=s.texture,this._blendPass.uniforms.colorWeight1=1,this._blendPass.uniforms.alphaWeight1=1,this._blendPass.uniforms.colorWeight2=1,this._blendPass.uniforms.alphaWeight2=0,i&&(this._blendPass.material.transparent=n._tempClearColor[3]<1||!n.clearColor,this._blendPass.renderStates.camera.rect.fromArray(n._tempViewport)),this._blendPass.render(t),i&&(this._blendPass.material.transparent=!1,this._blendPass.renderStates.camera.rect.set(0,0,1,1)),n._renderTargetCache.release(o,0),n._renderTargetCache.release(s,1),this._tempRTList.forEach(((e,t)=>n._renderTargetCache.release(e,t+1)))}}const Ge=[3,5,7,9,11],We={name:"ec_bloom_composite",defines:{NUM_MIPS:5},uniforms:{blurTexture1:null,blurTexture2:null,blurTexture3:null,blurTexture4:null,blurTexture5:null,bloomStrength:1,bloomRadius:0,bloomFactors:null,bloomTintColors:null},vertexShader:ee,fragmentShader:"\n\t\tuniform sampler2D blurTexture1;\n\t\tuniform sampler2D blurTexture2;\n\t\tuniform sampler2D blurTexture3;\n\t\tuniform sampler2D blurTexture4;\n\t\tuniform sampler2D blurTexture5;\n\t\tuniform float bloomStrength;\n\t\tuniform float bloomRadius;\n\t\tuniform float bloomFactors[NUM_MIPS];\n\t\tuniform vec3 bloomTintColors[NUM_MIPS];\n\n        varying vec2 v_Uv;\n\n        float lerpBloomFactor(const in float factor) {\n            float mirrorFactor = 1.2 - factor;\n            return mix(factor, mirrorFactor, bloomRadius);\n        }\n\n        void main() {\n            gl_FragColor = bloomStrength * (\n\t\t\t\tlerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, v_Uv) +\n\t\t\t\tlerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, v_Uv) +\n\t\t\t\tlerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, v_Uv) +\n\t\t\t\tlerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, v_Uv) +\n\t\t\t\tlerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, v_Uv)\n\t\t\t);\n        }\n    "};class Ye extends J{constructor(){super(),this.bufferDependencies=[{key:"SceneBuffer"},{key:"MarkBuffer",mask:1},{key:"ColorMarkBuffer",mask:2}],this.strength=.5,this.blendRate=.4,this.blurSize=1,this._maskPass=new e.ShaderPostPass(oe),this._downSamplerPass=new e.ShaderPostPass(Qe),this._hBlurPass=new e.ShaderPostPass(ue),this._vBlurPass=new e.ShaderPostPass(ce),this._blendPass=new e.ShaderPostPass(ne),this._blendPass.material.premultipliedAlpha=!0,this._tempRTList=[],this._tempRTList2=[]}render(t,n,r,a,i){for(let e=0;e<6;e++)this._tempRTList[e]=n._renderTargetCache.allocate(e),this._tempRTList2[e]=n._renderTargetCache.allocate(e);const o=n.getBuffer("SceneBuffer"),s=n.getBuffer("MarkBuffer"),l=n.getBuffer("ColorMarkBuffer"),u=s.attachManager.has(this.name),c=l.attachManager.getAttachIndex(this.name),h=l.output(c)._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0];if(u){const n=s.attachManager.getAttachIndex(this.name),r=s.attachManager.getChannelIndex(this.name);t.renderPass.setRenderTarget(this._tempRTList[0]),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._maskPass.uniforms.colorTexture=o.output()._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0],this._maskPass.uniforms.maskTexture=s.output(n)._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0],this._maskPass.uniforms.additiveTexture=h;for(let e=0;e<4;e++)this._maskPass.uniforms.channel[e]=e===r?1:0;this._maskPass.render(t)}t.renderPass.setRenderTarget(this._tempRTList[1]),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._downSamplerPass.uniforms.tDiffuse=u?this._tempRTList[0].texture:h,this._downSamplerPass.uniforms.texSize[0]=this._tempRTList[0].width,this._downSamplerPass.uniforms.texSize[1]=this._tempRTList[0].height,this._downSamplerPass.uniforms.bright=4,this._downSamplerPass.render(t);for(let e=2;e<6;e++)t.renderPass.setRenderTarget(this._tempRTList[e]),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._downSamplerPass.uniforms.tDiffuse=this._tempRTList[e-1].texture,this._downSamplerPass.uniforms.texSize[0]=this._tempRTList[e-1].width,this._downSamplerPass.uniforms.texSize[1]=this._tempRTList[e-1].height,this._downSamplerPass.uniforms.bright=1,this._downSamplerPass.render(t);for(let e=0;e<5;e++)t.renderPass.setRenderTarget(this._tempRTList[e]),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._hBlurPass.uniforms.tDiffuse=this._tempRTList[e+1].texture,this._hBlurPass.uniforms.h=2*this.blurSize/this._tempRTList[e].width,this._hBlurPass.render(t);for(let e=0;e<5;e++)t.renderPass.setRenderTarget(this._tempRTList2[e]),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._vBlurPass.uniforms.tDiffuse=this._tempRTList[e].texture,this._vBlurPass.uniforms.v=2*this.blurSize/this._tempRTList[e].height,this._vBlurPass.render(t);for(let e=3;e>=0;e--)t.renderPass.setRenderTarget(this._tempRTList[e]),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._blendPass.uniforms.texture1=this._tempRTList2[e].texture,this._blendPass.uniforms.texture2=e<3?this._tempRTList[e+1].texture:this._tempRTList2[e+1].texture,this._blendPass.uniforms.colorWeight1=(1-this.blendRate)*this.strength,this._blendPass.uniforms.alphaWeight1=(1-this.blendRate)*this.strength,this._blendPass.uniforms.colorWeight2=this.blendRate*this.strength,this._blendPass.uniforms.alphaWeight2=this.blendRate*this.strength,this._blendPass.render(t);t.renderPass.setRenderTarget(a),t.renderPass.setClearColor(0,0,0,0),i?t.renderPass.clear(n.clearColor,n.clearDepth,n.clearStencil):t.renderPass.clear(!0,!0,!1),this._blendPass.uniforms.texture1=r.texture,this._blendPass.uniforms.texture2=this._tempRTList[0].texture,this._blendPass.uniforms.colorWeight1=1,this._blendPass.uniforms.alphaWeight1=1,this._blendPass.uniforms.colorWeight2=1,this._blendPass.uniforms.alphaWeight2=0,i&&(this._blendPass.material.transparent=n._tempClearColor[3]<1||!n.clearColor,this._blendPass.renderStates.camera.rect.fromArray(n._tempViewport)),this._blendPass.render(t),i&&(this._blendPass.material.transparent=!1,this._blendPass.renderStates.camera.rect.set(0,0,1,1)),this._tempRTList.forEach(((e,t)=>n._renderTargetCache.release(e,t))),this._tempRTList2.forEach(((e,t)=>n._renderTargetCache.release(e,t)))}}const Qe={name:"ec_sg_downsample",defines:{},uniforms:{tDiffuse:null,texSize:[512,512],bright:1},vertexShader:ee,fragmentShader:"\n\t\tvarying vec2 v_Uv;\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform vec2 texSize;\n\t\n\t\tuniform float bright;\n\t\t\n\t\tvoid main() {\n    \t\tvec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / texSize.xyxy;\n\t\t\tgl_FragColor = (texture2D(tDiffuse, v_Uv + d.xy) +\n\t\t\t\ttexture2D(tDiffuse, v_Uv + d.zy) +\n\t\t\t\ttexture2D(tDiffuse, v_Uv + d.xw) +\n\t\t\t\ttexture2D(tDiffuse, v_Uv + d.zw)) * bright * 0.25;\n\t\t}\n\t"};class qe extends J{constructor(){super(),this.bufferDependencies=[{key:"SceneBuffer"},{key:"MarkBuffer",mask:1},{key:"ColorMarkBuffer",mask:2}],this.center=new e.Vector2(.5,.5),this.direction=new e.Vector2(0,1),this.strength=1,this._maskPass=new e.ShaderPostPass(oe),this._tailingPass=new e.ShaderPostPass(Ke),this._blendPass=new e.ShaderPostPass(ne),this._blendPass.material.premultipliedAlpha=!0}render(t,n,r,a,i){const o=n._renderTargetCache.allocate(0),s=n._renderTargetCache.allocate(0),l=n.getBuffer("SceneBuffer"),u=n.getBuffer("MarkBuffer"),c=n.getBuffer("ColorMarkBuffer"),h=u.attachManager.has(this.name),f=c.attachManager.getAttachIndex(this.name),d=c.output(f)._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0];if(h){const n=u.attachManager.getAttachIndex(this.name),r=u.attachManager.getChannelIndex(this.name);t.renderPass.setRenderTarget(o),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._maskPass.uniforms.colorTexture=l.output()._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0],this._maskPass.uniforms.maskTexture=u.output(n)._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0],this._maskPass.uniforms.additiveTexture=d;for(let e=0;e<4;e++)this._maskPass.uniforms.channel[e]=e===r?1:0;this._maskPass.render(t)}t.renderPass.setRenderTarget(s),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._tailingPass.uniforms.blurMap=h?o.texture:d,this._tailingPass.uniforms.center[0]=this.center.x,this._tailingPass.uniforms.center[1]=this.center.y,this._tailingPass.uniforms.direction[0]=this.direction.x,this._tailingPass.uniforms.direction[1]=this.direction.y,this._tailingPass.uniforms.intensity=10*this.strength,this._tailingPass.render(t),t.renderPass.setRenderTarget(a),t.renderPass.setClearColor(0,0,0,0),i?t.renderPass.clear(n.clearColor,n.clearDepth,n.clearStencil):t.renderPass.clear(!0,!0,!1),this._blendPass.uniforms.texture1=r.texture,this._blendPass.uniforms.texture2=s.texture,this._blendPass.uniforms.colorWeight1=1,this._blendPass.uniforms.alphaWeight1=1,this._blendPass.uniforms.colorWeight2=1,this._blendPass.uniforms.alphaWeight2=0,i&&(this._blendPass.material.transparent=n._tempClearColor[3]<1||!n.clearColor,this._blendPass.renderStates.camera.rect.fromArray(n._tempViewport)),this._blendPass.render(t),i&&(this._blendPass.material.transparent=!1,this._blendPass.renderStates.camera.rect.set(0,0,1,1)),n._renderTargetCache.release(o,0),n._renderTargetCache.release(s,0)}}const Ke={name:"ec_tailing",defines:{},uniforms:{blurMap:null,blurStart:1,blurWidth:-.1,direction:[0,1],intensity:10,glowGamma:.8,center:[.5,.5]},vertexShader:ee,fragmentShader:"\n\t\tvarying vec2 v_Uv;\n\t\tuniform sampler2D blurMap;\n\t\tuniform float blurStart;\n\t\tuniform float blurWidth;\n\t\tuniform vec2 direction;\n\t\tuniform float intensity;\n\t\tuniform float glowGamma;\n\t\tuniform vec2 center;\n\n\t\tvoid main() {\n\t\t\tvec2 texCoord = v_Uv;\n\t\t\tvec4 blurred = texture2D(blurMap, texCoord);\n\t\t\tvec2 resCoord = vec2(0.0);\n\n\t\t\tfor(float i = 0.0; i < 31.0; i++) {\n\t\t\t\tfloat scale = blurStart + blurWidth * ((31.0 - i) / (31.0 - 1.0));\n\t\t\t\tvec2 tmp = texCoord * scale;\n\t\t\t\tresCoord = mix(texCoord, tmp, direction);\n\t\t\t\tvec4 tmpc = texture2D(blurMap, resCoord) * (i / 31.0) * (i / 31.0);\n\t\t\t\tblurred += tmpc / 31.0;\n\t\t\t}\n\n\t\t\tblurred.r = pow(blurred.r, glowGamma);\n\t\t\tblurred.g = pow(blurred.g, glowGamma);\n\t\t\tblurred.b = pow(blurred.b, glowGamma);\n\t\t\tblurred.rgb *= intensity;\n\t\t\tblurred.rgb = clamp(blurred.rgb, 0.0, 1.0);\n\n\t\t\tvec4 origTex = texture2D(blurMap, texCoord);\n\t\t\tvec4 blurResult = origTex + blurred;\n\t\t\t// blurResult *= 2;\n\n\t\t\tvec2 dir = texCoord - center;\n\t\t\tfloat dist = sqrt(dir.x * dir.x + dir.y * dir.y);\n\t\t\tfloat t = dist * 1.0;\n\t\t\tt = clamp(t, 0.0, 1.0); // We need 0 <= t <= 1\n\n\t\t\tgl_FragColor = blurResult * t;\n\t\t}\n    "};class Ze extends J{constructor(){super(),this.bufferDependencies=[{key:"SceneBuffer"},{key:"MarkBuffer",mask:1},{key:"ColorMarkBuffer",mask:2}],this.center=new e.Vector2(.5,.5),this.strength=1,this._maskPass=new e.ShaderPostPass(oe),this._radialTailingPass=new e.ShaderPostPass(Je),this._blendPass=new e.ShaderPostPass(ne),this._blendPass.material.premultipliedAlpha=!0}render(t,n,r,a,i){const o=n._renderTargetCache.allocate(0),s=n._renderTargetCache.allocate(0),l=n.getBuffer("SceneBuffer"),u=n.getBuffer("MarkBuffer"),c=n.getBuffer("ColorMarkBuffer"),h=u.attachManager.has(this.name),f=c.attachManager.getAttachIndex(this.name),d=c.output(f)._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0];if(h){const n=u.attachManager.getAttachIndex(this.name),r=u.attachManager.getChannelIndex(this.name);t.renderPass.setRenderTarget(o),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._maskPass.uniforms.colorTexture=l.output()._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0],this._maskPass.uniforms.maskTexture=u.output(n)._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0],this._maskPass.uniforms.additiveTexture=d;for(let e=0;e<4;e++)this._maskPass.uniforms.channel[e]=e===r?1:0;this._maskPass.render(t)}t.renderPass.setRenderTarget(s),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._radialTailingPass.uniforms.blurMap=h?o.texture:d,this._radialTailingPass.uniforms.center[0]=this.center.x,this._radialTailingPass.uniforms.center[1]=this.center.y,this._radialTailingPass.uniforms.intensity=10*this.strength,this._radialTailingPass.render(t),t.renderPass.setRenderTarget(a),t.renderPass.setClearColor(0,0,0,0),i?t.renderPass.clear(n.clearColor,n.clearDepth,n.clearStencil):t.renderPass.clear(!0,!0,!1),this._blendPass.uniforms.texture1=r.texture,this._blendPass.uniforms.texture2=s.texture,this._blendPass.uniforms.colorWeight1=1,this._blendPass.uniforms.alphaWeight1=1,this._blendPass.uniforms.colorWeight2=1,this._blendPass.uniforms.alphaWeight2=0,i&&(this._blendPass.material.transparent=n._tempClearColor[3]<1||!n.clearColor,this._blendPass.renderStates.camera.rect.fromArray(n._tempViewport)),this._blendPass.render(t),i&&(this._blendPass.material.transparent=!1,this._blendPass.renderStates.camera.rect.set(0,0,1,1)),n._renderTargetCache.release(o,0),n._renderTargetCache.release(s,0)}}const Je={name:"ec_radial_tailing",defines:{},uniforms:{blurMap:null,blurStart:1,blurWidth:-.1,intensity:10,glowGamma:.8,center:[.5,.5]},vertexShader:ee,fragmentShader:"\n\t\tvarying vec2 v_Uv;\n\t\tuniform sampler2D blurMap;\n\t\tuniform float blurStart;\n\t\tuniform float blurWidth;\n\t\tuniform float intensity;\n\t\tuniform float glowGamma;\n\t\tuniform vec2 center;\n\t\t\n\t\tvoid main() {\n\t\t\tvec2 texCoord = v_Uv;\n\t\t\tvec2 ctrPt = center;\n\t\t\tvec4 blurred = texture2D(blurMap, texCoord);\n\t\t\n\t\t\tfor(float i = 0.0; i < 31.0; i++) {\n\t\t\t\tfloat scale = blurStart + blurWidth * ((31.0 - i) / (31.0 - 1.0));\n\t\t\t\tvec2 tmp = (texCoord - ctrPt) * scale + ctrPt;\n\t\t\t\tvec4 tmpc = texture2D(blurMap, tmp) * (i / 31.0) * (i / 31.0);\n\t\t\n\t\t\t\tblurred += tmpc / 31.0;\n\t\t\t}\n\t\t\n\t\t\tblurred.r = pow(blurred.r, glowGamma);\n\t\t\tblurred.g = pow(blurred.g, glowGamma);\n\t\t\tblurred.b = pow(blurred.b, glowGamma);\n\t\t\tblurred.rgb *= intensity;\n\t\t\tblurred.rgb = clamp(blurred.rgb, 0.0, 1.0);\n\t\t\n\t\t\tvec4 origTex = texture2D(blurMap, texCoord);\n\t\t\tvec4 blurResult = origTex + blurred;\n\t\t\t// blurResult *= 2;\n\t\t\n\t\t\tvec2 dir = texCoord - ctrPt;\n\t\t\tfloat dist = sqrt(dir.x * dir.x + dir.y * dir.y);\n\t\t\tfloat t = dist * 1.0;\n\t\t\tt = clamp(t, 0.0, 1.0); // We need 0 <= t <= 1\n\t\t\n\t\t\tgl_FragColor = blurResult * t;\n\t\t}\n    "};class et extends J{constructor(){super(),this.bufferDependencies=[{key:"SceneBuffer"},{key:"MarkBuffer",mask:1},{key:"ColorMarkBuffer",mask:2}],this.center=new e.Vector2(.5,.5),this.strength=1,this._maskPass=new e.ShaderPostPass(oe),this._ghostingPass=new e.ShaderPostPass(tt),this._blendPass=new e.ShaderPostPass(ne),this._blendPass.material.premultipliedAlpha=!0}render(t,n,r,a,i){const o=n._renderTargetCache.allocate(0),s=n._renderTargetCache.allocate(0),l=n.getBuffer("SceneBuffer"),u=n.getBuffer("MarkBuffer"),c=n.getBuffer("ColorMarkBuffer"),h=u.attachManager.has(this.name),f=c.attachManager.getAttachIndex(this.name),d=c.output(f)._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0];if(h){const n=u.attachManager.getAttachIndex(this.name),r=u.attachManager.getChannelIndex(this.name);t.renderPass.setRenderTarget(o),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._maskPass.uniforms.colorTexture=l.output()._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0],this._maskPass.uniforms.maskTexture=u.output(n)._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0],this._maskPass.uniforms.additiveTexture=d;for(let e=0;e<4;e++)this._maskPass.uniforms.channel[e]=e===r?1:0;this._maskPass.render(t)}t.renderPass.setRenderTarget(s),t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(!0,!0,!1),this._ghostingPass.uniforms.blurMap=h?o.texture:d,this._ghostingPass.uniforms.center[0]=this.center.x,this._ghostingPass.uniforms.center[1]=this.center.y,this._ghostingPass.uniforms.intensity=3*this.strength,this._ghostingPass.render(t),t.renderPass.setRenderTarget(a),t.renderPass.setClearColor(0,0,0,0),i?t.renderPass.clear(n.clearColor,n.clearDepth,n.clearStencil):t.renderPass.clear(!0,!0,!1),this._blendPass.uniforms.texture1=r.texture,this._blendPass.uniforms.texture2=s.texture,this._blendPass.uniforms.colorWeight1=1,this._blendPass.uniforms.alphaWeight1=1,this._blendPass.uniforms.colorWeight2=1,this._blendPass.uniforms.alphaWeight2=0,i&&(this._blendPass.material.transparent=n._tempClearColor[3]<1||!n.clearColor,this._blendPass.renderStates.camera.rect.fromArray(n._tempViewport)),this._blendPass.render(t),i&&(this._blendPass.material.transparent=!1,this._blendPass.renderStates.camera.rect.set(0,0,1,1)),n._renderTargetCache.release(o,0),n._renderTargetCache.release(s,0)}}const tt={name:"ec_ghosting",defines:{},uniforms:{blurMap:null,blurStart:1,blurWidth:-.1,intensity:3,glowGamma:.8,center:[.5,.5]},vertexShader:ee,fragmentShader:"\n\t\tvarying vec2 v_Uv;\n\t\tuniform sampler2D blurMap;\n\t\tuniform float blurStart;\n\t\tuniform float blurWidth;\n\t\tuniform float intensity;\n\t\tuniform float glowGamma;\n\t\tuniform vec2 center;\n\t\t\n\t\tvoid main() {\n\t\t\tvec2 uv = v_Uv;\n\t\t\tvec2 ctrPt = center;\n\t\t\n\t\t\tfloat scale = blurStart + blurWidth * 1.0;\n\t\t\tvec2 tmp = (uv - ctrPt) * scale + ctrPt;\n\n\t\t\tvec4 blurred = texture2D(blurMap, tmp);\n\t\t\tblurred.rgb = pow(blurred.rgb, vec3(glowGamma));\n\t\t\tblurred.rgb *= intensity;\n\t\t\tblurred.rgb = clamp(blurred.rgb, 0.0, 1.0);\n\t\t\t\n\t\t\tvec2 dir = uv - ctrPt;\n\t\t\tfloat dist = sqrt(dir.x * dir.x + dir.y * dir.y);\n\t\t\n\t\t\tgl_FragColor = blurred * clamp(dist, 0.0, 1.0);\n\t\t}\n    "};class nt extends Z{constructor(t,n,r){super(t,n,r),this._rt=new e.RenderTarget2D(t,n),this._rt.texture.minFilter=e.TEXTURE_FILTER.NEAREST,this._rt.texture.magFilter=e.TEXTURE_FILTER.NEAREST,this._rt.texture.generateMipmaps=!1,r.floatColorBuffer?this._rt.texture.type=e.PIXEL_TYPE.FLOAT:this._rt.texture.type=e.PIXEL_TYPE.HALF_FLOAT;const a=new e.Texture2D;a.image={data:null,width:t,height:n},a.type=e.PIXEL_TYPE.UNSIGNED_INT_24_8,a.format=e.PIXEL_FORMAT.DEPTH_STENCIL,a.magFilter=e.TEXTURE_FILTER.NEAREST,a.minFilter=e.TEXTURE_FILTER.NEAREST,a.generateMipmaps=!1,a.flipY=!1,this._rt.attach(a,e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT),this._renderOptions={getMaterial:rt(),ifRender:function(e){return!!e.geometry.getAttribute("a_Normal")}},this._renderStates=null,this.layers=[0]}setGeometryReplaceFunction(e){e?this._renderOptions.getGeometry=e:delete this._renderOptions.getGeometry}setMaterialReplaceFunction(e){this._renderOptions.getMaterial=e?rt(e):rt()}render(e,t,n,r){if(!this.needRender())return;e.renderPass.setRenderTarget(this._rt),e.renderPass.setClearColor(0,0,0,0),e.renderPass.clear(!0,!0,!1);const a=this._renderOptions,i=n.getRenderStates(r),o=n.getRenderQueue(r);this._renderStates=i;const s=this.layers;for(let t=0,n=s.length;t<n;t++){const n=o.getLayer(s[t]);e.renderRenderableList(n.opaque,i,a),e.renderRenderableList(n.transparent,i,a)}}output(){return this._rt}getCurrentRenderStates(){return this._renderStates}resize(e,t){super.resize(e,t),this._rt.resize(e,t)}dispose(){super.dispose(),this._rt.dispose()}}function rt(e=ot){return function(t){const n=e(t);return n.diffuseMap=t.material.diffuseMap,n.uniforms.roughness=void 0!==t.material.roughness?t.material.roughness:.5,n.roughnessMap=t.material.roughnessMap,n.side=t.material.side,n}}const at=new Map,it=new WeakMap;function ot(t){let n=it.get(t.material);if(!n){const r=!t.geometry.attributes.a_Normal||t.material.shading===e.SHADING_TYPE.FLAT_SHADING,a=!!t.material.diffuseMap,i=!!t.material.roughnessMap,o=t.object.isSkinnedMesh&&t.object.skeleton,s=!!t.object.morphTargetInfluences,l=!!t.object.morphTargetInfluences&&t.object.geometry.morphAttributes.normal,u=t.material.side;let c=0;o&&(c=t.object.skeleton.boneTexture?1024:t.object.skeleton.bones.length);const h=r+"_"+a+"_"+i+"_"+o+"_"+c+"_"+s+"_"+l+"_"+u;if(n=at.get(h),!n){const d=new e.ShaderMaterial(st);d.shading=r?e.SHADING_TYPE.FLAT_SHADING:e.SHADING_TYPE.SMOOTH_SHADING,d.alphaTest=a?.999:0,d.side=u,n={refCount:0,material:d},at.set(h,n)}function f(){t.material.removeEventListener("dispose",f),it.delete(t.material),n.refCount--,n.refCount<=0&&at.delete(h)}it.set(t.material,n),n.refCount++,t.material.addEventListener("dispose",f)}return n.material}const st={name:"ec_gbuffer_ng",defines:{G_USE_ROUGHNESSMAP:!1},uniforms:{roughness:.5,roughnessMap:null},vertexShader:"\n        #include <common_vert>\n        #include <morphtarget_pars_vert>\n        #include <skinning_pars_vert>\n        #include <normal_pars_vert>\n        #include <uv_pars_vert>\n\t\t#include <logdepthbuf_pars_vert>\n        void main() {\n        \t#include <uv_vert>\n        \t#include <begin_vert>\n        \t#include <morphtarget_vert>\n        \t#include <morphnormal_vert>\n        \t#include <skinning_vert>\n        \t#include <skinnormal_vert>\n        \t#include <normal_vert>\n        \t#include <pvm_vert>\n\t\t\t#include <logdepthbuf_vert>\n        }\n    ",fragmentShader:"\n        #include <common_frag>\n        #include <diffuseMap_pars_frag>\n\n        #include <uv_pars_frag>\n\n        #include <packing>\n        #include <normal_pars_frag>\n\n        uniform float roughness;\n\n        #ifdef USE_ROUGHNESSMAP\n            uniform sampler2D roughnessMap;\n        #endif\n\n\t\t#include <logdepthbuf_pars_frag>\n\n        void main() {\n            #if defined(USE_DIFFUSE_MAP) && defined(ALPHATEST)\n                vec4 texelColor = texture2D(diffuseMap, v_Uv);\n                float alpha = texelColor.a * u_Opacity;\n                if(alpha < ALPHATEST) discard;\n            #endif\n\n\t\t\t#include <logdepthbuf_frag>\n\n            vec3 normal = normalize(v_Normal);\n\n\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\tnormal = normal * (float(gl_FrontFacing) * 2.0 - 1.0);\n\t\t\t#endif \n\n            float roughnessFactor = roughness;\n            #ifdef USE_ROUGHNESSMAP\n                roughnessFactor *= texture2D(roughnessMap, v_Uv).g;\n            #endif\n\n            vec4 packedNormalGlossiness;\n            packedNormalGlossiness.xyz = normal * 0.5 + 0.5;\n            packedNormalGlossiness.w = clamp(1. - roughnessFactor, 0., 1.);\n            \n            gl_FragColor = packedNormalGlossiness;\n        }\n    "};class lt{constructor(e){this.keys=new Array,this.masks=new Array,this.attachChannelSize=e}allocate(e,t=15){return this.keys.push(e),this.masks.push(t),this.keys.length-1}getAttachIndex(e){const t=this.keys.indexOf(e);return Math.max(0,Math.floor(t/this.attachChannelSize))}getChannelIndex(e){const t=this.keys.indexOf(e);return Math.max(0,t%this.attachChannelSize)}has(e){return this.keys.indexOf(e)>-1}count(){return this.keys.length}attachCount(){return Math.ceil(this.keys.length/this.attachChannelSize)}getKey(e,t){return this.keys[e*this.attachChannelSize+t]}getMask(e,t){return this.masks[e*this.attachChannelSize+t]}getAttachInfo(e,t={count:0,keys:[],masks:[]}){t.count=0;for(let n=0;n<this.attachChannelSize;n++){const r=this.getKey(e,n),a=this.getMask(e,n);void 0!==r&&void 0!==a&&(t.keys[t.count]=r,t.masks[t.count]=a,t.count++)}return t}reset(){this.keys.length=0,this.masks.length=0}}class ut extends Z{constructor(t,n,r){super(t,n,r),this._rts=[];for(let a=0;a<r.maxMarkAttachment;a++){const r=new e.RenderTarget2D(t,n);r.detach(e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT),this._rts.push(r)}this._mrts=[];for(let a=0;a<r.maxMarkAttachment;a++){const a=new e.RenderTarget2D(t,n);a.attach(new e.RenderBuffer(t,n,e.PIXEL_FORMAT.RGBA8,r.samplerNumber),e.ATTACHMENT.COLOR_ATTACHMENT0),a.detach(e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT),this._mrts.push(a)}this._state={attachIndex:0,attachInfo:{count:0,keys:[],masks:[]}};const a=new lt(4);this._opacityRenderOptions={getMaterial:ct(void 0,this._state,a,1),ifRender:ht(this._state,1)},this._transparentRenderOptions={getMaterial:ct(void 0,this._state,a,2),ifRender:ht(this._state,2)},this.attachManager=a,this.layers=[0]}setGeometryReplaceFunction(e){e?(this._opacityRenderOptions.getGeometry=e,this._transparentRenderOptions.getGeometry=e):(delete this._opacityRenderOptions.getGeometry,delete this._transparentRenderOptions.getGeometry)}setMaterialReplaceFunction(e){e?(this._opacityRenderOptions.getMaterial=ct(e,this._state,this.attachManager,1),this._transparentRenderOptions.getMaterial=ct(e,this._state,this.attachManager,2)):(this._opacityRenderOptions.getMaterial=ct(void 0,this._state,this.attachManager,1),this._transparentRenderOptions.getMaterial=ct(void 0,this._state,this.attachManager,2))}render(e,t,n,r){if(!this.needRender())return;const a=this.attachManager.attachCount();a>this._rts.length&&console.error("XXMarkBuffer: attachCount<"+a+"> bigger then options.maxMarkAttachment<"+this._rts.length+">.");for(let i=0;i<a;i++){const a=this._rts[i],o=this._mrts[i];t.$useMSAA?(e.renderPass.setRenderTarget(o),e.renderPass.setClearColor(0,0,0,0),e.renderPass.clear(!0,!1,!1)):(e.renderPass.setRenderTarget(a),e.renderPass.setClearColor(0,0,0,0),e.renderPass.clear(!0,!1,!1));const s=n.getRenderStates(r),l=n.getRenderQueue(r);this._state.attachIndex=i,this.attachManager.getAttachInfo(i,this._state.attachInfo);let u=0,c=this._state.attachInfo.masks,h=this._state.attachInfo.count;for(let e=0;e<h;e++)u|=c[e];const f=this.layers;for(let t=0,n=f.length;t<n;t++){const n=l.getLayer(f[t]);1&u&&e.renderRenderableList(n.opaque,s,this._opacityRenderOptions),2&u&&e.renderRenderableList(n.transparent,s,this._transparentRenderOptions)}t.$useMSAA&&(e.renderPass.setRenderTarget(a),e.renderPass.blitRenderTarget(o,a,!0,!1,!1)),e.renderPass.updateRenderTargetMipmap(a)}}output(e=0){return this._rts[e]}resize(e,t){super.resize(e,t),this._rts.forEach((n=>n.resize(e,t))),this._mrts.forEach((n=>n.resize(e,t)))}dispose(){super.dispose(),this._rts.forEach((e=>e.dispose())),this._mrts.forEach((e=>e.dispose()))}}function ct(t=dt,n,r,a){return function(i){const o=t(i);o.side=e.DRAW_SIDE.DOUBLE;for(let e=0;e<4;e++){const t=r.getKey(n.attachIndex,e),s=r.getMask(n.attachIndex,e);o.uniforms.mColor[e]=s&a&&i.object.effects[t]||0}return o}}function ht(e,t){return function(n){if(!n.object.effects)return!1;let r=0;for(let t=0;t<e.attachInfo.count;t++){const a=e.attachInfo.keys[t];n.object.effects[a]&&(r|=e.attachInfo.masks[t])}return r&t}}const ft=new Map;function dt(t){const n=t.object.isSkinnedMesh&&t.object.skeleton,r=!!t.object.morphTargetInfluences,a=t.material.drawMode,i=n+"_"+r+"_"+a;let o;return ft.has(i)?o=ft.get(i):(o=new e.ShaderMaterial(pt),o.premultipliedAlpha=!0,o.transparent=!0,o.blending=e.BLEND_TYPE.ADD,o.drawMode=a,ft.set(i,o)),o}const pt={name:"ec_mark",defines:{},uniforms:{mColor:[1,1,1,1]},vertexShader:"\n        #include <common_vert>\n        #include <morphtarget_pars_vert>\n        #include <skinning_pars_vert>\n        #include <uv_pars_vert>\n\t\t#include <logdepthbuf_pars_vert>\n        void main() {\n        \t#include <uv_vert>\n        \t#include <begin_vert>\n        \t#include <morphtarget_vert>\n        \t#include <skinning_vert>\n        \t#include <pvm_vert>\n\t\t\t#include <logdepthbuf_vert>\n        }\n    ",fragmentShader:"\n        #include <common_frag>\n        #include <diffuseMap_pars_frag>\n\n        #include <uv_pars_frag>\n\n\t\t#include <logdepthbuf_pars_frag>\n\n\t\tuniform vec4 mColor;\n\n        void main() {\n\t\t\t#include <logdepthbuf_frag>\n\t\t\t\n            #if defined(USE_DIFFUSE_MAP) && defined(ALPHATEST)\n                vec4 texelColor = texture2D(diffuseMap, v_Uv);\n                float alpha = texelColor.a * u_Opacity;\n                if(alpha < ALPHATEST) discard;\n            #endif\n\n            gl_FragColor = mColor;\n        }\n    "};class mt extends ut{constructor(e,t,n){super(e,t,n)}syncDepthAttachments(t,n){this._rts.forEach((e=>e.dispose())),this._mrts.forEach((e=>e.dispose())),he(t)?this._rts.forEach((n=>{n.attach(t,e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT),n.detach(e.ATTACHMENT.DEPTH_ATTACHMENT)})):this._rts.forEach((n=>{n.attach(t,e.ATTACHMENT.DEPTH_ATTACHMENT),n.detach(e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT)})),he(n)?this._mrts.forEach((t=>{t.attach(n,e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT),t.detach(e.ATTACHMENT.DEPTH_ATTACHMENT)})):this._mrts.forEach((t=>{t.attach(n,e.ATTACHMENT.DEPTH_ATTACHMENT),t.detach(e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT)})),this.needsUpdate=!0}}class gt extends Z{constructor(t,n,r){super(t,n,r),this._rts=[];for(let a=0;a<r.maxColorAttachment;a++){const r=new e.RenderTarget2D(t,n);r.detach(e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT),this._rts.push(r)}this._mrts=[];for(let a=0;a<r.maxColorAttachment;a++){const a=new e.RenderTarget2D(t,n);a.attach(new e.RenderBuffer(t,n,e.PIXEL_FORMAT.RGBA8,r.samplerNumber),e.ATTACHMENT.COLOR_ATTACHMENT0),a.detach(e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT),this._mrts.push(a)}const a={key:null};this._state=a;const i=new lt(1);this._renderOptions={getMaterial:bt(void 0,a),ifRender:function(e){return!!e.object.effects&&!!e.object.effects[a.key]}},this.attachManager=i,this.layers=[0]}setGeometryReplaceFunction(e){e?this._renderOptions.getGeometry=e:delete this._renderOptions.getGeometry}setMaterialReplaceFunction(e){this._renderOptions.getMaterial=bt(e||void 0,this._state)}syncDepthAttachments(t,n){this._rts.forEach((e=>e.dispose())),this._mrts.forEach((e=>e.dispose())),he(t)?this._rts.forEach((n=>{n.attach(t,e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT),n.detach(e.ATTACHMENT.DEPTH_ATTACHMENT)})):this._rts.forEach((n=>{n.attach(t,e.ATTACHMENT.DEPTH_ATTACHMENT),n.detach(e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT)})),he(n)?this._mrts.forEach((t=>{t.attach(n,e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT),t.detach(e.ATTACHMENT.DEPTH_ATTACHMENT)})):this._mrts.forEach((t=>{t.attach(n,e.ATTACHMENT.DEPTH_ATTACHMENT),t.detach(e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT)})),this.needsUpdate=!0}render(e,t,n,r){if(!this.needRender())return;const a=this.attachManager.attachCount();a>this._rts.length&&console.error("ColorMarkBuffer: attachCount<"+a+"> bigger then options.maxColorAttachment<"+this._rts.length+">.");for(let i=0;i<a;i++){const a=this._rts[i],o=this._mrts[i];t.$useMSAA?(e.renderPass.setRenderTarget(o),e.renderPass.setClearColor(0,0,0,0),e.renderPass.clear(!0,!1,!1)):(e.renderPass.setRenderTarget(a),e.renderPass.setClearColor(0,0,0,0),e.renderPass.clear(!0,!1,!1));const s=this._renderOptions,l=this.attachManager,u=n.getRenderStates(r),c=n.getRenderQueue(r);this._state.key=l.getKey(i,0);const h=l.getMask(i,0),f=this.layers;for(let t=0,n=f.length;t<n;t++){const n=c.getLayer(f[t]);1&h&&e.renderRenderableList(n.opaque,u,s),2&h&&e.renderRenderableList(n.transparent,u,s)}t.$useMSAA&&(e.renderPass.setRenderTarget(a),e.renderPass.blitRenderTarget(o,a,!0,!1,!1)),e.renderPass.updateRenderTargetMipmap(a)}}output(e=0){return this._rts[e]}resize(e,t){super.resize(e,t),this._rts.forEach((n=>n.resize(e,t))),this._mrts.forEach((n=>n.resize(e,t)))}dispose(){super.dispose(),this._rts.forEach((e=>e.dispose())),this._mrts.forEach((e=>e.dispose()))}}function bt(t=vt,n){return function(r){const a=t(r);return a.side=e.DRAW_SIDE.DOUBLE,a.uniforms.strength=r.object.effects[n.key]||0,a}}const _t=new Map;function vt(t){const n=t.object.isSkinnedMesh&&t.object.skeleton,r=!!t.object.morphTargetInfluences,a=t.material.drawMode,i=n+"_"+r+"_"+a+!!t.material.diffuseMap;let o;return _t.has(i)?o=_t.get(i):(o=new e.ShaderMaterial(yt),o.premultipliedAlpha=!1,o.drawMode=a,_t.set(i,o)),o.transparent=t.material.transparent,o.blending=t.material.blending,o.opacity=t.material.opacity,o.diffuse.copy(t.material.diffuse),o.diffuseMap=t.material.diffuseMap,o}const yt={name:"ec_color",defines:{},uniforms:{strength:1},vertexShader:"\n        #include <common_vert>\n        #include <morphtarget_pars_vert>\n        #include <skinning_pars_vert>\n        #include <uv_pars_vert>\n\t\t#include <logdepthbuf_pars_vert>\n        void main() {\n        \t#include <uv_vert>\n        \t#include <begin_vert>\n        \t#include <morphtarget_vert>\n        \t#include <skinning_vert>\n        \t#include <pvm_vert>\n\t\t\t#include <logdepthbuf_vert>\n        }\n    ",fragmentShader:"\n        #include <common_frag>\n        #include <diffuseMap_pars_frag>\n\n        #include <uv_pars_frag>\n\n\t\t#include <logdepthbuf_pars_frag>\n\n\t\tuniform float strength;\n\n        void main() {\n\t\t\t#include <logdepthbuf_frag>\n\n\t\t\tvec4 outColor = vec4(u_Color, u_Opacity);\n\n\t\t\t#ifdef USE_DIFFUSE_MAP\n\t\t\t\toutColor *= texture2D(diffuseMap, v_Uv);\n\t\t\t#endif\n\n\t\t\t#ifdef ALPHATEST\n\t\t\t\tif(outColor.a < ALPHATEST) discard;\n\t\t\t#endif\n\n\t\t\toutColor.a *= strength;\n\n            gl_FragColor = outColor;\n        }\n    "};class xt extends Z{constructor(t,n,r){super(t,n,r),this._rt=new e.RenderTarget2D(t,n),this._rt.detach(e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT),this._mrt=new e.RenderTarget2D(t,n),this._mrt.detach(e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT),this.clearColor=!0,this.clearDepth=!0,this.clearStencil=!0,this.renderLayers=[{id:0,mask:15}],this._sceneRenderOptions={}}syncAttachments(t,n,r,a){this._rt.dispose(),this._mrt.dispose(),this._rt.attach(t,e.ATTACHMENT.COLOR_ATTACHMENT0),he(n)?(this._rt.attach(n,e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT),this._rt.detach(e.ATTACHMENT.DEPTH_ATTACHMENT)):(this._rt.attach(n,e.ATTACHMENT.DEPTH_ATTACHMENT),this._rt.detach(e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT)),this._mrt.attach(r,e.ATTACHMENT.COLOR_ATTACHMENT0),he(a)?(this._mrt.attach(a,e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT),this._mrt.detach(e.ATTACHMENT.DEPTH_ATTACHMENT)):(this._mrt.attach(a,e.ATTACHMENT.DEPTH_ATTACHMENT),this._mrt.detach(e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT)),this.needsUpdate=!0}setGeometryReplaceFunction(e){e?this._sceneRenderOptions.getGeometry=e:delete this._sceneRenderOptions.getGeometry}setOutputEncoding(e){this._rt.texture.encoding=e}getOutputEncoding(){return this._rt.texture.encoding}render(t,n,r,a){if(!this.needRender())return;const i=n.$useMSAA,o=i?this._mrt:this._rt,s=!!o._attachments[e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT];t.renderPass.setRenderTarget(o),n.clearColor?t.renderPass.setClearColor(...n._tempClearColor):t.renderPass.setClearColor(0,0,0,0),t.renderPass.clear(this.clearColor,this.clearDepth,this.clearStencil&&s);const l=r.getRenderStates(a),u=r.getRenderQueue(a);this.$renderScene(t,u,l),i&&(t.renderPass.setRenderTarget(this._rt),t.renderPass.blitRenderTarget(this._mrt,this._rt,!0,!0,s)),t.renderPass.updateRenderTargetMipmap(this._rt)}output(){return this._rt}resize(e,t){super.resize(e,t),this._rt.resize(e,t),this._mrt.resize(e,t)}dispose(){super.dispose(),this._rt.dispose(),this._mrt.dispose()}$renderScene(e,t,n){const r=this._sceneRenderOptions,a=this.renderLayers;for(let i=0,o=a.length;i<o;i++){const{id:o,mask:s,options:l=r}=a[i],u=t.getLayer(o);u&&(u.opaqueCount>0&&1&s&&e.renderRenderableList(u.opaque,n,l),u.transparentCount>0&&2&s&&e.renderRenderableList(u.transparent,n,l))}const i=t.getLayer(1);i&&i.opaqueCount+i.transparentCount>0&&(e.renderPass.clear(!1,!0,!1),e.renderRenderableList(i.opaque,n,r),e.renderRenderableList(i.transparent,n,r))}}class At{constructor(e,t){this._width=e,this._height=t,this._map=new Map}allocate(t=0){let n=this._map.get(t);if(n||(n=[],this._map.set(t,n)),n.length>0)return n.shift();{const n=Math.pow(2,t),r=Math.ceil(this._width/n),a=Math.ceil(this._height/n),i=new e.RenderTarget2D(r,a),o=i._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0];return o.minFilter=e.TEXTURE_FILTER.LINEAR,o.magFilter=e.TEXTURE_FILTER.LINEAR,o.format=e.PIXEL_FORMAT.RGBA,o.generateMipmaps=!1,i.detach(e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT),i}}release(e,t=0){this._map.get(t).push(e)}resize(e,t){this._width=e,this._height=t,this._map.forEach(((e,t)=>{const n=Math.pow(2,t),r=Math.ceil(this._width/n),a=Math.ceil(this._height/n);e.forEach((e=>{e.resize(r,a)}))}))}updateStats(e){let t=0;this._map.forEach(((e,n)=>{const r=Math.pow(2,n);t+=e.length/(r*r)})),e.fboCache=t}dispose(){this._map.forEach((e=>{e.forEach((e=>{e.dispose()}))})),this._map.clear()}}class wt{constructor(t,n,r={}){this._size=new e.Vector2(t,n),r.webgl2=r.webgl2||!1,r.floatColorBuffer=r.floatColorBuffer||!1,r.samplerNumber=r.samplerNumber||8,r.maxMarkAttachment=r.maxMarkAttachment||5,r.maxColorAttachment=r.maxColorAttachment||5;const a=new xt(t,n,r),i=new nt(t,n,r),o=new ut(t,n,r),s=new mt(t,n,r),l=new gt(t,n,r);this._bufferMap=new Map([["SceneBuffer",a],["GBuffer",i],["NonDepthMarkBuffer",o],["MarkBuffer",s],["ColorMarkBuffer",l]]),this._defaultColorTexture=new e.Texture2D,this._defaultMSColorRenderBuffer=new e.RenderBuffer(t,n,e.PIXEL_FORMAT.RGBA8,r.samplerNumber),this._defaultDepthRenderBuffer=new e.RenderBuffer(t,n,e.PIXEL_FORMAT.DEPTH_COMPONENT16),this._defaultMSDepthRenderBuffer=new e.RenderBuffer(t,n,e.PIXEL_FORMAT.DEPTH_COMPONENT16,r.samplerNumber),this._defaultDepthStencilRenderBuffer=new e.RenderBuffer(t,n,e.PIXEL_FORMAT.DEPTH_STENCIL),this._defaultMSDepthStencilRenderBuffer=new e.RenderBuffer(t,n,e.PIXEL_FORMAT.DEPTH24_STENCIL8,r.samplerNumber),this._externalColorAttachment=null,this._externalDepthAttachment=null,this._samplerNumber=r.samplerNumber,this._externalMSAA=null,this._stencilBuffer=!1,this._syncAttachments(),this._renderTargetCache=new At(t,n),this._effectList=[],this._tempClearColor=[0,0,0,1],this._tempViewport=[0,0,1,1],this._tempBufferNames=new Set,this._stats={fboCache:0,markBuffers:0,colorMarkBuffers:0,currentBufferUsage:{}},this.sceneMSAA=!1,this.clearColor=!0,this.clearDepth=!0,this.clearStencil=!1,this.debugger=null}getSize(){return this._size}_syncAttachments(){const e=this._externalColorAttachment,t=this._externalDepthAttachment,n=!!e&&!!t,r=this._externalMSAA;let a=this._stencilBuffer;n&&(a=he(t));const i=a?this._defaultDepthStencilRenderBuffer:this._defaultDepthRenderBuffer,o=a?this._defaultMSDepthStencilRenderBuffer:this._defaultMSDepthRenderBuffer;let s,l,u,c,h,f;n?r?(s=this._defaultColorTexture,l=i,u=e,c=t,h=i,f=t):(s=e,l=t,u=this._defaultMSColorRenderBuffer,c=o,h=t,f=o):(s=this._defaultColorTexture,l=i,u=this._defaultMSColorRenderBuffer,c=o,h=i,f=o),this._bufferMap.forEach((e=>{e.syncAttachments?e.syncAttachments(s,l,u,c):e.syncDepthAttachments&&e.syncDepthAttachments(h,f)}))}set stencilBuffer(e){this._stencilBuffer=e,this._syncAttachments()}get stencilBuffer(){return this._stencilBuffer}setExternalAttachment(e,t){const n=Pt(e);n===Pt(t)?(this._externalColorAttachment=e,this._externalDepthAttachment=t,this._externalMSAA=n>0,this._syncAttachments()):console.warn("EffectComposer.setExternalAttachment: color and depth attachment MultipleSampling not match.")}clearExternalAttachment(){this._externalColorAttachment=null,this._externalDepthAttachment=null,this._externalMSAA=null,this._syncAttachments()}addBuffer(e,t){this._bufferMap.set(e,t)}removeBuffer(e){this._bufferMap.delete(e)}getBuffer(e){return this._bufferMap.get(e)}addEffect(e,t,n=0){this.getEffect(e)?console.warn(""):(t.name=e,this._effectList.push({name:e,effect:t,order:n}),t.resize(this._size.x,this._size.y))}removeEffect(e){const t=this._effectList.findIndex((t=>t.name===e));t>-1&&this._effectList.splice(t,1)}getEffect(e){const t=this._effectList.find((t=>t.name===e));return t?t.effect:null}render(e,t,n,r){const a=t.getRenderStates(n);if(e.renderPass.getClearColor().toArray(this._tempClearColor),n.rect.toArray(this._tempViewport),n.rect.set(0,0,1,1),a.camera.rect.set(0,0,1,1),this._bufferMap.forEach((e=>{e.attachManager&&e.attachManager.reset()})),this.debugger)return this.debugger.bufferDependencies.forEach((r=>{const a=this._bufferMap.get(r);this.debugger.channel&&a.attachManager&&a.attachManager.allocate(this.debugger.channel,this.debugger.mask),a.render(e,this,t,n)})),this.debugger.render(e,this,r),void e.renderPass.setClearColor(...this._tempClearColor);this._effectList.sort(Et);let i=this._effectList.findIndex((e=>e.effect.active));const o=i>-1;if(this._tempBufferNames.clear(),o){this._tempBufferNames.add("SceneBuffer"),this._effectList.forEach((e=>{e.effect.active&&e.effect.bufferDependencies.forEach((({key:t,mask:n})=>{this._tempBufferNames.add(t),this._bufferMap.get(t).attachManager&&this._bufferMap.get(t).attachManager.allocate(e.name,n)}))})),this._tempBufferNames.forEach((r=>{this._bufferMap.get(r).render(e,this,t,n)}));let a,o=this._renderTargetCache.allocate(),s=this._renderTargetCache.allocate();this._effectList.sort(Tt);const l=this._effectList.length,u=this._effectList.findIndex((e=>e.effect.active));i=l-1-i,this._effectList.forEach(((t,n)=>{if(!t.effect.active)return;const l=n<i;t.effect.render(e,this,n===u?this._bufferMap.get("SceneBuffer").output():o,l?s:r,!l),a=o,o=s,s=a})),this._renderTargetCache.release(o),this._renderTargetCache.release(s)}else{e.renderPass.setRenderTarget(r),e.renderPass.setClearColor(...this._tempClearColor),e.renderPass.clear(this.clearColor,this.clearDepth,this.clearStencil),a.camera.rect.fromArray(this._tempViewport);const i=t.getRenderQueue(n);this._bufferMap.get("SceneBuffer").$renderScene(e,i,a)}e.renderPass.setClearColor(...this._tempClearColor),n.rect.fromArray(this._tempViewport),a.camera.rect.fromArray(this._tempViewport)}getStats(){this._renderTargetCache.updateStats(this._stats);const e=this.getBuffer("MarkBuffer").attachManager.attachCount(),t=this.getBuffer("NonDepthMarkBuffer").attachManager.attachCount(),n=this.getBuffer("ColorMarkBuffer").attachManager.attachCount();this._stats.markBuffers=e+t,this._stats.colorMarkBuffers=n;for(const[e,t]of this._bufferMap)t.attachManager||(this._stats.currentBufferUsage[e]=this._tempBufferNames.has(e)?1:0);return this._stats}resize(e,t){this._size.set(e,t),this._bufferMap.forEach((n=>n.resize(e,t))),this._renderTargetCache.resize(e,t),this._effectList.forEach((n=>n.effect.resize(e,t)))}dispose(){this._bufferMap.forEach((e=>e.dispose())),this._renderTargetCache.dispose(),this._effectList.forEach((e=>e.effect.dispose()))}get $useMSAA(){return(null!==this._externalMSAA?this._externalMSAA:this.sceneMSAA)&&this._samplerNumber>1}}function Tt(e,t){return e.order-t.order}function Et(e,t){return t.order-e.order}function Pt(e){return e.isTexture?0:e.multipleSampling}class St extends wt{constructor(e,t,n){super(e,t,n),this.addEffect("SSAO",new we,0),this.addEffect("SSR",new Fe,1),this.addEffect("ColorCorrection",new me,2),this.addEffect("DOF",new be,3),this.addEffect("Bloom",new fe,4),this.addEffect("InnerGlow",new ze,10),this.addEffect("Glow",new Ve,11),this.addEffect("SoftGlow",new Ye,12),this.addEffect("Tailing",new qe,13),this.addEffect("RadialTailing",new Ze,14),this.addEffect("Ghosting",new et,15),this.addEffect("FXAA",new xe,101),this.addEffect("ChromaticAberration",new de,102),this.addEffect("Vignetting",new De,103),this.addEffect("BlurEdge",new Ue,104),this.addEffect("Film",new ve,105),this._effectList.forEach((e=>e.effect.active=!1))}}class Ct{constructor(){this.bufferDependencies=[]}render(e,t,n){console.error("Debugger: .render() must be implemented in subclass.")}resize(e,t){}dispose(){}}class Nt extends Ct{constructor(){super(),this.bufferDependencies=["GBuffer"],this._mainPass=new e.ShaderPostPass(Mt),this.debugType=It.Normal}render(t,n,r){t.renderPass.setRenderTarget(r),t.renderPass.setClearColor(0,0,0,1),t.renderPass.clear(!0,!0,!1);const a=n.getBuffer("GBuffer"),i=a.getCurrentRenderStates();this._mainPass.uniforms.normalGlossinessTexture=a.output()._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0],this._mainPass.uniforms.depthTexture=a.output()._attachments[e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT],this._mainPass.uniforms.debug=this.debugType||0,i.camera.projectionViewMatrix.toArray(this._mainPass.uniforms.projectionView),this._mainPass.render(t)}}const It={Normal:0,Depth:1,Position:2,Glossiness:3};Nt.DebugTypes=It;const Mt={name:"ec_debug_gbuffer",defines:{},uniforms:{normalGlossinessTexture:null,depthTexture:null,projectionView:new Float32Array(16),debug:0},vertexShader:ee,fragmentShader:"\n\t\tuniform sampler2D normalGlossinessTexture;\n\t\tuniform sampler2D depthTexture;\n\t\tuniform int debug;\n\n\t\tuniform mat4 projectionView;\n\n\t\tvarying vec2 v_Uv;\n\n\t\tvoid main() {\n\t\t\tvec2 texCoord = v_Uv;\n\t\t\tvec4 texel = texture2D(normalGlossinessTexture, texCoord);\n\n\t\t\tif (dot(texel.rgb, vec3(1.0)) == 0.0) {\n\t\t\t\tdiscard;\n\t\t\t}\n\n\t\t\tfloat depth = texture2D(depthTexture, texCoord).r;\n\n\t\t\tvec2 xy = texCoord * 2.0 - 1.0;\n\t\t\tfloat z = depth * 2.0 - 1.0;\n\n\t\t\tvec4 projectedPos = vec4(xy, z, 1.0);\n\t\t\tvec4 p4 = inverse(projectionView) * projectedPos;\n\n\t\t\tvec3 position = p4.xyz / p4.w;\n\n\t\t\tif (debug == 0) {\n\t\t\t\tgl_FragColor = vec4(texel.rgb, 1.0);\n\t\t\t} else if (debug == 1) {\n\t\t\t\tgl_FragColor = vec4(vec3(depth), 1.0);\n\t\t\t} else if (debug == 2) {\n\t\t\t\tgl_FragColor = vec4(position, 1.0);\n\t\t\t} else {\n\t\t\t\tgl_FragColor = vec4(vec3(texel.a), 1.0);\n\t\t\t}\n\t\t}\n\t"};class Ft extends Ct{constructor(){super(),this.bufferDependencies=["GBuffer"],this.defaultEffect=new we}render(e,t,n){(t.getEffect("SSAO")||this.defaultEffect).render(e,t,null,n)}resize(e,t){this.defaultEffect.resize(e,t)}dispose(){this.defaultEffect.dispose()}}class Lt extends Ct{constructor(){super(),this.bufferDependencies=["SceneBuffer","GBuffer"],this.defaultEffect=new Fe}render(e,t,n){(t.getEffect("SSR")||this.defaultEffect).render(e,t,null,n)}resize(e,t){this.defaultEffect.resize(e,t)}dispose(){this.defaultEffect.dispose()}}wt.prototype.setGeometryReplaceFunction=function(e){console.warn("EffectComposer.setGeometryReplaceFunction has been removed, use SceneBuffer.setGeometryReplaceFunction instead."),this._bufferMap.get("SceneBuffer").setGeometryReplaceFunction(e)},Object.defineProperties(wt.prototype,{customRenderLayers:{set:function(e){console.error("EffectComposer.customRenderLayers has been removed, use SceneBuffer.renderLayers instead.")},get:function(){console.error("EffectComposer.customRenderLayers has been removed, use SceneBuffer.renderLayers instead.")}}});class Rt extends Z{constructor(t,n,r){super(t,n,r),this._rt=new e.RenderTarget2D(t,n),this._rt.texture.minFilter=e.TEXTURE_FILTER.NEAREST,this._rt.texture.magFilter=e.TEXTURE_FILTER.NEAREST,this._rt.texture.generateMipmaps=!1,this._uvMaterialCache=new kt,this._uvCheckTexture=r.uvCheckTexture,this._renderOptions={getMaterial:e=>{const t=this._uvMaterialCache.getUvMaterial(e);return t.uniforms.checkMap=this._uvCheckTexture,t.side=e.material.side,t},ifRender:e=>!!e.geometry.getAttribute("a_Uv")},this.layers=[0]}render(e,t,n,r){if(!this.needRender())return;e.renderPass.setRenderTarget(this._rt),e.renderPass.setClearColor(0,0,0,0),e.renderPass.clear(!0,!0,!1);const a=n.getRenderStates(r),i=n.getRenderQueue(r),o=this.layers;for(let t=0,n=o.length;t<n;t++){const n=i.getLayer(o[t]);e.renderRenderableList(n.opaque,a,this._renderOptions),e.renderRenderableList(n.transparent,a,this._renderOptions)}}output(){return this._rt}resize(e,t){super.resize(e,t),this._rt.resize(e,t)}dispose(){super.dispose(),this._rt.dispose()}}class kt{constructor(){this._map=new Map,this._weakMap=new WeakMap}getUvMaterial(t){let n=this._weakMap.get(t.material);if(!n){const r=t.object.isSkinnedMesh&&t.object.skeleton,a=!!t.object.morphTargetInfluences;let i=0;r&&(i=t.object.skeleton.boneTexture?1024:t.object.skeleton.bones.length);const o=r+"_"+i+"_"+a;if(n=this._map.get(o),!n){const l=new e.ShaderMaterial($t);n={refCount:0,material:l},this._map.set(o,n)}function s(){t.material.removeEventListener("dispose",s),this._weakMap.delete(t.material),n.refCount--,n.refCount<=0&&this._map.delete(o)}this._weakMap.set(t.material,n),n.refCount++,t.material.addEventListener("dispose",s)}return n.material}}const $t={name:"uv_shader",defines:{},uniforms:{checkMap:null},vertexShader:"\n        #include <common_vert>\n        #include <morphtarget_pars_vert>\n        #include <skinning_pars_vert>\n        \n        uniform mat3 uvTransform;\n        attribute vec2 a_Uv;\n        varying vec2 v_Uv;\n\n\t\t#include <logdepthbuf_pars_vert>\n        void main() {\n        \tv_Uv = (uvTransform * vec3(a_Uv, 1.)).xy;\n        \t#include <begin_vert>\n        \t#include <morphtarget_vert>\n        \t#include <skinning_vert>\n        \t#include <pvm_vert>\n\t\t\t#include <logdepthbuf_vert>\n        }\n    ",fragmentShader:"\n        #include <common_frag>\n\n        varying vec2 v_Uv;\n\n\t\t#include <logdepthbuf_pars_frag>\n\n\t\tuniform sampler2D checkMap;\n\n        void main() {\n\t\t\t#include <logdepthbuf_frag>\n\n            vec4 color = texture2D(checkMap, v_Uv);\n\n            gl_FragColor = vec4(color.rgb, 1.);\n        }\n    "};class Dt extends Ct{constructor(){super(),this.bufferDependencies=["UVBuffer"],this._mainPass=new e.ShaderPostPass(ae)}render(t,n,r){t.renderPass.setRenderTarget(r),t.renderPass.setClearColor(0,0,0,1),t.renderPass.clear(!0,!0,!1);const a=n.getBuffer("UVBuffer");this._mainPass.uniforms.tDiffuse=a.output()._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0],this._mainPass.render(t)}}class Ot extends Ct{constructor(){super(),this.bufferDependencies=["SceneBuffer","LensflareBuffer"],this._mainPass=new e.ShaderPostPass(ae)}render(t,n,r){t.renderPass.setRenderTarget(r),t.renderPass.setClearColor(0,0,0,1),t.renderPass.clear(!0,!0,!1);const a=n.getBuffer("LensflareBuffer");this._mainPass.uniforms.tDiffuse=a.output()._attachments[e.ATTACHMENT.COLOR_ATTACHMENT0],this._mainPass.render(t)}}class Ut extends Z{constructor(t,n){super(t,n),this._occlusionRenderTarget=new e.RenderTarget2D(t,n),this._occlusionRenderTarget.texture.minFilter=e.TEXTURE_FILTER.NEAREST,this._occlusionRenderTarget.texture.magFilter=e.TEXTURE_FILTER.NEAREST,this._occlusionRenderTarget.texture.generateMipmaps=!1,this.lensflareInfos=[]}syncDepthAttachments(t,n){const r=this._occlusionRenderTarget;r.dispose(),he(t)?(r.attach(t,e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT),r.detach(e.ATTACHMENT.DEPTH_ATTACHMENT)):(r.attach(t,e.ATTACHMENT.DEPTH_ATTACHMENT),r.detach(e.ATTACHMENT.DEPTH_STENCIL_ATTACHMENT)),this.needsUpdate=!0}render(e,t,n,r){if(!this.needRender())return;const a=n.getRenderStates(r),i=n.getRenderQueue(r).getLayer(5);if(!i)return;e.renderPass.setRenderTarget(this._occlusionRenderTarget),e.renderPass.setClearColor(0,0,0,0),e.renderPass.clear(!0,!1,!1);const o=this._occlusionRenderTarget.height/this._occlusionRenderTarget.width;this.lensflareInfos.length=0,e.renderRenderableList(i.opaque,a,{beforeRender:e=>{const{object:t,material:n}=e;jt.setFromMatrixPosition(t.worldMatrix).applyMatrix4(r.viewMatrix).applyMatrix4(r.projectionMatrix),jt.toArray(n.uniforms.screenPosition),n.uniforms.scale[0]=n.uniforms.scale[1]*o,this.lensflareInfos.push({screenX:jt.x,screenY:jt.y,scaleX:n.uniforms.scale[0],scaleY:n.uniforms.scale[1],elements:t.lensflareElements})}})}output(){return this._occlusionRenderTarget}resize(e,t){super.resize(e,t),this._occlusionRenderTarget.resize(e,t)}dispose(){super.dispose(),this._occlusionRenderTarget.dispose()}}const jt=new e.Vector3;class zt extends J{constructor(){super(),this.bufferDependencies=[{key:"SceneBuffer"},{key:"LensflareBuffer"}],this._clipPass=new e.ShaderPostPass(Bt),this._lensflarePass=new e.ShaderPostPass(Ht),this._lensflarePass.material.transparent=!0,this._lensflarePass.material.blending=e.BLEND_TYPE.ADD,this._lensflarePass.material.depthWrite=!1,this._blendPass=new e.ShaderPostPass(ne),this._blendPass.material.premultipliedAlpha=!0,this._clippedRT=new e.RenderTarget2D(64,64),this._clippedRT.texture.minFilter=e.TEXTURE_FILTER.NEAREST,this._clippedRT.texture.magFilter=e.TEXTURE_FILTER.NEAREST,this._clippedRT.texture.generateMipmaps=!1}render(e,t,n,r,a){const i=t._renderTargetCache.allocate(0),o=t.getBuffer("LensflareBuffer"),s=o.lensflareInfos;e.renderPass.setRenderTarget(i),e.renderPass.setClearColor(0,0,0,0),e.renderPass.clear(!0,!0,!0),s.forEach((({screenX:t,screenY:n,scaleX:r,scaleY:a,elements:s})=>{e.renderPass.setRenderTarget(this._clippedRT),e.renderPass.setClearColor(0,0,0,0),e.renderPass.clear(!0,!0,!0),this._clipPass.uniforms.tDiffuse=o.output().texture,this._clipPass.uniforms.clipRect[0]=.5*(t-r)+.5,this._clipPass.uniforms.clipRect[1]=.5*(n-a)+.5,this._clipPass.uniforms.clipRect[2]=r,this._clipPass.uniforms.clipRect[3]=a,this._clipPass.render(e),e.renderPass.setRenderTarget(i),s.forEach((({texture:r,color:a,scale:o,offset:s})=>{const l=2*-t,u=2*-n,c=this._lensflarePass.material;c.uniforms.map=r,c.uniforms.occlusionMap=this._clippedRT.texture,c.uniforms.screenPosition[0]=t+l*s,c.uniforms.screenPosition[1]=n+u*s,c.uniforms.scale[0]=o*i.height/i.width,c.uniforms.scale[1]=o,a.toArray(c.uniforms.color),e.renderPass.render(this._lensflarePass.renderQueueLayer.opaque[0],this._lensflarePass.renderStates,this._lensflarePass.renderConfig)}))})),e.renderPass.setRenderTarget(r),e.renderPass.setClearColor(0,0,0,0),a?e.renderPass.clear(t.clearColor,t.clearDepth,t.clearStencil):e.renderPass.clear(!0,!0,!1),this._blendPass.uniforms.texture1=n.texture,this._blendPass.uniforms.texture2=i.texture,this._blendPass.uniforms.colorWeight1=1,this._blendPass.uniforms.alphaWeight1=1,this._blendPass.uniforms.colorWeight2=1,this._blendPass.uniforms.alphaWeight2=1,a&&(this._blendPass.material.transparent=t._tempClearColor[3]<1||!t.clearColor,this._blendPass.renderStates.camera.rect.fromArray(t._tempViewport)),this._blendPass.render(e),a&&(this._blendPass.material.transparent=!1,this._blendPass.renderStates.camera.rect.set(0,0,1,1)),t._renderTargetCache.release(i,0)}resize(e,t){}dispose(){this._clippedRT.dispose()}}const Bt={name:"lensflare_clip",defines:{},uniforms:{tDiffuse:null,clipRect:[0,0,1,1]},vertexShader:"\n\t\tattribute vec3 a_Position;\n\t\tattribute vec2 a_Uv;\n\n\t\tuniform mat4 u_ProjectionView;\n\t\tuniform mat4 u_Model;\n\n\t\tuniform vec4 clipRect;\n\n\t\tvarying vec2 v_Uv;\n\n\t\tvoid main() {\n\t\t\tv_Uv = a_Uv * clipRect.zw + clipRect.xy;\n\t\t\tgl_Position = u_ProjectionView * u_Model * vec4(a_Position, 1.0);\n\t\t}\n\t",fragmentShader:"\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 v_Uv;\n\n\t\tvoid main() {\n\t\t\tvec4 texel = texture2D(tDiffuse, v_Uv);\n\t\t\tgl_FragColor = texel;\n\t\t}\n\t"},Ht={name:"lensflare",defines:{},uniforms:{map:null,occlusionMap:null,color:[1,1,1],scale:[1,1],screenPosition:[0,0,0]},vertexShader:"\n\t\tuniform vec3 screenPosition;\n\t\tuniform vec2 scale;\n\n\t\tuniform sampler2D occlusionMap;\n\n\t\tattribute vec3 a_Position;\n\t\tattribute vec2 a_Uv;\n\n\t\tvarying vec2 v_Uv;\n\t\tvarying float v_Visibility;\n\n\t\tvoid main() {\n\t\t\tv_Uv = a_Uv;\n\n\t\t\tvec2 pos = a_Position.xz;\n\t\t\tpos.y = -pos.y;\n\n\t\t\tvec4 visibility = texture2D(occlusionMap, vec2(0.5, 0.5)) * 0.2;\n\t\t\tvisibility += texture2D(occlusionMap, vec2(0.34, 0.34)) * 0.1;\n\t\t\tvisibility += texture2D(occlusionMap, vec2(0.34, 0.66)) * 0.1;\n\t\t\tvisibility += texture2D(occlusionMap, vec2(0.66, 0.34)) * 0.1;\n\t\t\tvisibility += texture2D(occlusionMap, vec2(0.66, 0.66)) * 0.1;\n\t\t\tvisibility += texture2D(occlusionMap, vec2(0.18, 0.5)) * 0.1;\n\t\t\tvisibility += texture2D(occlusionMap, vec2(0.82, 0.5)) * 0.1;\n\t\t\tvisibility += texture2D(occlusionMap, vec2(0.5, 0.18)) * 0.1;\n\t\t\tvisibility += texture2D(occlusionMap, vec2(0.5, 0.82)) * 0.1;\n\n\t\t\tv_Visibility = visibility.r;\n\n\t\t\tgl_Position = vec4(pos * scale + screenPosition.xy, screenPosition.z, 1.0);\n\t\t}\n\t",fragmentShader:"\n\t\tuniform sampler2D map;\n\t\tuniform vec3 color;\n\n\t\tvarying vec2 v_Uv;\n\t\tvarying float v_Visibility;\n\n\t\tvoid main() {\n\t\t\tvec4 texture = texture2D(map, v_Uv);\n\t\t\ttexture.a *= v_Visibility;\n\t\t\tgl_FragColor = texture;\n\t\t\tgl_FragColor.rgb *= color;\n\t\t}\n\t"};class Xt extends St{constructor(t,n,r){super(t,n,{samplerNumber:Math.min(r.renderPass.capabilities.maxSamples,5),webgl2:!0,floatColorBuffer:!!r.renderPass.capabilities.getExtension("EXT_color_buffer_float")}),this.sceneMSAA=!0;const a=(new I).load("../../textures/uv_checker.jpg");a.anisotropy=8,this.getBuffer("SceneBuffer").setOutputEncoding(e.TEXEL_ENCODING_TYPE.GAMMA),this.getBuffer("ColorMarkBuffer").setMaterialReplaceFunction(Gt),this.addBuffer("UVBuffer",new Rt(t,n,{uvCheckTexture:a})),this.addBuffer("LensflareBuffer",new Ut(t,n)),this._syncAttachments(),this.getBuffer("ColorMarkBuffer").setGeometryReplaceFunction(Yt),this.getBuffer("GBuffer").setGeometryReplaceFunction(Yt),this.getBuffer("MarkBuffer").setGeometryReplaceFunction(Yt),this.getBuffer("NonDepthMarkBuffer").setGeometryReplaceFunction(Yt),this.getBuffer("SceneBuffer").setGeometryReplaceFunction(Yt),this.getBuffer("SceneBuffer").renderLayers=[{id:2,mask:15},{id:0,mask:15}],this.getEffect("Glow").bufferDependencies=[{key:"SceneBuffer"},{key:"ColorMarkBuffer",mask:15}],this.addEffect("Lensflare",new zt,101.5),this.getEffect("Lensflare").active=!0,this._gBufferDebugger=new Nt,this._ssaoDebugger=new Ft,this._ssrDebugger=new Lt,this._uvDebugger=new Dt,this._lensflareDebugger=new Ot}setOptions(t){this.sceneMSAA=t.MSAA;const n=this.getEffect("ColorCorrection");for(const e in t.colorCorrection)n[e]=t.colorCorrection[e];const r=this.getEffect("Bloom");for(const e in t.bloom)r[e]=t.bloom[e];const a=this.getEffect("Glow");for(const e in t.glow)a[e]=t.glow[e];const i=this.getEffect("SSAO");for(const e in t.ssao)"options"!==e&&(i[e]=t.ssao[e]);const o=this.getEffect("SSR");for(const e in t.ssr)"options"!==e&&(o[e]=t.ssr[e]);const s=this.getEffect("DOF");for(const e in t.dof)"options"!==e&&(s[e]=t.dof[e]);this.getEffect("FXAA").active=t.fxaa.active;const l=this.getEffect("ChromaticAberration");for(const e in t.chromaticaberration)"options"!==e&&(l[e]=t.chromaticaberration[e]);const u=this.getEffect("Vignetting");u.active=t.vignetting.active,u.offset=t.vignetting.offset,u.color=new e.Color3(parseInt(t.vignetting.color.charAt(1)+t.vignetting.color.charAt(2),16)/255,parseInt(t.vignetting.color.charAt(3)+t.vignetting.color.charAt(4),16)/255,parseInt(t.vignetting.color.charAt(5)+t.vignetting.color.charAt(6),16)/255);const c=this.getEffect("BlurEdge");for(const e in t.bluredge)"options"!==e&&(c[e]=t.bluredge[e]);const h=this.getEffect("Film");for(const e in t.film)"options"!==e&&(h[e]=t.film[e]);this.getEffect("Lensflare").active=t.lensflare.active}setDebugger(e){"Normal"===e.type?(this._gBufferDebugger.debugType=Nt.DebugTypes.Normal,this.debugger=this._gBufferDebugger):"Depth"===e.type?(this._gBufferDebugger.debugType=Nt.DebugTypes.Depth,this.debugger=this._gBufferDebugger):"Position"===e.type?(this._gBufferDebugger.debugType=Nt.DebugTypes.Position,this.debugger=this._gBufferDebugger):"SSAO"===e.type?this.debugger=this._ssaoDebugger:"SSR"===e.type?this.debugger=this._ssrDebugger:"UV"===e.type?this.debugger=this._uvDebugger:"Lensflare"===e.type?this.debugger=this._lensflareDebugger:this.debugger=null}}const Vt=new Map;function Gt(t){const n=t.object.isSkinnedMesh&&t.object.skeleton,r=!!t.object.morphTargetInfluences,a=t.material.drawMode,i=n+"_"+r+"_"+a+!!t.material.diffuseMap;let o;return Vt.has(i)?o=Vt.get(i):(o=new e.ShaderMaterial(Wt),o.premultipliedAlpha=!1,o.drawMode=a,Vt.set(i,o)),o.transparent=t.material.transparent,o.blending=t.material.blending,o.opacity=t.material.opacity,o.diffuse.copy(t.material.diffuse),o.diffuseMap=t.material.diffuseMap,o.emissive.copy(t.material.emissive),o}const Wt={name:"ec_color",defines:{},uniforms:{strength:1},vertexShader:"\n        #include <common_vert>\n        #include <morphtarget_pars_vert>\n        #include <skinning_pars_vert>\n        #include <uv_pars_vert>\n\t\t#include <logdepthbuf_pars_vert>\n        void main() {\n        \t#include <uv_vert>\n        \t#include <begin_vert>\n        \t#include <morphtarget_vert>\n        \t#include <skinning_vert>\n        \t#include <pvm_vert>\n\t\t\t#include <logdepthbuf_vert>\n        }\n    ",fragmentShader:"\n        #include <common_frag>\n        #include <diffuseMap_pars_frag>\n\n        #include <uv_pars_frag>\n\n\t\t#include <logdepthbuf_pars_frag>\n\n\t\tuniform float strength;\n\n\t\tuniform vec3 emissive;\n\n        void main() {\n\t\t\t#include <logdepthbuf_frag>\n\n\t\t\tvec4 outColor = vec4(u_Color, u_Opacity);\n\n\t\t\t#ifdef USE_DIFFUSE_MAP\n\t\t\t\toutColor *= texture2D(diffuseMap, v_Uv);\n\t\t\t#endif\n\n\t\t\t#ifdef ALPHATEST\n\t\t\t\tif(outColor.a < ALPHATEST) discard;\n\t\t\t#endif\n\n\t\t\toutColor.a *= strength;\n\t\t\toutColor.rgb *= outColor.a;\n\n\t\t\toutColor.rgb += emissive;\n\n            gl_FragColor = outColor;\n        }\n    "};function Yt(t){return t.material.wireframe?function(t){if(Qt.has(t))return Qt.get(t);{const n=new e.Geometry;return n.attributes=t.attributes,n.morphAttributes=t.morphAttributes,n.index=K.getWireframeAttribute(t),n.boundingBox=t.boundingBox,n.boundingSphere=t.boundingSphere,n.instanceCount=t.instanceCount,Qt.set(t,n),t.addEventListener("dispose",qt),n}}(t.geometry):t.geometry}const Qt=new WeakMap;function qt(e){const t=e.target;t.removeEventListener("dispose",qt),Qt.has(t)&&(Qt.get(t).dispose(),Qt.delete(t))}class Kt extends e.Mesh{constructor(){const t=new e.ShaderMaterial(tn);t.depthWrite=!1,super(Zt,t),this.renderLayer=5,this.frustumCulled=!1,this.lensflareElements=[]}set occlusionScale(e){this.material.uniforms.scale[1]=e}get occlusionScale(){return this.material.uniforms.scale[1]}}const Zt=new e.Geometry,Jt=new Float32Array([-1,-1,0,0,0,1,-1,0,1,0,1,1,0,1,1,-1,1,0,0,1]),en=new e.Buffer(Jt,5);Zt.setIndex(new e.Attribute(new e.Buffer(new Uint16Array([0,1,2,0,2,3]),1))),Zt.addAttribute("a_Position",new e.Attribute(en,3,0)),Zt.addAttribute("a_Uv",new e.Attribute(en,2,3));const tn={name:"lensflare_marker",defines:{},uniforms:{scale:[.1,.1],screenPosition:[0,0,0]},vertexShader:"\n        uniform vec3 screenPosition;\n        uniform vec2 scale;\n\n        attribute vec3 a_Position;\n        attribute vec2 a_Uv;\n\n        varying vec2 v_Uv;\n\n        void main() {\n            v_Uv = a_Uv;\n            vec2 pos = a_Position.xy;\n            gl_Position = vec4(pos * scale + screenPosition.xy, screenPosition.z, 1.0);\n        }\n    ",fragmentShader:"\n        uniform sampler2D map;\n        uniform vec3 color;\n\n        varying vec2 v_Uv;\n\n        void main() {\n            float dist = length(v_Uv - vec2(0.5));\n            float mask = 1.0 - smoothstep(0.49, 0.5, dist);\n            gl_FragColor = vec4(mask, mask, mask, 1.);\n        }\n    "},nn={uniforms:{size:30,color:[1,1,1,1],gridSize:5,gridSize2:1,gridColor:[0,0,0,1],gridColor2:[.5,.5,.5,1],showGrid:!1},vertexShader:"\n    #include <common_vert>\n    #include <normal_pars_vert>\n    #include <color_pars_vert>\n    #include <modelPos_pars_vert>\n    #include <shadowMap_pars_vert>\n\n        varying vec3 v_WorldPosition;\n\n        void main() {\n            #include <begin_vert>\n            #include <pvm_vert>\n            #include <normal_vert>\n            #include <color_vert>\n            #include <modelPos_vert>\n            v_WorldPosition = (u_Model * vec4( a_Position, 1.0 )).xyz;\n            #include <shadowMap_vert>\n        }\n    ",fragmentShader:"\n        uniform float size;\n        uniform vec4 color;\n        uniform float gridSize;\n        uniform float gridSize2;\n        uniform vec4 gridColor;\n        uniform vec4 gridColor2;\n        uniform bool showGrid;\n\t\tvarying vec3 v_WorldPosition;\n\n        #include <common_frag>\n\n        #include <color_pars_frag>\n        #include <light_pars_frag>\n        #include <normal_pars_frag>\n        #include <modelPos_pars_frag>\n        #include <bsdfs>\n        #include <shadowMap_pars_frag>\n\n\t\tvoid main() {\n            vec4 groundColor = color;\n\n            if (showGrid) {\n                float wx = v_WorldPosition.x;\n                float wz = v_WorldPosition.z;\n                float x0 = abs(fract(wx / gridSize - 0.5) - 0.5) / fwidth(wx) * gridSize / 2.0;\n                float z0 = abs(fract(wz / gridSize - 0.5) - 0.5) / fwidth(wz) * gridSize / 2.0;\n        \n                float x1 = abs(fract(wx / gridSize2 - 0.5) - 0.5) / fwidth(wx) * gridSize2;\n                float z1 = abs(fract(wz / gridSize2 - 0.5) - 0.5) / fwidth(wz) * gridSize2;\n        \n                float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);\n                float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);\n                if (v0 > 0.1) {\n                    groundColor = mix(groundColor, gridColor, v0);\n                } else {\n                    groundColor = mix(groundColor, gridColor2, v1);\n                }\n            }\n\n            groundColor.a *= 1.0 - clamp(length(v_WorldPosition.xz) / size, 0.0, 1.0);\n\n            vec4 outColor = groundColor;\n\n            #include <color_frag>\n            #include <normal_frag>\n\n            ReflectedLight reflectedLight = ReflectedLight(vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));\n            #include <light_frag>\n            outColor.xyz = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\n            #include <shadowMap_frag>\n\n            gl_FragColor = outColor;\n\n\t\t}\n\n\t"};var rn=n(893);N.setDecoderPath("libs/draco/");class an{constructor(n){this.el=n,this.nanobar=new rn;const r=document.createElement("canvas");r.width=n.clientWidth*window.devicePixelRatio,r.height=n.clientHeight*window.devicePixelRatio,r.style.width=n.clientWidth+"px",r.style.height=n.clientHeight+"px",this.el.appendChild(r);const a=r.clientWidth||2,i=r.clientHeight||2,o=r.getContext("webgl2",{antialias:!0,alpha:!1,stencil:!0}),s=new e.Renderer(o);s.renderPass.setClearColor(.2,.2,.2,1),this.clock=new V;const l=new e.RenderTargetBack(r);l.resize(a,i);const u=new e.ShadowMapPass;u.getGeometry=Yt;const c=new Xt(a,i,s),h=new e.Scene,f=new e.Camera;f.position.set(8,3,8),f.lookAt(new e.Vector3(0,0,0),new e.Vector3(0,1,0)),f.setPerspective(.25*Math.PI,a/i,1,1e3),h.add(f);const d=new G;d.gamma=!0,d.level=8,d.renderLayer=2,f.add(d);const p=new e.ShaderMaterial(nn);p.acceptLight=!0,p.uniforms.showGrid=!0;const m=new e.Mesh(new e.PlaneGeometry(1,1),p);m.receiveShadow=!0,p.metalness=0,p.roughness=1,p.transparent=!0,p.polygonOffset=!0,p.polygonOffsetFactor=1,p.polygonOffsetUnits=1,h.add(m);const g=new t(f,r),b=new e.AmbientLight(16777215,.3);h.add(b);const _=new e.DirectionalLight(16777215,.7);_.castShadow=!0,_.shadow.cameraNear=1,_.shadow.cameraFar=20,_.shadow.mapSize.set(2048,2048),_.shadow.bias=-.004,_.shadow.windowSize=30,_.lookAt(new e.Vector3,new e.Vector3(0,1,0)),h.add(_);const v=new e.DirectionalLight(16777215,.2);v.position.set(8,3,8),v.lookAt(new e.Vector3,new e.Vector3(0,1,0)),h.add(v);const y=new e.DirectionalLight(16777215,0);y.shadow.cameraNear=1,y.shadow.cameraFar=20,y.shadow.mapSize.set(2048,2048),y.shadow.bias=-.004,y.shadow.windowSize=30,y.position.set(8,3,8),y.lookAt(new e.Vector3,new e.Vector3(0,1,0)),h.add(y);const x=new I,A=new Kt;A.occlusionScale=.1;const w=x.load("../textures/lensflare/lensflare0.png"),T=x.load("../textures/lensflare/lensflare3.png");A.lensflareElements=[{texture:w,color:new e.Color3(.2,.2,.2),scale:.6,offset:0},{texture:T,color:new e.Color3(1,1,1),scale:.05,offset:.6},{texture:T,color:new e.Color3(1,1,1),scale:.06,offset:.7},{texture:T,color:new e.Color3(1,1,1),scale:.1,offset:.9},{texture:T,color:new e.Color3(1,1,1),scale:.06,offset:1}],A.visible=!1,_.add(A);const E=new Kt;E.occlusionScale=.1,E.lensflareElements=[{texture:w,color:new e.Color3(.2,.2,.2),scale:.6,offset:0},{texture:T,color:new e.Color3(1,1,1),scale:.05,offset:.6},{texture:T,color:new e.Color3(1,1,1),scale:.06,offset:.7},{texture:T,color:new e.Color3(1,1,1),scale:.1,offset:.9},{texture:T,color:new e.Color3(1,1,1),scale:.06,offset:1}],E.visible=!1,y.add(E),f.gammaFactor=2,f.outputEncoding=e.TEXEL_ENCODING_TYPE.GAMMA,this._textureLoader=x,this._rgbeLoader=new M,this.setEnvironmentTexture("Ice_Lake"),this._canvas=r,this._gl=o,this._renderer=s,this._backRenderTarget=l,this._shadowMapPass=u,this._effectComposer=c,this._scene=h,this._camera=f,this._cameraDefault="perspective",this._fov=45,this._skyBox=d,this._ground=m,this._cameraControl=g,this._ambientLight=b,this._directionalLight=_,this._directionalLightCamera=v,this._directionalLight2=y,this._root=null,this._diagonal=new e.Vector3,this._diameter=null,this._wireframe=null,this.animations=null,this.actions=null,this.actionStates=null,this.timeScale=1,this._cameraClip={near:1,far:1e3},this._boundingBox=new e.Box3,this._boundingSphere=new e.Sphere,this._lightCoord=new e.Vector2(30,40),sn(this._directionalLight,this._lightCoord,10),sn(this._directionalLight2,this._lightCoord,10),this._animationFrame=null,this._running=!1,window.addEventListener("resize",(()=>{this.resize()}),!0)}startRender(){const e=t=>{this._running&&(this._animationFrame=requestAnimationFrame(e),this.tick(t))};this._running=!0,this._animationFrame=requestAnimationFrame(e)}stopRender(){this._running=!1,null!==this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null)}tick(t){this._cameraControl.update(),this._scene.updateMatrix(),this._scene.updateRenderStates(this._camera),this._scene.updateRenderQueue(this._camera),this._shadowMapPass.render(this._renderer,this._scene),this.animations&&this.animations.update(this.clock.getDelta()*this.timeScale),this._directionalLightCamera.position.set(this._camera.position.x,this._camera.position.y,this._camera.position.z),this._directionalLightCamera.lookAt(new e.Vector3(0,0,0),new e.Vector3(0,1,0)),this._effectComposer.render(this._renderer,this._scene,this._camera,this._backRenderTarget)}resize(){const{clientHeight:e,clientWidth:t}=this.el;this._canvas.style.width=t+"px",this._canvas.style.height=e+"px";const n=this._canvas.clientWidth||2,r=this._canvas.clientHeight||2;"perspective"===this._cameraDefault?this._camera.setPerspective(this._fov/180*Math.PI,n/r,this._cameraClip.near,this._cameraClip.far):this._camera.setOrtho(2*-this._diameter,2*this._diameter,2*-this._diameter*aspect,2*this._diameter*aspect,-this._cameraClip.far,this._cameraClip.far),this._backRenderTarget.resize(n,r),this._effectComposer.resize(n,r)}load(t,n,r){this._ground.visible=!1;const a=this.extractUrlBase(t);return new Promise(((i,o)=>{const s=this.nanobar,l=new e.LoadingManager((function(){s.go(100)}),(function(e,t,n){t<n&&s.go(t/n*100)}));l.setURLModifier(((e,t)=>{const i=n+decodeURI(e).replace(a,"").replace(/^(\.?\/)/,"");if(r&&r.has(i)){const e=r.get(i),t=URL.createObjectURL(e);return c.push(t),t}return(t||"")+e}));const u=new C(l);u.replaceParser(ln,0),u.setDRACOLoader(new N);const c=[];u.load(t).then((t=>{this._ground.visible=!0,this.clear(),this._boundingBox=new e.Box3,c.forEach(URL.revokeObjectURL);const n=t.root;n.traverse((t=>{if(t.castShadow=!0,t.receiveShadow=!0,t.material){t.material.drawMode=this._wireframe?e.DRAW_MODE.LINES:e.DRAW_MODE.TRIANGLES,t.material.wireframe=this._wireframe||!1;const n=t.material.emissive;n.r+n.g+n.b>0&&(t.effects={Glow:1})}})),t.animations&&this.setClips(t.animations),function(t,n){const r=new e.Box3;t.updateMatrix(),t.traverse((e=>{e.geometry&&(e.geometry.computeBoundingBox(),r.copy(e.geometry.boundingBox).applyMatrix4(e.worldMatrix),n.expandByBox3(r))}))}(n,this._boundingBox),function(t,n){t.getCenter(n.center);const r=(new e.Vector3).subVectors(t.max,t.min);n.radius=r.getLength()/2}(this._boundingBox,this._boundingSphere);const r=this._boundingSphere.center;this._diagonal.subVectors(this._boundingBox.max,this._boundingBox.min);const a=this._diagonal.getLength();this._diameter=a,n.position.x+=n.position.x-r.x,n.position.y+=n.position.y-r.y,n.position.z+=n.position.z-r.z,this._cameraControl.reset(),this._cameraControl.maxDistance=10*a;const{clientWidth:o,clientHeight:s}=this._canvas,l=a/100,u=100*a,h=s/o;"perspective"===this._cameraDefault?(this._camera.setPerspective(this._fov/180*Math.PI,o/s,l,u),this._camera.add(this._skyBox)):(this._camera.setOrtho(2*-this._diameter,2*this._diameter,2*-this._diameter*h,2*this._diameter*h,-u,u),this._camera.remove(this._skyBox)),this._camera.position.copy(r),this._camera.position.x+=a/1.5,this._camera.position.y+=a/5,this._camera.position.z+=a/1.5,this._cameraClip.near=l,this._cameraClip.far=u,this._cameraControl.saveState(),this._ground.position.y=-Math.abs(this._diagonal.y/2);const f=Math.max(30,Math.abs(2*Math.max(this._diagonal.x,this._diagonal.z)));this._ground.scale.set(f,1,f);let d=Math.abs(2*Math.max(this._diagonal.x,this._diagonal.z));d=Math.max(30,d),this._ground.material.uniforms.size=d/2,this._ground.material.uniforms.gridSize=d/10,this._ground.material.uniforms.gridSize2=d/50,sn(this._directionalLight,this._lightCoord,this._boundingSphere.radius),sn(this._directionalLight2,this._lightCoord,this._boundingSphere.radius),this._root=n,this._scene.add(n),i(t)}))}))}setClips(t){t.length&&(this.animations=new e.AnimationMixer,t.forEach((t=>{const n=this.actions=new e.AnimationAction(t);this.animations.addAction(n)})),this.actions=this.animations.getActions(),this.actions[0].time=0,this.actions[0].weight=1)}playAllClips(){this.actions.forEach((e=>{this.actionStates[e.clip.name]||(e.time=0,e.weight=1,this.actionStates[e.clip.name]=!0)}))}stopAllClips(){this.actions.forEach((e=>{this.actionStates[e.clip.name]&&(e.time=0,e.weight=0,this.actionStates[e.clip.name]=!1)}))}setGlobal(t){this._root&&(this._wireframe=t.wireframe,this._root.traverse((t=>{t.material&&(t.material.drawMode=this._wireframe?e.DRAW_MODE.LINES:e.DRAW_MODE.TRIANGLES,t.material.wireframe=this._wireframe)})))}setGround(e){this._ground.visible=e.show,this._ground.material.uniforms.color=[parseInt(e.color.charAt(1)+e.color.charAt(2),16)/255,parseInt(e.color.charAt(3)+e.color.charAt(4),16)/255,parseInt(e.color.charAt(5)+e.color.charAt(6),16)/255,1],this._ground.material.uniforms.showGrid=e.grid;let t=Math.abs(2*Math.max(this._diagonal.x,this._diagonal.z));t=Math.max(30,t),this._ground.material.uniforms.size=t/2,this._ground.material.uniforms.gridSize=t/10,this._ground.material.uniforms.gridSize2=t/50}setEnvironmentTexture(t){const{name:n,ext:r,tex:a}=W[t];a?(this._scene.environment=a,this._skyBox.texture=a):this._rgbeLoader.loadAsync(`../textures/${n}.${r}`).then((t=>{let n=new e.Texture2D;return n.image={data:t.data,width:t.width,height:t.height},n.type=t.type,void 0!==t.magFilter&&(n.magFilter=t.magFilter),void 0!==t.minFilter&&(n.minFilter=t.minFilter),void 0!==t.generateMipmaps&&(n.generateMipmaps=t.generateMipmaps),n})).then((e=>H.prefilterEnvironmentMap(this._renderer,e,{sampleSize:1024}))).then((e=>{W[t].tex=e,this._scene.environment=e,this._skyBox.texture=e}))}setEnvironmentParams(e){this._scene.environmentLightIntensity=e.diffuseIntensity,this._skyBox.level=e.skyRoughness}setAmbientLight(e){this._ambientLight.intensity=e.intensity,on(this._ambientLight.color,e.color)}setDirectionalLight(e,t){0==t&&(this._directionalLightCamera.intensity=e.intensity,on(this._directionalLightCamera.color,e.color)),1==t&&(this._directionalLight.intensity=e.intensity,on(this._directionalLight.color,e.color),this._lightCoord=e.direction,sn(this._directionalLight,this._lightCoord,this._boundingSphere.radius),this._directionalLight.children[0].visible=e.lensflare),2==t&&(this._directionalLight2.intensity=e.intensity,on(this._directionalLight2.color,e.color),this._lightCoord=e.direction,sn(this._directionalLight2,this._lightCoord,this._boundingSphere.radius),this._directionalLight2.children[0].visible=e.lensflare)}setPostEffect(e){this._effectComposer.setOptions(e)}setDebugger(e){this._effectComposer.setDebugger(e)}setCamera(t){this._fov=t.fov;const n=this._canvas.clientWidth||2,r=this._canvas.clientHeight||2,a=r/n;"perspective"===t.type?(this._camera.setPerspective(this._fov/180*Math.PI,n/r,this._cameraClip.near,this._cameraClip.far),this._camera.add(this._skyBox),this._cameraDefault="perspective"):(this._camera.setOrtho(2*-this._diameter,2*this._diameter,2*-this._diameter*a,2*this._diameter*a,-this._cameraClip.far,this._cameraClip.far),this._camera.remove(this._skyBox),this._cameraDefault="othographic"),"Gamma"===t.outputEncoding?this._camera.outputEncoding=e.TEXEL_ENCODING_TYPE.GAMMA:this._camera.outputEncoding=e.TEXEL_ENCODING_TYPE.LINEAR}setShadow(e,t){if(1==t){this._directionalLight.castShadow=e.shadowenable,this._directionalLight.shadow.bias=e.shadowbias;const t={Ultra:4096,High:2048,Medium:1024,Low:512}[e.shadowquality];this._directionalLight.shadow.mapSize.set(t,t)}if(2==t){this._directionalLight2.castShadow=e.shadowenable,this._directionalLight2.shadow.bias=e.shadowbias;const t={Ultra:4096,High:2048,Medium:1024,Low:512}[e.shadowquality];this._directionalLight2.shadow.mapSize.set(t,t)}}clear(){this._root&&(this._scene.remove(this._root),this._root.traverse((e=>{e.geometry&&e.geometry.dispose()})),this._renderer.renderPass.clear(!0,!0,!1))}extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}}function on(e,t){e.r=parseInt(t.charAt(1)+t.charAt(2),16)/255,e.g=parseInt(t.charAt(3)+t.charAt(4),16)/255,e.b=parseInt(t.charAt(5)+t.charAt(6),16)/255}function sn(t,n,r){const a=Math.PI/2-n.y*Math.PI/180,i=n.x*Math.PI/180,o=new e.Spherical(r,a,i),s=(new e.Vector3).setFromSpherical(o);t.position.set(s.x,s.y,s.z),t.lookAt(new e.Vector3,new e.Vector3(0,1,0)),t.shadow.windowSize=10*r,t.shadow.cameraNear=r/50,t.shadow.cameraFar=5*r}class ln{static parse(e,t){const{url:n}=e;return t.loadFile(n,"arraybuffer").then((t=>{if(e.data=t,"glTF"===i.decodeText(new Uint8Array(t,0,4))){const n=i.parseGLB(t);e.gltf=n.gltf,e.buffers=n.buffers}else{const n=i.decodeText(new Uint8Array(t));e.gltf=JSON.parse(n)}}))}}class un{constructor(e){this.version="0.0.1",this.global={wireframe:!1},this.ground={show:!0,color:"#ffffff",grid:!0},this.environment={texture:"Ice_Lake",diffuseIntensity:1,skyRoughness:8},this.camera={fov:45,type:"perspective",outputEncoding:"Gamma"},this.light={ambient:{intensity:.3,color:"#ffffff"},directional:{directional1:{intensity:.7,color:"#ffffff",direction:{x:30,y:40},lensflare:!1,shadowenable:!0,shadowbias:-.004,shadowquality:"High"},directional2:{intensity:0,color:"#ffffff",direction:{x:30,y:40},lensflare:!1,shadowenable:!1,shadowbias:-.004,shadowquality:"High"},cameraDirectional:{intensity:.2,color:"#ffffff"}}},this.postEffect={MSAA:!0,colorCorrection:{active:!1,brightness:0,contrast:1.02,exposure:0,gamma:1,saturation:1.02},bloom:{active:!1,strength:1,threshold:.7,blurSize:2,smoothWidth:.01},glow:{active:!1,strength:1,radius:.4,threshold:.01,smoothWidth:.1},ssao:{active:!1,radius:.5,power:1,bias:.1,intensity:1,quality:"Medium"},ssr:{active:!1,maxRayDistance:4,pixelStride:16,pixelStrideZCutoff:10,screenEdgeFadeStart:.9,eyeFadeStart:.4,eyeFadeEnd:.8,minGlossiness:.2},dof:{active:!1,focalDepth:1,focalLength:24,fstop:.9,maxblur:1,threshold:.9,gain:1,bias:.5,dithering:1e-4},fxaa:{active:!1},chromaticaberration:{active:!1,chromaFactor:.025},vignetting:{active:!1,color:"#ffffff",offset:1},bluredge:{active:!1,offset:1},film:{active:!1,noiseIntensity:.35,scanlinesIntensity:.5,scanlinesCount:2048,grayscale:!0},lensflare:{active:!0}},this.debuggers={type:"None"},this.animation={playAll:function(){e.playAllClips()},stopAll:function(){e.stopAllClips()},timeScale:1}}}class cn{constructor(e,t,n,r,a="div"){this.parent=e,this.object=t,this.property=n,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement("div"),this.domElement.classList.add("controller"),this.domElement.classList.add(r),this.$name=document.createElement("div"),this.$name.classList.add("name"),cn.nextNameID=cn.nextNameID||0,this.$name.id="lil-gui-name-"+ ++cn.nextNameID,this.$widget=document.createElement(a),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(n)}name(e){return this._name=e,this.$name.innerHTML=e,this}onChange(e){return this._onChange=e,this}_callOnChange(){this.parent._callOnChange(this),void 0!==this._onChange&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),void 0!==this._onFinishChange&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(e=!0){return this.disable(!e)}disable(e=!0){return e===this._disabled||(this._disabled=e,this.domElement.classList.toggle("disabled",e),this.$disable.toggleAttribute("disabled",e)),this}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(e){const t=this.parent.add(this.object,this.property,e);return t.name(this._name),this.destroy(),t}min(e){return this}max(e){return this}step(e){return this}decimals(e){return this}listen(e=!0){return this._listening=e,void 0!==this._listenCallbackID&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const e=this.save();e!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=e}getValue(){return this.object[this.property]}setValue(e){return this.object[this.property]=e,this._callOnChange(),this.updateDisplay(),this}updateDisplay(){return this}load(e){return this.setValue(e),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class hn extends cn{constructor(e,t,n){super(e,t,n,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",(()=>{this.setValue(this.$input.checked),this._callOnFinishChange()})),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function fn(e){let t,n;return(t=e.match(/(#|0x)?([a-f0-9]{6})/i))?n=t[2]:(t=e.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?n=parseInt(t[1]).toString(16).padStart(2,0)+parseInt(t[2]).toString(16).padStart(2,0)+parseInt(t[3]).toString(16).padStart(2,0):(t=e.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3]),!!n&&"#"+n}const dn={isPrimitive:!0,match:e=>"string"==typeof e,fromHexString:fn,toHexString:fn},pn={isPrimitive:!0,match:e=>"number"==typeof e,fromHexString:e=>parseInt(e.substring(1),16),toHexString:e=>"#"+e.toString(16).padStart(6,0)},mn={isPrimitive:!1,match:Array.isArray,fromHexString(e,t,n=1){const r=pn.fromHexString(e);t[0]=(r>>16&255)/255*n,t[1]=(r>>8&255)/255*n,t[2]=(255&r)/255*n},toHexString:([e,t,n],r=1)=>pn.toHexString(e*(r=255/r)<<16^t*r<<8^n*r<<0)},gn={isPrimitive:!1,match:e=>Object(e)===e,fromHexString(e,t,n=1){const r=pn.fromHexString(e);t.r=(r>>16&255)/255*n,t.g=(r>>8&255)/255*n,t.b=(255&r)/255*n},toHexString:({r:e,g:t,b:n},r=1)=>pn.toHexString(e*(r=255/r)<<16^t*r<<8^n*r<<0)},bn=[dn,pn,mn,gn];class _n extends cn{constructor(e,t,n,r){var a;super(e,t,n,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=(a=this.initialValue,bn.find((e=>e.match(a)))),this._rgbScale=r,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",(()=>{this._setValueFromHexString(this.$input.value)})),this.$input.addEventListener("blur",(()=>{this._callOnFinishChange()})),this.$text.addEventListener("input",(()=>{const e=fn(this.$text.value);e&&this._setValueFromHexString(e)})),this.$text.addEventListener("focus",(()=>{this._textFocused=!0,this.$text.select()})),this.$text.addEventListener("blur",(()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()})),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(e){if(this._format.isPrimitive){const t=this._format.fromHexString(e);this.setValue(t)}else this._format.fromHexString(e,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(e){return this._setValueFromHexString(e),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class vn extends cn{constructor(e,t,n){super(e,t,n,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",(e=>{e.preventDefault(),this.getValue().call(this.object)})),this.$button.addEventListener("touchstart",(()=>{}),{passive:!0}),this.$disable=this.$button}}class yn extends cn{constructor(e,t,n,r,a,i){super(e,t,n,"number"),this._initInput(),this.min(r),this.max(a);const o=void 0!==i;this.step(o?i:this._getImplicitStep(),o),this.updateDisplay()}decimals(e){return this._decimals=e,this.updateDisplay(),this}min(e){return this._min=e,this._onUpdateMinMax(),this}max(e){return this._max=e,this._onUpdateMinMax(),this}step(e,t=!0){return this._step=e,this._stepExplicit=t,this}updateDisplay(){const e=this.getValue();if(this._hasSlider){let t=(e-this._min)/(this._max-this._min);t=Math.max(0,Math.min(t,1)),this.$fill.style.width=100*t+"%"}return this._inputFocused||(this.$input.value=void 0===this._decimals?e:e.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$disable=this.$input;const e=e=>{const t=parseFloat(this.$input.value);isNaN(t)||(this._snapClampSetValue(t+e),this.$input.value=this.getValue())};let t,n,r,a,i,o=!1;const s=e=>{if(o){const r=e.clientX-t,a=e.clientY-n;Math.abs(a)>5?(e.preventDefault(),this.$input.blur(),o=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(r)>5&&l()}if(!o){const t=e.clientY-r;i-=t*this._step*this._arrowKeyMultiplier(e),a+i>this._max?i=this._max-a:a+i<this._min&&(i=this._min-a),this._snapClampSetValue(a+i)}r=e.clientY},l=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",l)};this.$input.addEventListener("input",(()=>{let e=parseFloat(this.$input.value);isNaN(e)||(this._stepExplicit&&(e=this._snap(e)),this.setValue(this._clamp(e)))})),this.$input.addEventListener("keydown",(t=>{"Enter"===t.code&&this.$input.blur(),"ArrowUp"===t.code&&(t.preventDefault(),e(this._step*this._arrowKeyMultiplier(t))),"ArrowDown"===t.code&&(t.preventDefault(),e(this._step*this._arrowKeyMultiplier(t)*-1))})),this.$input.addEventListener("wheel",(t=>{this._inputFocused&&(t.preventDefault(),e(this._step*this._normalizeMouseWheel(t)))}),{passive:!1}),this.$input.addEventListener("mousedown",(e=>{t=e.clientX,n=r=e.clientY,o=!0,a=this.getValue(),i=0,window.addEventListener("mousemove",s),window.addEventListener("mouseup",l)})),this.$input.addEventListener("focus",(()=>{this._inputFocused=!0})),this.$input.addEventListener("blur",(()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()}))}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const e=e=>{const t=this.$slider.getBoundingClientRect();let n=((e,t,n,r,a)=>(e-t)/(n-t)*(this._max-r)+r)(e,t.left,t.right,this._min);this._snapClampSetValue(n)},t=t=>{e(t.clientX)},n=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",n)};let r,a,i=!1;const o=t=>{t.preventDefault(),this._setDraggingStyle(!0),e(t.touches[0].clientX),i=!1},s=t=>{if(i){const e=t.touches[0].clientX-r,n=t.touches[0].clientY-a;Math.abs(e)>Math.abs(n)?o(t):(window.removeEventListener("touchmove",s),window.removeEventListener("touchend",l))}else t.preventDefault(),e(t.touches[0].clientX)},l=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",s),window.removeEventListener("touchend",l)},u=this._callOnFinishChange.bind(this);let c;this.$slider.addEventListener("mousedown",(r=>{this._setDraggingStyle(!0),e(r.clientX),window.addEventListener("mousemove",t),window.addEventListener("mouseup",n)})),this.$slider.addEventListener("touchstart",(e=>{e.touches.length>1||(this._hasScrollBar?(r=e.touches[0].clientX,a=e.touches[0].clientY,i=!0):o(e),window.addEventListener("touchmove",s,{passive:!1}),window.addEventListener("touchend",l))}),{passive:!1}),this.$slider.addEventListener("wheel",(e=>{if(Math.abs(e.deltaX)<Math.abs(e.deltaY)&&this._hasScrollBar)return;e.preventDefault();const t=this._normalizeMouseWheel(e)*this._step;this._snapClampSetValue(this.getValue()+t),this.$input.value=this.getValue(),clearTimeout(c),c=setTimeout(u,400)}),{passive:!1})}_setDraggingStyle(e,t="horizontal"){this.$slider&&this.$slider.classList.toggle("active",e),document.body.classList.toggle("lil-gui-dragging",e),document.body.classList.toggle(`lil-gui-${t}`,e)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(e){let{deltaX:t,deltaY:n}=e;return Math.floor(e.deltaY)!==e.deltaY&&e.wheelDelta&&(t=0,n=-e.wheelDelta/120,n*=this._stepExplicit?1:10),t+-n}_arrowKeyMultiplier(e){let t=this._stepExplicit?1:10;return e.shiftKey?t*=10:e.altKey&&(t/=10),t}_snap(e){const t=Math.round(e/this._step)*this._step;return parseFloat(t.toPrecision(15))}_clamp(e){return e<this._min&&(e=this._min),e>this._max&&(e=this._max),e}_snapClampSetValue(e){this.setValue(this._clamp(this._snap(e)))}get _hasScrollBar(){const e=this.parent.root.$children;return e.scrollHeight>e.clientHeight}get _hasMin(){return void 0!==this._min}get _hasMax(){return void 0!==this._max}}class xn extends cn{constructor(e,t,n,r){super(e,t,n,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this._values=Array.isArray(r)?r:Object.values(r),this._names=Array.isArray(r)?r:Object.keys(r),this._names.forEach((e=>{const t=document.createElement("option");t.innerHTML=e,this.$select.appendChild(t)})),this.$select.addEventListener("change",(()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()})),this.$select.addEventListener("focus",(()=>{this.$display.classList.add("focus")})),this.$select.addEventListener("blur",(()=>{this.$display.classList.remove("focus")})),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.updateDisplay()}updateDisplay(){const e=this.getValue(),t=this._values.indexOf(e);return this.$select.selectedIndex=t,this.$display.innerHTML=-1===t?e:this._names[t],this}}class An extends cn{constructor(e,t,n){super(e,t,n,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",(()=>{this.setValue(this.$input.value)})),this.$input.addEventListener("keydown",(e=>{"Enter"===e.code&&this.$input.blur()})),this.$input.addEventListener("blur",(()=>{this._callOnFinishChange()})),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}let wn=!1;class Tn{constructor({parent:e,autoPlace:t=void 0===e,container:n,width:r,title:a="Controls",injectStyles:i=!0,touchStyles:o=!0}={}){if(this.parent=e,this.root=e?e.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",(()=>this.openAnimated(this._closed))),this.$title.addEventListener("keydown",(e=>{"Enter"!==e.code&&"Space"!==e.code||(e.preventDefault(),this.$title.click())})),this.$title.addEventListener("touchstart",(()=>{}),{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(a),o&&this.domElement.classList.add("allow-touch-styles"),this.parent)return this.parent.children.push(this),this.parent.folders.push(this),void this.parent.$children.appendChild(this.domElement);this.domElement.classList.add("root"),!wn&&i&&(function(e){const t=document.createElement("style");t.innerHTML='.lil-gui {\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  line-height: 1;\n  font-weight: normal;\n  font-style: normal;\n  text-align: left;\n  background-color: var(--background-color);\n  color: var(--text-color);\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: manipulation;\n  --background-color: #1f1f1f;\n  --text-color: #ebebeb;\n  --title-background-color: #111111;\n  --title-text-color: #ebebeb;\n  --widget-color: #424242;\n  --hover-color: #4f4f4f;\n  --focus-color: #595959;\n  --number-color: #2cc9ff;\n  --string-color: #a2db3c;\n  --font-size: 11px;\n  --input-font-size: 11px;\n  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;\n  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;\n  --padding: 4px;\n  --spacing: 4px;\n  --widget-height: 20px;\n  --name-width: 45%;\n  --slider-knob-width: 2px;\n  --slider-input-width: 27%;\n  --color-input-width: 27%;\n  --slider-input-min-width: 45px;\n  --color-input-min-width: 45px;\n  --folder-indent: 7px;\n  --widget-padding: 0 0 0 3px;\n  --widget-border-radius: 2px;\n  --checkbox-size: calc(0.75 * var(--widget-height));\n  --scrollbar-width: 5px;\n}\n.lil-gui, .lil-gui * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n.lil-gui.root {\n  width: var(--width, 245px);\n  display: flex;\n  flex-direction: column;\n}\n.lil-gui.root > .title {\n  background: var(--title-background-color);\n  color: var(--title-text-color);\n}\n.lil-gui.root > .children {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.lil-gui.root > .children::-webkit-scrollbar {\n  width: var(--scrollbar-width);\n  height: var(--scrollbar-width);\n  background: var(--background-color);\n}\n.lil-gui.root > .children::-webkit-scrollbar-thumb {\n  border-radius: var(--scrollbar-width);\n  background: var(--focus-color);\n}\n@media (pointer: coarse) {\n  .lil-gui.allow-touch-styles {\n    --widget-height: 28px;\n    --padding: 6px;\n    --spacing: 6px;\n    --font-size: 13px;\n    --input-font-size: 16px;\n    --folder-indent: 10px;\n    --scrollbar-width: 7px;\n    --slider-input-min-width: 50px;\n    --color-input-min-width: 65px;\n  }\n}\n.lil-gui.force-touch-styles {\n  --widget-height: 28px;\n  --padding: 6px;\n  --spacing: 6px;\n  --font-size: 13px;\n  --input-font-size: 16px;\n  --folder-indent: 10px;\n  --scrollbar-width: 7px;\n  --slider-input-min-width: 50px;\n  --color-input-min-width: 65px;\n}\n.lil-gui.autoPlace {\n  max-height: 100%;\n  position: fixed;\n  top: 0;\n  right: 15px;\n  z-index: 1001;\n}\n\n.lil-gui .controller {\n  display: flex;\n  align-items: center;\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n}\n.lil-gui .controller.disabled {\n  opacity: 0.5;\n}\n.lil-gui .controller.disabled, .lil-gui .controller.disabled * {\n  pointer-events: none !important;\n}\n.lil-gui .controller > .name {\n  min-width: var(--name-width);\n  flex-shrink: 0;\n  white-space: pre;\n  padding-right: var(--spacing);\n  line-height: var(--widget-height);\n}\n.lil-gui .controller .widget {\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  min-height: var(--widget-height);\n}\n.lil-gui .controller.string input {\n  color: var(--string-color);\n}\n.lil-gui .controller.boolean .widget {\n  cursor: pointer;\n}\n.lil-gui .controller.color .display {\n  width: 100%;\n  height: var(--widget-height);\n  border-radius: var(--widget-border-radius);\n  position: relative;\n}\n@media (hover: hover) {\n  .lil-gui .controller.color .display:hover:before {\n    content: " ";\n    display: block;\n    position: absolute;\n    border-radius: var(--widget-border-radius);\n    border: 1px solid #fff9;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n}\n.lil-gui .controller.color input[type=color] {\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n}\n.lil-gui .controller.color input[type=text] {\n  margin-left: var(--spacing);\n  font-family: var(--font-family-mono);\n  min-width: var(--color-input-min-width);\n  width: var(--color-input-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.option select {\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  max-width: 100%;\n}\n.lil-gui .controller.option .display {\n  position: relative;\n  pointer-events: none;\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  line-height: var(--widget-height);\n  max-width: 100%;\n  overflow: hidden;\n  word-break: break-all;\n  padding-left: 0.55em;\n  padding-right: 1.75em;\n  background: var(--widget-color);\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .display.focus {\n    background: var(--focus-color);\n  }\n}\n.lil-gui .controller.option .display.active {\n  background: var(--focus-color);\n}\n.lil-gui .controller.option .display:after {\n  font-family: "lil-gui";\n  content: "â";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  padding-right: 0.375em;\n}\n.lil-gui .controller.option .widget,\n.lil-gui .controller.option select {\n  cursor: pointer;\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .widget:hover .display {\n    background: var(--hover-color);\n  }\n}\n.lil-gui .controller.number input {\n  color: var(--number-color);\n}\n.lil-gui .controller.number.hasSlider input {\n  margin-left: var(--spacing);\n  width: var(--slider-input-width);\n  min-width: var(--slider-input-min-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.number .slider {\n  width: 100%;\n  height: var(--widget-height);\n  background-color: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  padding-right: var(--slider-knob-width);\n  overflow: hidden;\n  cursor: ew-resize;\n  touch-action: pan-y;\n}\n@media (hover: hover) {\n  .lil-gui .controller.number .slider:hover {\n    background-color: var(--hover-color);\n  }\n}\n.lil-gui .controller.number .slider.active {\n  background-color: var(--focus-color);\n}\n.lil-gui .controller.number .slider.active .fill {\n  opacity: 0.95;\n}\n.lil-gui .controller.number .fill {\n  height: 100%;\n  border-right: var(--slider-knob-width) solid var(--number-color);\n  box-sizing: content-box;\n}\n\n.lil-gui-dragging .lil-gui {\n  --hover-color: var(--widget-color);\n}\n.lil-gui-dragging * {\n  cursor: ew-resize !important;\n}\n\n.lil-gui-dragging.lil-gui-vertical * {\n  cursor: ns-resize !important;\n}\n\n.lil-gui .title {\n  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);\n  height: var(--title-height);\n  line-height: calc(var(--title-height) - 4px);\n  font-weight: 600;\n  padding: 0 var(--padding);\n  -webkit-tap-highlight-color: transparent;\n  cursor: pointer;\n  outline: none;\n  text-decoration-skip: objects;\n}\n.lil-gui .title:before {\n  font-family: "lil-gui";\n  content: "â¾";\n  padding-right: 2px;\n  display: inline-block;\n}\n.lil-gui .title:active {\n  background: var(--title-background-color);\n  opacity: 0.75;\n}\n@media (hover: hover) {\n  body:not(.lil-gui-dragging) .lil-gui .title:hover {\n    background: var(--title-background-color);\n    opacity: 0.85;\n  }\n  .lil-gui .title:focus {\n    text-decoration: underline var(--focus-color);\n  }\n}\n.lil-gui.root > .title:focus {\n  text-decoration: none !important;\n}\n.lil-gui.closed > .title:before {\n  content: "â¸";\n}\n.lil-gui.closed > .children {\n  transform: translateY(-7px);\n  opacity: 0;\n}\n.lil-gui.closed:not(.transition) > .children {\n  display: none;\n}\n.lil-gui.transition > .children {\n  transition-duration: 300ms;\n  transition-property: height, opacity, transform;\n  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);\n  overflow: hidden;\n  pointer-events: none;\n}\n.lil-gui .children:empty:before {\n  content: "Empty";\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n  display: block;\n  height: var(--widget-height);\n  font-style: italic;\n  line-height: var(--widget-height);\n  opacity: 0.5;\n}\n.lil-gui.root > .children > .lil-gui > .title {\n  border: 0 solid var(--widget-color);\n  border-width: 1px 0;\n  transition: border-color 300ms;\n}\n.lil-gui.root > .children > .lil-gui.closed > .title {\n  border-bottom-color: transparent;\n}\n.lil-gui + .controller {\n  border-top: 1px solid var(--widget-color);\n  margin-top: 0;\n  padding-top: var(--spacing);\n}\n.lil-gui .lil-gui .lil-gui > .title {\n  border: none;\n}\n.lil-gui .lil-gui .lil-gui > .children {\n  border: none;\n  margin-left: var(--folder-indent);\n  border-left: 2px solid var(--widget-color);\n}\n.lil-gui .lil-gui .controller {\n  border: none;\n}\n\n.lil-gui input {\n  -webkit-tap-highlight-color: transparent;\n  border: 0;\n  outline: none;\n  font-family: var(--font-family);\n  font-size: var(--input-font-size);\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  background: var(--widget-color);\n  color: var(--text-color);\n  width: 100%;\n}\n@media (hover: hover) {\n  .lil-gui input:hover {\n    background: var(--hover-color);\n  }\n  .lil-gui input:active {\n    background: var(--focus-color);\n  }\n}\n.lil-gui input:disabled {\n  opacity: 1;\n}\n.lil-gui input[type=text],\n.lil-gui input[type=number] {\n  padding: var(--widget-padding);\n}\n.lil-gui input[type=text]:focus,\n.lil-gui input[type=number]:focus {\n  background: var(--focus-color);\n}\n.lil-gui input::-webkit-outer-spin-button,\n.lil-gui input::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n.lil-gui input[type=number] {\n  -moz-appearance: textfield;\n}\n.lil-gui input[type=checkbox] {\n  appearance: none;\n  -webkit-appearance: none;\n  height: var(--checkbox-size);\n  width: var(--checkbox-size);\n  border-radius: var(--widget-border-radius);\n  text-align: center;\n  cursor: pointer;\n}\n.lil-gui input[type=checkbox]:checked:before {\n  font-family: "lil-gui";\n  content: "â";\n  font-size: var(--checkbox-size);\n  line-height: var(--checkbox-size);\n}\n@media (hover: hover) {\n  .lil-gui input[type=checkbox]:focus {\n    box-shadow: inset 0 0 0 1px var(--focus-color);\n  }\n}\n.lil-gui button {\n  -webkit-tap-highlight-color: transparent;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  color: var(--text-color);\n  width: 100%;\n  height: var(--widget-height);\n  text-transform: none;\n  background: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  border: 1px solid var(--widget-color);\n  text-align: center;\n  line-height: calc(var(--widget-height) - 4px);\n}\n@media (hover: hover) {\n  .lil-gui button:hover {\n    background: var(--hover-color);\n    border-color: var(--hover-color);\n  }\n  .lil-gui button:focus {\n    border-color: var(--focus-color);\n  }\n}\n.lil-gui button:active {\n  background: var(--focus-color);\n}\n\n@font-face {\n  font-family: "lil-gui";\n  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");\n}';const n=document.querySelector("head link[rel=stylesheet], head style");n?document.head.insertBefore(t,n):document.head.appendChild(t)}(),wn=!0),n?n.appendChild(this.domElement):t&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),r&&this.domElement.style.setProperty("--width",r+"px"),this.domElement.addEventListener("keydown",(e=>e.stopPropagation())),this.domElement.addEventListener("keyup",(e=>e.stopPropagation()))}add(e,t,n,r,a){if(Object(n)===n)return new xn(this,e,t,n);const i=e[t];switch(typeof i){case"number":return new yn(this,e,t,n,r,a);case"boolean":return new hn(this,e,t);case"string":return new An(this,e,t);case"function":return new vn(this,e,t)}console.error("gui.add failed\n\tproperty:",t,"\n\tobject:",e,"\n\tvalue:",i)}addColor(e,t,n=1){return new _n(this,e,t,n)}addFolder(e){return new Tn({parent:this,title:e})}load(e,t=!0){return e.controllers&&this.controllers.forEach((t=>{t instanceof vn||t._name in e.controllers&&t.load(e.controllers[t._name])})),t&&e.folders&&this.folders.forEach((t=>{t._title in e.folders&&t.load(e.folders[t._title])})),this}save(e=!0){const t={controllers:{},folders:{}};return this.controllers.forEach((e=>{if(!(e instanceof vn)){if(e._name in t.controllers)throw new Error(`Cannot save GUI with duplicate property "${e._name}"`);t.controllers[e._name]=e.save()}})),e&&this.folders.forEach((e=>{if(e._title in t.folders)throw new Error(`Cannot save GUI with duplicate folder "${e._title}"`);t.folders[e._title]=e.save()})),t}open(e=!0){return this._closed=!e,this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(e=!0){return this._closed=!e,this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame((()=>{const t=this.$children.clientHeight;this.$children.style.height=t+"px",this.domElement.classList.add("transition");const n=e=>{e.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",n))};this.$children.addEventListener("transitionend",n);const r=e?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!e),requestAnimationFrame((()=>{this.$children.style.height=r+"px"}))})),this}title(e){return this._title=e,this.$title.innerHTML=e,this}reset(e=!0){return(e?this.controllersRecursive():this.controllers).forEach((e=>e.reset())),this}onChange(e){return this._onChange=e,this}_callOnChange(e){this.parent&&this.parent._callOnChange(e),void 0!==this._onChange&&this._onChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(e){this.parent&&this.parent._callOnFinishChange(e),void 0!==this._onFinishChange&&this._onFinishChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach((e=>e.destroy()))}controllersRecursive(){let e=Array.from(this.controllers);return this.folders.forEach((t=>{e=e.concat(t.controllersRecursive())})),e}foldersRecursive(){let e=Array.from(this.folders);return this.folders.forEach((t=>{e=e.concat(t.foldersRecursive())})),e}}class En{constructor(e,t,n){this.gui=new Tn;const r=this.gui.addFolder("Global");r.add(t.global,"wireframe").onChange((()=>{e.setGlobal(t.global)})),r.close();const a=this.gui.addFolder("Ground");a.add(t.ground,"show").onChange((()=>{e.setGround(t.ground)})),a.addColor(t.ground,"color").onChange((()=>{e.setGround(t.ground)})),a.add(t.ground,"grid").onChange((()=>{e.setGround(t.ground)})),a.close();const i=this.gui.addFolder("Environment");i.add(t.environment,"texture",["Pisa","Factory_Catwalk","Barce_Rooftop_C","Grand_Canyon_C","Hall","Ice_Lake","Old_Industrial_Hall"]).onChange((()=>{e.setEnvironmentTexture(t.environment.texture)})),i.add(t.environment,"diffuseIntensity",0,1,.001).onChange((()=>{e.setEnvironmentParams(t.environment)})),i.add(t.environment,"skyRoughness",0,8,.1).onChange((()=>{e.setEnvironmentParams(t.environment)})),i.close();const o=this.gui.addFolder("Camera");o.add(t.camera,"fov",10,180,1).onChange((()=>e.setCamera(t.camera))),o.add(t.camera,"type",["perspective","othographic"]).onChange((()=>e.setCamera(t.camera))),o.add(t.camera,"outputEncoding",["Linear","Gamma"]).onChange((()=>e.setCamera(t.camera))),o.close();const s=this.gui.addFolder("Lights"),l=s.addFolder("Ambient Light");l.add(t.light.ambient,"intensity",0,1,.001).onChange((()=>{e.setAmbientLight(t.light.ambient)})),l.addColor(t.light.ambient,"color").onChange((()=>{e.setAmbientLight(t.light.ambient)})),l.close();const u=s.addFolder("Directional Light 1");u.add(t.light.directional.directional1,"intensity",0,1,.001).onChange((()=>{e.setDirectionalLight(t.light.directional.directional1,1)})),u.addColor(t.light.directional.directional1,"color").onChange((()=>{e.setDirectionalLight(t.light.directional.directional1,1)}));const c=u.addFolder("direction");c.add(t.light.directional.directional1.direction,"x",0,360,.01).name("horizontal").onChange((()=>{e.setDirectionalLight(t.light.directional.directional1,1)})),c.add(t.light.directional.directional1.direction,"y",0,90,.01).name("verticle").onChange((()=>{e.setDirectionalLight(t.light.directional.directional1,1)})),c.close(),u.add(t.light.directional.directional1,"lensflare").onChange((()=>{e.setDirectionalLight(t.light.directional.directional1,1)})),u.add(t.light.directional.directional1,"shadowenable").onChange((()=>{e.setShadow(t.light.directional.directional1,1)})),u.add(t.light.directional.directional1,"shadowbias",-.1,.1,1e-4).onChange((()=>{e.setShadow(t.light.directional.directional1,1)})),u.add(t.light.directional.directional1,"shadowquality",["Low","Medium","High","Ultra"]).onChange((()=>{e.setShadow(t.light.directional.directional1,1)})),u.close();const h=s.addFolder("Directional Light 2");h.add(t.light.directional.directional2,"intensity",0,1,.001).onChange((()=>{e.setDirectionalLight(t.light.directional.directional2,2)})),h.addColor(t.light.directional.directional2,"color").onChange((()=>{e.setDirectionalLight(t.light.directional.directional2,2)}));const f=h.addFolder("direction");f.add(t.light.directional.directional2.direction,"x",0,360,.01).name("horizontal").onChange((()=>{e.setDirectionalLight(t.light.directional.directional2,2)})),f.add(t.light.directional.directional2.direction,"y",0,90,.01).name("verticle").onChange((()=>{e.setDirectionalLight(t.light.directional.directional2,2)})),f.close(),h.add(t.light.directional.directional2,"lensflare").onChange((()=>{e.setDirectionalLight(t.light.directional.directional2,2)})),h.add(t.light.directional.directional2,"shadowenable").onChange((()=>{e.setShadow(t.light.directional.directional2,2)})),h.add(t.light.directional.directional2,"shadowbias",-.1,.1,1e-4).onChange((()=>{e.setShadow(t.light.directional.directional2,2)})),h.add(t.light.directional.directional2,"shadowquality",["Low","Medium","High","Ultra"]).onChange((()=>{e.setShadow(t.light.directional.directional2,2)})),h.close();const d=s.addFolder("Camera Directional Light");d.add(t.light.directional.cameraDirectional,"intensity",0,1,.001).onChange((()=>{e.setDirectionalLight(t.light.directional.cameraDirectional,0)})),d.addColor(t.light.directional.cameraDirectional,"color").onChange((()=>{e.setDirectionalLight(t.light.directional.cameraDirectional,0)})),d.close(),s.close();const p=this.gui.addFolder("Post Effect");p.add(t.postEffect,"MSAA").onChange((()=>{e.setPostEffect(t.postEffect)}));const m=p.addFolder("Color Correction");m.add(t.postEffect.colorCorrection,"active").onChange((()=>{e.setPostEffect(t.postEffect)})),m.add(t.postEffect.colorCorrection,"brightness",0,.5,.01).onChange((()=>{e.setPostEffect(t.postEffect)})),m.add(t.postEffect.colorCorrection,"contrast",1,1.5,.01).onChange((()=>{e.setPostEffect(t.postEffect)})),m.add(t.postEffect.colorCorrection,"exposure",0,1,.1).onChange((()=>{e.setPostEffect(t.postEffect)})),m.add(t.postEffect.colorCorrection,"gamma",0,2,.1).onChange((()=>{e.setPostEffect(t.postEffect)})),m.add(t.postEffect.colorCorrection,"saturation",-1,5,.001).onChange((()=>{e.setPostEffect(t.postEffect)})),m.close();const g=p.addFolder("Bloom");g.add(t.postEffect.bloom,"active").onChange((()=>{e.setPostEffect(t.postEffect)})),g.add(t.postEffect.bloom,"strength",0,2,.01).onChange((()=>{e.setPostEffect(t.postEffect)})),g.add(t.postEffect.bloom,"threshold",0,1,.01).onChange((()=>{e.setPostEffect(t.postEffect)})),g.add(t.postEffect.bloom,"blurSize",0,5,.01).onChange((()=>{e.setPostEffect(t.postEffect)})),g.add(t.postEffect.bloom,"smoothWidth",0,1,.01).onChange((()=>{e.setPostEffect(t.postEffect)})),g.close();const b=p.addFolder("SSAO");b.add(t.postEffect.ssao,"active").onChange((()=>{e.setPostEffect(t.postEffect)})),b.add(t.postEffect.ssao,"radius",0,5,.01).onChange((()=>{e.setPostEffect(t.postEffect)})),b.add(t.postEffect.ssao,"power",0,5,1).onChange((()=>{e.setPostEffect(t.postEffect)})),b.add(t.postEffect.ssao,"bias",0,1,1e-4).onChange((()=>{e.setPostEffect(t.postEffect)})),b.add(t.postEffect.ssao,"intensity",0,2,.1).onChange((()=>{e.setPostEffect(t.postEffect)})),b.add(t.postEffect.ssao,"quality",["Low","Medium","High","Ultra"]).onChange((()=>{e.setPostEffect(t.postEffect)})),b.close();const _=p.addFolder("SSR");_.add(t.postEffect.ssr,"active").onChange((()=>{e.setPostEffect(t.postEffect)})),_.add(t.postEffect.ssr,"maxRayDistance",1,1e3,1).onChange((()=>{e.setPostEffect(t.postEffect)})),_.add(t.postEffect.ssr,"pixelStride",1,100,1).onChange((()=>{e.setPostEffect(t.postEffect)})),_.add(t.postEffect.ssr,"pixelStrideZCutoff",1,300,1).onChange((()=>{e.setPostEffect(t.postEffect)})),_.add(t.postEffect.ssr,"screenEdgeFadeStart",0,1,.01).onChange((()=>{e.setPostEffect(t.postEffect)})),_.add(t.postEffect.ssr,"eyeFadeStart",0,1,.01).onChange((()=>{e.setPostEffect(t.postEffect)})),_.add(t.postEffect.ssr,"eyeFadeEnd",0,1,.01).onChange((()=>{e.setPostEffect(t.postEffect)})),_.add(t.postEffect.ssr,"minGlossiness",0,1,.01).onChange((()=>{e.setPostEffect(t.postEffect)})),_.close();const v=p.addFolder("DOF");v.add(t.postEffect.dof,"active").onChange((()=>{e.setPostEffect(t.postEffect)})),v.add(t.postEffect.dof,"focalDepth",0,100,.1).onChange((()=>{e.setPostEffect(t.postEffect)})),v.add(t.postEffect.dof,"focalLength",0,100,.1).onChange((()=>{e.setPostEffect(t.postEffect)})),v.add(t.postEffect.dof,"fstop",0,1,.1).onChange((()=>{e.setPostEffect(t.postEffect)})),v.add(t.postEffect.dof,"maxblur",0,1,.1).onChange((()=>{e.setPostEffect(t.postEffect)})),v.add(t.postEffect.dof,"threshold",0,1,.1).onChange((()=>{e.setPostEffect(t.postEffect)})),v.add(t.postEffect.dof,"gain",0,2,.1).onChange((()=>{e.setPostEffect(t.postEffect)})),v.add(t.postEffect.dof,"bias",0,1,.001).onChange((()=>{e.setPostEffect(t.postEffect)})),v.add(t.postEffect.dof,"dithering",0,.001,1e-5).onChange((()=>{e.setPostEffect(t.postEffect)})),v.close();const y=p.addFolder("FXAA");y.add(t.postEffect.fxaa,"active").onChange((()=>{e.setPostEffect(t.postEffect)})),y.close();const x=p.addFolder("ChromaticAberration");x.add(t.postEffect.chromaticaberration,"active").onChange((()=>{e.setPostEffect(t.postEffect)})),x.add(t.postEffect.chromaticaberration,"chromaFactor",0,1,1e-4).onChange((()=>{e.setPostEffect(t.postEffect)})),x.close();const A=p.addFolder("Vignetting");A.add(t.postEffect.vignetting,"active").onChange((()=>{e.setPostEffect(t.postEffect)})),A.addColor(t.postEffect.vignetting,"color").onChange((()=>{e.setPostEffect(t.postEffect)})),A.add(t.postEffect.vignetting,"offset",0,5,.1).onChange((()=>{e.setPostEffect(t.postEffect)})),A.close();const w=p.addFolder("BlurEdge");w.add(t.postEffect.bluredge,"active").onChange((()=>{e.setPostEffect(t.postEffect)})),w.add(t.postEffect.bluredge,"offset",0,5,.1).onChange((()=>{e.setPostEffect(t.postEffect)})),w.close();const T=p.addFolder("Film");T.add(t.postEffect.film,"active").onChange((()=>{e.setPostEffect(t.postEffect)})),T.add(t.postEffect.film,"noiseIntensity",0,1,.01).onChange((()=>{e.setPostEffect(t.postEffect)})),T.add(t.postEffect.film,"scanlinesIntensity",0,1,.01).onChange((()=>{e.setPostEffect(t.postEffect)})),T.add(t.postEffect.film,"scanlinesCount",0,3e3,100).onChange((()=>{e.setPostEffect(t.postEffect)})),T.add(t.postEffect.film,"grayscale").onChange((()=>{e.setPostEffect(t.postEffect)})),T.close();const E=p.addFolder("Glow");E.add(t.postEffect.glow,"active").onChange((()=>{e.setPostEffect(t.postEffect)})),E.add(t.postEffect.glow,"strength",0,2,.01).onChange((()=>{e.setPostEffect(t.postEffect)})),E.add(t.postEffect.glow,"radius",0,5,.01).onChange((()=>{e.setPostEffect(t.postEffect)})),E.add(t.postEffect.glow,"threshold",0,1,.01).onChange((()=>{e.setPostEffect(t.postEffect)})),E.add(t.postEffect.glow,"smoothWidth",0,1,.01).onChange((()=>{e.setPostEffect(t.postEffect)})),E.close();const P=p.addFolder("Lensflare");P.add(t.postEffect.lensflare,"active").onChange((()=>{e.setPostEffect(t.postEffect)})),P.close(),p.close();const S=this.gui.addFolder("Debugger");S.add(t.debuggers,"type",["None","Normal","Depth","Position","SSAO","SSR","UV","Lensflare"]).onChange((()=>e.setDebugger(t.debuggers))),S.close(),this.animationFolder=this.gui.addFolder("Animation"),this.animationFolder.add(t.animation,"playAll"),this.animationFolder.add(t.animation,"stopAll"),this.animationFolder.add(t.animation,"timeScale",-2,2,.1).onChange((t=>e.timeScale=t)),this.animationFolder.close(),this.animationFolder.domElement.style.display="none",this.animCtrls=[],this.setAnimationFolder=function(t){if(this.animCtrls.forEach((e=>e.destroy())),this.animCtrls.length=0,t.length){this.animationFolder.domElement.style.display="";const n=e.actionStates={};t.forEach(((t,r)=>{n[t.name]=0===r;const a=this.animationFolder.add(n,t.name).listen();a.onChange((t=>{e.actions[r].weight=t?1:0})),this.animCtrls.push(a)}))}};const C={import:function(){n.importFileJSON()},export:function(){n.exportFileJSON(t)}},N=this.gui.addFolder("File");N.add(C,"import"),N.add(C,"export"),N.close()}}var Pn=n(883),Sn=n(700),Cn=n.n(Sn);const Nn=JSON.parse('{"K":[{"generator":"babylon.js glTF exporter for 3ds max 2017 *","name":"3DS Max exporter","author":"The BabylonJS authors","type":"EXPORTER","docsURL":"https://github.com/BabylonJS/Exporters","bugsURL":"https://github.com/BabylonJS/Exporters/issues"},{"generator":"Khronos Blender glTF 2.0 exporter","name":"Blender exporter","author":"Khronos Group","type":"EXPORTER","docsURL":"https://github.com/KhronosGroup/glTF-Blender-Exporter","bugsURL":"https://github.com/KhronosGroup/glTF-Blender-Exporter/issues"},{"generator":"blendergltf *","name":"Blender exporter","author":"Kupoman","type":"EXPORTER","docsURL":"https://github.com/Kupoman/blendergltf","bugsURL":"https://github.com/Kupoman/blendergltf/issues"},{"generator":"COLLADA2GLTF","name":"COLLADA converter","author":"Khronos Group","type":"CONVERTER","docsURL":"https://github.com/KhronosGroup/COLLADA2GLTF","bugsURL":"https://github.com/KhronosGroup/COLLADA2GLTF/issues"},{"generator":"FBX2glTF *","name":"FBX converter","author":"Facebook","type":"CONVERTER","docsURL":"https://github.com/facebookincubator/FBX2glTF","bugsURL":"https://github.com/facebookincubator/FBX2glTF/issues"},{"generator":"Maya2glTF *","name":"Maya exporter","author":"Wonder Media Group","type":"EXPORTER","docsURL":"https://github.com/WonderMediaProductions/Maya2glTF","bugsURL":"https://github.com/WonderMediaProductions/Maya2glTF/issues"},{"generator":"babylon.js glTF exporter for maya 2018 *","name":"Maya exporter","author":"The BabylonJS authors","type":"EXPORTER","docsURL":"https://github.com/BabylonJS/Exporters","bugsURL":"https://github.com/BabylonJS/Exporters/issues"},{"generator":"Microsoft GLTF Exporter *","name":"Microsoft exporter","author":"Microsoft","type":"EXPORTER","bugsText":"From the Feedback Hub on Windows, use the *Apps > Paint 3D* categorise."},{"generator":"obj2gltf","name":"OBJ converter","author":"Analytical Graphics","type":"CONVERTER","docsURL":"https://github.com/AnalyticalGraphicsInc/OBJ2GLTF","bugsURL":"https://github.com/AnalyticalGraphicsInc/OBJ2GLTF/issues"},{"generator":"Sketchfab (OSG glTF plugin)","name":"Sketchfab","author":"Sketchfab","type":"OTHER","docsURL":"https://sketchfab.com","bugsURL":"https://help.sketchfab.com/hc/en-us/articles/360000048623-Reporting-a-bug"},{"generator":"Sketchup glTF Exporter by Centaur","name":"Sketchup exporter","author":"Centaur","type":"EXPORTER","docsURL":"https://extensions.sketchup.com/content/gltf-exporter"},{"generator":"glTF Tools for Unity","name":"Unity exporter","author":"Khronos Group","type":"EXPORTER","docsURL":"https://github.com/KhronosGroup/UnityGLTF","bugsURL":"https://github.com/KhronosGroup/UnityGLTF/issues"},{"generator":"THREE.GLTFExporter","name":"three.js exporter","author":"The three.js authors","type":"EXPORTER","docsURL":"https://threejs.org/docs/#examples/exporters/GLTFExporter","bugsURL":"https://github.com/mrdoob/three.js/issues"},{"generator":"Adobe Dimension","name":"Adobe Dimension glTF Exporter","author":"Adobe Dimension","type":"EXPORTER","docsURL":"","bugsURL":"https://feedback.adobedimension.com/forums/552760-adobe-dimension-bugs"}]}'),In=["Errors","Warnings","Infos","Hints"];class Mn{constructor(e){this.el=e,this.report=null,this.toggleTpl=n(263),this.toggleEl=document.createElement("div"),this.toggleEl.classList.add("report-toggle-wrap","hidden"),this.el.appendChild(this.toggleEl),this.reportTpl=n(880)}validate(e,t,n,r,a,i){((e,t)=>Pn.validateBytes(e,t))(new Uint8Array(e),{externalResourceFunction:e=>this.resolveExternalResource(e,t,n,r,a)}).then((e=>this.setReport(e,i))).catch((e=>this.setReportException(e)))}resolveExternalResource(e,t,n,r,a){const i=a.extractUrlBase(t),o=n+decodeURI(e).replace(i,"").replace(/^(\.?\/)/,"");let s;if(r&&r.has(o)){const e=r.get(o);s=URL.createObjectURL(e)}return fetch(s||i+e).then((e=>e.arrayBuffer())).then((e=>(s&&URL.revokeObjectURL(s),new Uint8Array(e))))}setReport(e,t){const n=e&&e.info&&e.info.generator||"",r=Nn.K.find((e=>-1===e.generator.indexOf("*")?e.generator===n:Cn()(e.generator).test(n)));r&&r.name!==r.author&&(r.name=`${r.name} by ${r.author}`),e.generator=r,e.issues.maxSeverity=-1,In.forEach(((t,n)=>{e.issues[`num${t}`]>0&&-1===e.issues.maxSeverity&&(e.issues.maxSeverity=n)})),e.errors=e.issues.messages.filter((e=>0===e.severity)),e.warnings=e.issues.messages.filter((e=>1===e.severity)),e.infos=e.issues.messages.filter((e=>2===e.severity)),e.hints=e.issues.messages.filter((e=>3===e.severity)),function(e){const t={ACCESSOR_NON_UNIT:{message:"{count} accessor elements not of unit length: 0. [AGGREGATED]",pointerCounts:{}},ACCESSOR_ANIMATION_INPUT_NON_INCREASING:{message:"{count} animation input accessor elements not in ascending order. [AGGREGATED]",pointerCounts:{}}};e.errors.forEach((e=>{t[e.code]&&(t[e.code].pointerCounts[e.pointer]||(t[e.code].pointerCounts[e.pointer]=0),t[e.code].pointerCounts[e.pointer]++)})),e.errors=e.errors.filter((e=>!t[e.code]||!t[e.code].pointerCounts[e.pointer]||t[e.code].pointerCounts[e.pointer]<2)),Object.keys(t).forEach((n=>{Object.keys(t[n].pointerCounts).forEach((r=>{e.errors.push({code:n,pointer:r,message:t[n].message.replace("{count}",t[n].pointerCounts[r])})}))}))}(e),this.report=e,this.setResponse(t),this.toggleEl.innerHTML=this.toggleTpl(e),this.showToggle(),this.bindListeners()}setResponse(e){const t=e&&e.gltf;if(t&&t.asset&&t.asset.extras){const e=t.asset.extras;this.report.info.extras={},e.author&&(this.report.info.extras.author=Ln(Fn(e.author))),e.license&&(this.report.info.extras.license=Ln(Fn(e.license))),e.source&&(this.report.info.extras.source=Ln(Fn(e.source))),e.title&&(this.report.info.extras.title=e.title)}}setReportException(e){this.report=null,this.toggleEl.innerHTML=this.toggleTpl({reportError:e,level:0}),this.showToggle(),this.bindListeners()}bindListeners(){this.toggleEl.querySelector(".report-toggle").addEventListener("click",(()=>this.showLightbox())),this.toggleEl.querySelector(".report-toggle-close").addEventListener("click",(e=>{this.hideToggle(),e.stopPropagation()}))}showToggle(){this.toggleEl.classList.remove("hidden")}hideToggle(){this.toggleEl.classList.add("hidden")}showLightbox(){this.report&&(window.open("","_blank").document.body.innerHTML=this.reportTpl(Object.assign({},this.report,{location})))}}function Fn(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function Ln(e){return e.replace(/\b(?:https?):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim,'<a target="_blank" href="$&">$&</a>').replace(/(([a-zA-Z0-9_\-\.]+)@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6}))+/gim,'<a target="_blank" href="mailto:$1">$1</a>')}var Rn=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function kn(){var e=this;function t(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}e.build_tree=function(n){var r,a,i,o=e.dyn_tree,s=e.stat_desc.static_tree,l=e.stat_desc.elems,u=-1;for(n.heap_len=0,n.heap_max=573,r=0;r<l;r++)0!==o[2*r]?(n.heap[++n.heap_len]=u=r,n.depth[r]=0):o[2*r+1]=0;for(;n.heap_len<2;)o[2*(i=n.heap[++n.heap_len]=u<2?++u:0)]=1,n.depth[i]=0,n.opt_len--,s&&(n.static_len-=s[2*i+1]);for(e.max_code=u,r=Math.floor(n.heap_len/2);r>=1;r--)n.pqdownheap(o,r);i=l;do{r=n.heap[1],n.heap[1]=n.heap[n.heap_len--],n.pqdownheap(o,1),a=n.heap[1],n.heap[--n.heap_max]=r,n.heap[--n.heap_max]=a,o[2*i]=o[2*r]+o[2*a],n.depth[i]=Math.max(n.depth[r],n.depth[a])+1,o[2*r+1]=o[2*a+1]=i,n.heap[1]=i++,n.pqdownheap(o,1)}while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],function(t){var n,r,a,i,o,s,l=e.dyn_tree,u=e.stat_desc.static_tree,c=e.stat_desc.extra_bits,h=e.stat_desc.extra_base,f=e.stat_desc.max_length,d=0;for(i=0;i<=15;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(i=l[2*l[2*(r=t.heap[n])+1]+1]+1)>f&&(i=f,d++),l[2*r+1]=i,r>e.max_code||(t.bl_count[i]++,o=0,r>=h&&(o=c[r-h]),t.opt_len+=(s=l[2*r])*(i+o),u&&(t.static_len+=s*(u[2*r+1]+o)));if(0!==d){do{for(i=f-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[f]--,d-=2}while(d>0);for(i=f;0!==i;i--)for(r=t.bl_count[i];0!==r;)(a=t.heap[--n])>e.max_code||(l[2*a+1]!=i&&(t.opt_len+=(i-l[2*a+1])*l[2*a],l[2*a+1]=i),r--)}}(n),function(e,n,r){var a,i,o,s=[],l=0;for(a=1;a<=15;a++)s[a]=l=l+r[a-1]<<1;for(i=0;i<=n;i++)0!==(o=e[2*i+1])&&(e[2*i]=t(s[o]++,o))}(o,e.max_code,n.bl_count)}}function $n(e,t,n,r,a){var i=this;i.static_tree=e,i.extra_bits=t,i.extra_base=n,i.elems=r,i.max_length=a}function Dn(e,t,n,r,a){var i=this;i.good_length=e,i.max_lazy=t,i.nice_length=n,i.max_chain=r,i.func=a}kn._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],kn.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],kn.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],kn.d_code=function(e){return e<256?Rn[e]:Rn[256+(e>>>7)]},kn.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],kn.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],kn.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],kn.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$n.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],$n.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],$n.static_l_desc=new $n($n.static_ltree,kn.extra_lbits,257,286,15),$n.static_d_desc=new $n($n.static_dtree,kn.extra_dbits,0,30,15),$n.static_bl_desc=new $n(null,kn.extra_blbits,0,19,7);var On=[new Dn(0,0,0,0,0),new Dn(4,4,8,4,1),new Dn(4,5,16,8,1),new Dn(4,6,32,32,1),new Dn(4,4,16,16,2),new Dn(8,16,32,32,2),new Dn(8,16,128,128,2),new Dn(8,32,128,256,2),new Dn(32,128,258,1024,2),new Dn(32,258,258,4096,2)],Un=["need dictionary","stream end","","","stream error","data error","","buffer error","",""];function jn(e,t,n,r){var a=e[2*t],i=e[2*n];return a<i||a==i&&r[t]<=r[n]}function zn(){var e,t,n,r,a,i,o,s,l,u,c,h,f,d,p,m,g,b,_,v,y,x,A,w,T,E,P,S,C,N,I,M,F,L,R,k,$,D,O,U,j,z=this,B=new kn,H=new kn,X=new kn;function V(){var e;for(e=0;e<286;e++)I[2*e]=0;for(e=0;e<30;e++)M[2*e]=0;for(e=0;e<19;e++)F[2*e]=0;I[512]=1,z.opt_len=z.static_len=0,k=D=0}function G(e,t){var n,r,a=-1,i=e[1],o=0,s=7,l=4;for(0===i&&(s=138,l=3),e[2*(t+1)+1]=65535,n=0;n<=t;n++)r=i,i=e[2*(n+1)+1],++o<s&&r==i||(o<l?F[2*r]+=o:0!==r?(r!=a&&F[2*r]++,F[32]++):o<=10?F[34]++:F[36]++,o=0,a=r,0===i?(s=138,l=3):r==i?(s=6,l=3):(s=7,l=4))}function W(e){z.pending_buf[z.pending++]=e}function Y(e){W(255&e),W(e>>>8&255)}function Q(e,t){var n,r=t;j>16-r?(Y(U|=(n=e)<<j&65535),U=n>>>16-j,j+=r-16):(U|=e<<j&65535,j+=r)}function q(e,t){var n=2*e;Q(65535&t[n],65535&t[n+1])}function K(e,t){var n,r,a=-1,i=e[1],o=0,s=7,l=4;for(0===i&&(s=138,l=3),n=0;n<=t;n++)if(r=i,i=e[2*(n+1)+1],!(++o<s&&r==i)){if(o<l)do{q(r,F)}while(0!=--o);else 0!==r?(r!=a&&(q(r,F),o--),q(16,F),Q(o-3,2)):o<=10?(q(17,F),Q(o-3,3)):(q(18,F),Q(o-11,7));o=0,a=r,0===i?(s=138,l=3):r==i?(s=6,l=3):(s=7,l=4)}}function Z(){16==j?(Y(U),U=0,j=0):j>=8&&(W(255&U),U>>>=8,j-=8)}function J(e,t){var n,r,a;if(z.pending_buf[$+2*k]=e>>>8&255,z.pending_buf[$+2*k+1]=255&e,z.pending_buf[L+k]=255&t,k++,0===e?I[2*t]++:(D++,e--,I[2*(kn._length_code[t]+256+1)]++,M[2*kn.d_code(e)]++),0==(8191&k)&&P>2){for(n=8*k,r=y-g,a=0;a<30;a++)n+=M[2*a]*(5+kn.extra_dbits[a]);if(n>>>=3,D<Math.floor(k/2)&&n<Math.floor(r/2))return!0}return k==R-1}function ee(e,t){var n,r,a,i,o=0;if(0!==k)do{n=z.pending_buf[$+2*o]<<8&65280|255&z.pending_buf[$+2*o+1],r=255&z.pending_buf[L+o],o++,0===n?q(r,e):(q((a=kn._length_code[r])+256+1,e),0!==(i=kn.extra_lbits[a])&&Q(r-=kn.base_length[a],i),n--,q(a=kn.d_code(n),t),0!==(i=kn.extra_dbits[a])&&Q(n-=kn.base_dist[a],i))}while(o<k);q(256,e),O=e[513]}function te(){j>8?Y(U):j>0&&W(255&U),U=0,j=0}function ne(e,t,n){Q(0+(n?1:0),3),function(e,t,n){te(),O=8,Y(t),Y(~t),z.pending_buf.set(s.subarray(e,e+t),z.pending),z.pending+=t}(e,t)}function re(t){(function(e,t,n){var r,a,i=0;P>0?(B.build_tree(z),H.build_tree(z),i=function(){var e;for(G(I,B.max_code),G(M,H.max_code),X.build_tree(z),e=18;e>=3&&0===F[2*kn.bl_order[e]+1];e--);return z.opt_len+=3*(e+1)+5+5+4,e}(),(a=z.static_len+3+7>>>3)<=(r=z.opt_len+3+7>>>3)&&(r=a)):r=a=t+5,t+4<=r&&-1!=e?ne(e,t,n):a==r?(Q(2+(n?1:0),3),ee($n.static_ltree,$n.static_dtree)):(Q(4+(n?1:0),3),function(e,t,n){var r;for(Q(e-257,5),Q(t-1,5),Q(n-4,4),r=0;r<n;r++)Q(F[2*kn.bl_order[r]+1],3);K(I,e-1),K(M,t-1)}(B.max_code+1,H.max_code+1,i+1),ee(I,M)),V(),n&&te()})(g>=0?g:-1,y-g,t),g=y,e.flush_pending()}function ae(){var t,n,r,i;do{if(0==(i=l-A-y)&&0===y&&0===A)i=a;else if(-1==i)i--;else if(y>=a+a-262){s.set(s.subarray(a,a+a),0),x-=a,y-=a,g-=a,r=t=f;do{n=65535&c[--r],c[r]=n>=a?n-a:0}while(0!=--t);r=t=a;do{n=65535&u[--r],u[r]=n>=a?n-a:0}while(0!=--t);i+=a}if(0===e.avail_in)return;t=e.read_buf(s,y+A,i),(A+=t)>=3&&(h=((h=255&s[y])<<m^255&s[y+1])&p)}while(A<262&&0!==e.avail_in)}function ie(e){var t,n,r=T,i=y,l=w,c=y>a-262?y-(a-262):0,h=N,f=o,d=y+258,p=s[i+l-1],m=s[i+l];w>=C&&(r>>=2),h>A&&(h=A);do{if(s[(t=e)+l]==m&&s[t+l-1]==p&&s[t]==s[i]&&s[++t]==s[i+1]){i+=2,t++;do{}while(s[++i]==s[++t]&&s[++i]==s[++t]&&s[++i]==s[++t]&&s[++i]==s[++t]&&s[++i]==s[++t]&&s[++i]==s[++t]&&s[++i]==s[++t]&&s[++i]==s[++t]&&i<d);if(n=258-(d-i),i=d-258,n>l){if(x=e,l=n,n>=h)break;p=s[i+l-1],m=s[i+l]}}}while((e=65535&u[e&f])>c&&0!=--r);return l<=A?l:A}z.depth=[],z.bl_count=[],z.heap=[],I=[],M=[],F=[],z.pqdownheap=function(e,t){for(var n=z.heap,r=n[t],a=t<<1;a<=z.heap_len&&(a<z.heap_len&&jn(e,n[a+1],n[a],z.depth)&&a++,!jn(e,r,n[a],z.depth));)n[t]=n[a],t=a,a<<=1;n[t]=r},z.deflateInit=function(e,_,x,k,D,G){return k||(k=8),D||(D=8),G||(G=0),e.msg=null,-1==_&&(_=6),D<1||D>9||8!=k||x<9||x>15||_<0||_>9||G<0||G>2?-2:(e.dstate=z,o=(a=1<<(i=x))-1,p=(f=1<<(d=D+7))-1,m=Math.floor((d+3-1)/3),s=new Uint8Array(2*a),u=[],c=[],R=1<<D+6,z.pending_buf=new Uint8Array(4*R),n=4*R,$=Math.floor(R/2),L=3*R,P=_,S=G,function(e){return e.total_in=e.total_out=0,e.msg=null,z.pending=0,z.pending_out=0,t=113,r=0,B.dyn_tree=I,B.stat_desc=$n.static_l_desc,H.dyn_tree=M,H.stat_desc=$n.static_d_desc,X.dyn_tree=F,X.stat_desc=$n.static_bl_desc,U=0,j=0,O=8,V(),function(){var e;for(l=2*a,c[f-1]=0,e=0;e<f-1;e++)c[e]=0;E=On[P].max_lazy,C=On[P].good_length,N=On[P].nice_length,T=On[P].max_chain,y=0,g=0,A=0,b=w=2,v=0,h=0}(),0}(e))},z.deflateEnd=function(){return 42!=t&&113!=t&&666!=t?-2:(z.pending_buf=null,c=null,u=null,s=null,z.dstate=null,113==t?-3:0)},z.deflateParams=function(e,t,n){var r=0;return-1==t&&(t=6),t<0||t>9||n<0||n>2?-2:(On[P].func!=On[t].func&&0!==e.total_in&&(r=e.deflate(1)),P!=t&&(E=On[P=t].max_lazy,C=On[P].good_length,N=On[P].nice_length,T=On[P].max_chain),S=n,r)},z.deflateSetDictionary=function(e,n,r){var i,l=r,f=0;if(!n||42!=t)return-2;if(l<3)return 0;for(l>a-262&&(f=r-(l=a-262)),s.set(n.subarray(f,f+l),0),y=l,g=l,h=((h=255&s[0])<<m^255&s[1])&p,i=0;i<=l-3;i++)u[i&o]=c[h=(h<<m^255&s[i+2])&p],c[h]=i;return 0},z.deflate=function(l,d){var T,C,N,I,M,F;if(d>4||d<0)return-2;if(!l.next_out||!l.next_in&&0!==l.avail_in||666==t&&4!=d)return l.msg=Un[4],-2;if(0===l.avail_out)return l.msg=Un[7],-5;if(e=l,I=r,r=d,42==t&&(C=8+(i-8<<4)<<8,(N=(P-1&255)>>1)>3&&(N=3),C|=N<<6,0!==y&&(C|=32),t=113,W((F=C+=31-C%31)>>8&255),W(255&F)),0!==z.pending){if(e.flush_pending(),0===e.avail_out)return r=-1,0}else if(0===e.avail_in&&d<=I&&4!=d)return e.msg=Un[7],-5;if(666==t&&0!==e.avail_in)return l.msg=Un[7],-5;if(0!==e.avail_in||0!==A||0!=d&&666!=t){switch(M=-1,On[P].func){case 0:M=function(t){var r,i=65535;for(i>n-5&&(i=n-5);;){if(A<=1){if(ae(),0===A&&0==t)return 0;if(0===A)break}if(y+=A,A=0,r=g+i,(0===y||y>=r)&&(A=y-r,y=r,re(!1),0===e.avail_out))return 0;if(y-g>=a-262&&(re(!1),0===e.avail_out))return 0}return re(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(d);break;case 1:M=function(t){for(var n,r=0;;){if(A<262){if(ae(),A<262&&0==t)return 0;if(0===A)break}if(A>=3&&(r=65535&c[h=(h<<m^255&s[y+2])&p],u[y&o]=c[h],c[h]=y),0!==r&&(y-r&65535)<=a-262&&2!=S&&(b=ie(r)),b>=3)if(n=J(y-x,b-3),A-=b,b<=E&&A>=3){b--;do{y++,r=65535&c[h=(h<<m^255&s[y+2])&p],u[y&o]=c[h],c[h]=y}while(0!=--b);y++}else y+=b,b=0,h=((h=255&s[y])<<m^255&s[y+1])&p;else n=J(0,255&s[y]),A--,y++;if(n&&(re(!1),0===e.avail_out))return 0}return re(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(d);break;case 2:M=function(t){for(var n,r,i=0;;){if(A<262){if(ae(),A<262&&0==t)return 0;if(0===A)break}if(A>=3&&(i=65535&c[h=(h<<m^255&s[y+2])&p],u[y&o]=c[h],c[h]=y),w=b,_=x,b=2,0!==i&&w<E&&(y-i&65535)<=a-262&&(2!=S&&(b=ie(i)),b<=5&&(1==S||3==b&&y-x>4096)&&(b=2)),w>=3&&b<=w){r=y+A-3,n=J(y-1-_,w-3),A-=w-1,w-=2;do{++y<=r&&(i=65535&c[h=(h<<m^255&s[y+2])&p],u[y&o]=c[h],c[h]=y)}while(0!=--w);if(v=0,b=2,y++,n&&(re(!1),0===e.avail_out))return 0}else if(0!==v){if((n=J(0,255&s[y-1]))&&re(!1),y++,A--,0===e.avail_out)return 0}else v=1,y++,A--}return 0!==v&&(n=J(0,255&s[y-1]),v=0),re(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(d)}if(2!=M&&3!=M||(t=666),0==M||2==M)return 0===e.avail_out&&(r=-1),0;if(1==M){if(1==d)Q(2,3),q(256,$n.static_ltree),Z(),1+O+10-j<9&&(Q(2,3),q(256,$n.static_ltree),Z()),O=7;else if(ne(0,0,!1),3==d)for(T=0;T<f;T++)c[T]=0;if(e.flush_pending(),0===e.avail_out)return r=-1,0}}return 4!=d?0:1}}function Bn(){var e=this;e.next_in_index=0,e.next_out_index=0,e.avail_in=0,e.total_in=0,e.avail_out=0,e.total_out=0}function Hn(e){var t=new Bn,n=512,r=new Uint8Array(n),a=e?e.level:-1;void 0===a&&(a=-1),t.deflateInit(a),t.next_out=r,this.append=function(e,a){var i,o=[],s=0,l=0,u=0;if(e.length){t.next_in_index=0,t.next_in=e,t.avail_in=e.length;do{if(t.next_out_index=0,t.avail_out=n,0!=t.deflate(0))throw new Error("deflating: "+t.msg);t.next_out_index&&o.push(t.next_out_index==n?new Uint8Array(r):new Uint8Array(r.subarray(0,t.next_out_index))),u+=t.next_out_index,a&&t.next_in_index>0&&t.next_in_index!=s&&(a(t.next_in_index),s=t.next_in_index)}while(t.avail_in>0||0===t.avail_out);return i=new Uint8Array(u),o.forEach((function(e){i.set(e,l),l+=e.length})),i}},this.flush=function(){var e,a,i=[],o=0,s=0;do{if(t.next_out_index=0,t.avail_out=n,1!=(e=t.deflate(4))&&0!=e)throw new Error("deflating: "+t.msg);n-t.avail_out>0&&i.push(new Uint8Array(r.subarray(0,t.next_out_index))),s+=t.next_out_index}while(t.avail_in>0||0===t.avail_out);return t.deflateEnd(),a=new Uint8Array(s),i.forEach((function(e){a.set(e,o),o+=e.length})),a}}Bn.prototype={deflateInit:function(e,t){var n=this;return n.dstate=new zn,t||(t=15),n.dstate.deflateInit(n,e,t)},deflate:function(e){var t=this;return t.dstate?t.dstate.deflate(t,e):-2},deflateEnd:function(){var e=this;if(!e.dstate)return-2;var t=e.dstate.deflateEnd();return e.dstate=null,t},deflateParams:function(e,t){var n=this;return n.dstate?n.dstate.deflateParams(n,e,t):-2},deflateSetDictionary:function(e,t){var n=this;return n.dstate?n.dstate.deflateSetDictionary(n,e,t):-2},read_buf:function(e,t,n){var r=this,a=r.avail_in;return a>n&&(a=n),0===a?0:(r.avail_in-=a,e.set(r.next_in.subarray(r.next_in_index,r.next_in_index+a),t),r.next_in_index+=a,r.total_in+=a,a)},flush_pending:function(){var e=this,t=e.dstate.pending;t>e.avail_out&&(t=e.avail_out),0!==t&&(e.next_out.set(e.dstate.pending_buf.subarray(e.dstate.pending_out,e.dstate.pending_out+t),e.next_out_index),e.next_out_index+=t,e.dstate.pending_out+=t,e.total_out+=t,e.avail_out-=t,e.dstate.pending-=t,0===e.dstate.pending&&(e.dstate.pending_out=0))}},self._zipjs_Deflater=Hn;var Xn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],Vn=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],Gn=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],Wn=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Yn=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],Qn=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],qn=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];function Kn(){var e,t,n,r,a,i;function o(e,t,o,s,l,u,c,h,f,d,p){var m,g,b,_,v,y,x,A,w,T,E,P,S,C,N;T=0,v=o;do{n[e[t+T]]++,T++,v--}while(0!==v);if(n[0]==o)return c[0]=-1,h[0]=0,0;for(A=h[0],y=1;y<=15&&0===n[y];y++);for(x=y,A<y&&(A=y),v=15;0!==v&&0===n[v];v--);for(b=v,A>v&&(A=v),h[0]=A,C=1<<y;y<v;y++,C<<=1)if((C-=n[y])<0)return-3;if((C-=n[v])<0)return-3;for(n[v]+=C,i[1]=y=0,T=1,S=2;0!=--v;)i[S]=y+=n[T],S++,T++;v=0,T=0;do{0!==(y=e[t+T])&&(p[i[y]++]=v),T++}while(++v<o);for(o=i[b],i[0]=v=0,T=0,_=-1,P=-A,a[0]=0,E=0,N=0;x<=b;x++)for(m=n[x];0!=m--;){for(;x>P+A;){if(_++,N=(N=b-(P+=A))>A?A:N,(g=1<<(y=x-P))>m+1&&(g-=m+1,S=x,y<N))for(;++y<N&&!((g<<=1)<=n[++S]);)g-=n[S];if(d[0]+(N=1<<y)>1440)return-3;a[_]=E=d[0],d[0]+=N,0!==_?(i[_]=v,r[0]=y,r[1]=A,r[2]=E-a[_-1]-(y=v>>>P-A),f.set(r,3*(a[_-1]+y))):c[0]=E}for(r[1]=x-P,T>=o?r[0]=192:p[T]<s?(r[0]=p[T]<256?0:96,r[2]=p[T++]):(r[0]=u[p[T]-s]+16+64,r[2]=l[p[T++]-s]),g=1<<x-P,y=v>>>P;y<N;y+=g)f.set(r,3*(E+y));for(y=1<<x-1;0!=(v&y);y>>>=1)v^=y;for(v^=y,w=(1<<P)-1;(v&w)!=i[_];)_--,w=(1<<(P-=A))-1}return 0!==C&&1!=b?-5:0}function s(o){var s;for(e||(e=[],t=[],n=new Int32Array(16),r=[],a=new Int32Array(15),i=new Int32Array(16)),t.length<o&&(t=[]),s=0;s<o;s++)t[s]=0;for(s=0;s<16;s++)n[s]=0;for(s=0;s<3;s++)r[s]=0;a.set(n.subarray(0,15),0),i.set(n.subarray(0,16),0)}this.inflate_trees_bits=function(n,r,a,i,l){var u;return s(19),e[0]=0,-3==(u=o(n,0,19,19,null,null,a,r,i,e,t))?l.msg="oversubscribed dynamic bit lengths tree":-5!=u&&0!==r[0]||(l.msg="incomplete dynamic bit lengths tree",u=-3),u},this.inflate_trees_dynamic=function(n,r,a,i,l,u,c,h,f){var d;return s(288),e[0]=0,0!=(d=o(a,0,n,257,Wn,Yn,u,i,h,e,t))||0===i[0]?(-3==d?f.msg="oversubscribed literal/length tree":-4!=d&&(f.msg="incomplete literal/length tree",d=-3),d):(s(288),0!=(d=o(a,n,r,0,Qn,qn,c,l,h,e,t))||0===l[0]&&n>257?(-3==d?f.msg="oversubscribed distance tree":-5==d?(f.msg="incomplete distance tree",d=-3):-4!=d&&(f.msg="empty distance tree with lengths",d=-3),d):0)}}function Zn(){var e,t,n,r,a=this,i=0,o=0,s=0,l=0,u=0,c=0,h=0,f=0,d=0,p=0;function m(e,t,n,r,a,i,o,s){var l,u,c,h,f,d,p,m,g,b,_,v,y,x,A,w;p=s.next_in_index,m=s.avail_in,f=o.bitb,d=o.bitk,b=(g=o.write)<o.read?o.read-g-1:o.end-g,_=Xn[e],v=Xn[t];do{for(;d<20;)m--,f|=(255&s.read_byte(p++))<<d,d+=8;if(0!==(h=(u=n)[w=3*((c=r)+(l=f&_))]))for(;;){if(f>>=u[w+1],d-=u[w+1],0!=(16&h)){for(y=u[w+2]+(f&Xn[h&=15]),f>>=h,d-=h;d<15;)m--,f|=(255&s.read_byte(p++))<<d,d+=8;for(h=(u=a)[w=3*((c=i)+(l=f&v))];;){if(f>>=u[w+1],d-=u[w+1],0!=(16&h)){for(h&=15;d<h;)m--,f|=(255&s.read_byte(p++))<<d,d+=8;if(x=u[w+2]+(f&Xn[h]),f>>=h,d-=h,b-=y,g>=x)g-(A=g-x)>0&&2>g-A?(o.window[g++]=o.window[A++],o.window[g++]=o.window[A++],y-=2):(o.window.set(o.window.subarray(A,A+2),g),g+=2,A+=2,y-=2);else{A=g-x;do{A+=o.end}while(A<0);if(y>(h=o.end-A)){if(y-=h,g-A>0&&h>g-A)do{o.window[g++]=o.window[A++]}while(0!=--h);else o.window.set(o.window.subarray(A,A+h),g),g+=h,A+=h,h=0;A=0}}if(g-A>0&&y>g-A)do{o.window[g++]=o.window[A++]}while(0!=--y);else o.window.set(o.window.subarray(A,A+y),g),g+=y,A+=y,y=0;break}if(0!=(64&h))return s.msg="invalid distance code",m+=y=d>>3<(y=s.avail_in-m)?d>>3:y,p-=y,d-=y<<3,o.bitb=f,o.bitk=d,s.avail_in=m,s.total_in+=p-s.next_in_index,s.next_in_index=p,o.write=g,-3;l+=u[w+2],h=u[w=3*(c+(l+=f&Xn[h]))]}break}if(0!=(64&h))return 0!=(32&h)?(m+=y=d>>3<(y=s.avail_in-m)?d>>3:y,p-=y,d-=y<<3,o.bitb=f,o.bitk=d,s.avail_in=m,s.total_in+=p-s.next_in_index,s.next_in_index=p,o.write=g,1):(s.msg="invalid literal/length code",m+=y=d>>3<(y=s.avail_in-m)?d>>3:y,p-=y,d-=y<<3,o.bitb=f,o.bitk=d,s.avail_in=m,s.total_in+=p-s.next_in_index,s.next_in_index=p,o.write=g,-3);if(l+=u[w+2],0===(h=u[w=3*(c+(l+=f&Xn[h]))])){f>>=u[w+1],d-=u[w+1],o.window[g++]=u[w+2],b--;break}}else f>>=u[w+1],d-=u[w+1],o.window[g++]=u[w+2],b--}while(b>=258&&m>=10);return m+=y=d>>3<(y=s.avail_in-m)?d>>3:y,p-=y,d-=y<<3,o.bitb=f,o.bitk=d,s.avail_in=m,s.total_in+=p-s.next_in_index,s.next_in_index=p,o.write=g,0}a.init=function(a,i,o,s,l,u){e=0,h=a,f=i,n=o,d=s,r=l,p=u,t=null},a.proc=function(a,g,b){var _,v,y,x,A,w,T,E=0,P=0,S=0;for(S=g.next_in_index,x=g.avail_in,E=a.bitb,P=a.bitk,w=(A=a.write)<a.read?a.read-A-1:a.end-A;;)switch(e){case 0:if(w>=258&&x>=10&&(a.bitb=E,a.bitk=P,g.avail_in=x,g.total_in+=S-g.next_in_index,g.next_in_index=S,a.write=A,b=m(h,f,n,d,r,p,a,g),S=g.next_in_index,x=g.avail_in,E=a.bitb,P=a.bitk,w=(A=a.write)<a.read?a.read-A-1:a.end-A,0!=b)){e=1==b?7:9;break}s=h,t=n,o=d,e=1;case 1:for(_=s;P<_;){if(0===x)return a.bitb=E,a.bitk=P,g.avail_in=x,g.total_in+=S-g.next_in_index,g.next_in_index=S,a.write=A,a.inflate_flush(g,b);b=0,x--,E|=(255&g.read_byte(S++))<<P,P+=8}if(E>>>=t[1+(v=3*(o+(E&Xn[_])))],P-=t[v+1],0===(y=t[v])){l=t[v+2],e=6;break}if(0!=(16&y)){u=15&y,i=t[v+2],e=2;break}if(0==(64&y)){s=y,o=v/3+t[v+2];break}if(0!=(32&y)){e=7;break}return e=9,g.msg="invalid literal/length code",b=-3,a.bitb=E,a.bitk=P,g.avail_in=x,g.total_in+=S-g.next_in_index,g.next_in_index=S,a.write=A,a.inflate_flush(g,b);case 2:for(_=u;P<_;){if(0===x)return a.bitb=E,a.bitk=P,g.avail_in=x,g.total_in+=S-g.next_in_index,g.next_in_index=S,a.write=A,a.inflate_flush(g,b);b=0,x--,E|=(255&g.read_byte(S++))<<P,P+=8}i+=E&Xn[_],E>>=_,P-=_,s=f,t=r,o=p,e=3;case 3:for(_=s;P<_;){if(0===x)return a.bitb=E,a.bitk=P,g.avail_in=x,g.total_in+=S-g.next_in_index,g.next_in_index=S,a.write=A,a.inflate_flush(g,b);b=0,x--,E|=(255&g.read_byte(S++))<<P,P+=8}if(E>>=t[1+(v=3*(o+(E&Xn[_])))],P-=t[v+1],0!=(16&(y=t[v]))){u=15&y,c=t[v+2],e=4;break}if(0==(64&y)){s=y,o=v/3+t[v+2];break}return e=9,g.msg="invalid distance code",b=-3,a.bitb=E,a.bitk=P,g.avail_in=x,g.total_in+=S-g.next_in_index,g.next_in_index=S,a.write=A,a.inflate_flush(g,b);case 4:for(_=u;P<_;){if(0===x)return a.bitb=E,a.bitk=P,g.avail_in=x,g.total_in+=S-g.next_in_index,g.next_in_index=S,a.write=A,a.inflate_flush(g,b);b=0,x--,E|=(255&g.read_byte(S++))<<P,P+=8}c+=E&Xn[_],E>>=_,P-=_,e=5;case 5:for(T=A-c;T<0;)T+=a.end;for(;0!==i;){if(0===w&&(A==a.end&&0!==a.read&&(w=(A=0)<a.read?a.read-A-1:a.end-A),0===w&&(a.write=A,b=a.inflate_flush(g,b),w=(A=a.write)<a.read?a.read-A-1:a.end-A,A==a.end&&0!==a.read&&(w=(A=0)<a.read?a.read-A-1:a.end-A),0===w)))return a.bitb=E,a.bitk=P,g.avail_in=x,g.total_in+=S-g.next_in_index,g.next_in_index=S,a.write=A,a.inflate_flush(g,b);a.window[A++]=a.window[T++],w--,T==a.end&&(T=0),i--}e=0;break;case 6:if(0===w&&(A==a.end&&0!==a.read&&(w=(A=0)<a.read?a.read-A-1:a.end-A),0===w&&(a.write=A,b=a.inflate_flush(g,b),w=(A=a.write)<a.read?a.read-A-1:a.end-A,A==a.end&&0!==a.read&&(w=(A=0)<a.read?a.read-A-1:a.end-A),0===w)))return a.bitb=E,a.bitk=P,g.avail_in=x,g.total_in+=S-g.next_in_index,g.next_in_index=S,a.write=A,a.inflate_flush(g,b);b=0,a.window[A++]=l,w--,e=0;break;case 7:if(P>7&&(P-=8,x++,S--),a.write=A,b=a.inflate_flush(g,b),w=(A=a.write)<a.read?a.read-A-1:a.end-A,a.read!=a.write)return a.bitb=E,a.bitk=P,g.avail_in=x,g.total_in+=S-g.next_in_index,g.next_in_index=S,a.write=A,a.inflate_flush(g,b);e=8;case 8:return b=1,a.bitb=E,a.bitk=P,g.avail_in=x,g.total_in+=S-g.next_in_index,g.next_in_index=S,a.write=A,a.inflate_flush(g,b);case 9:return b=-3,a.bitb=E,a.bitk=P,g.avail_in=x,g.total_in+=S-g.next_in_index,g.next_in_index=S,a.write=A,a.inflate_flush(g,b);default:return b=-2,a.bitb=E,a.bitk=P,g.avail_in=x,g.total_in+=S-g.next_in_index,g.next_in_index=S,a.write=A,a.inflate_flush(g,b)}},a.free=function(){}}Kn.inflate_trees_fixed=function(e,t,n,r){return e[0]=9,t[0]=5,n[0]=Vn,r[0]=Gn,0};var Jn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function er(e,t){var n,r=this,a=0,i=0,o=0,s=0,l=[0],u=[0],c=new Zn,h=0,f=new Int32Array(4320),d=new Kn;r.bitk=0,r.bitb=0,r.window=new Uint8Array(t),r.end=t,r.read=0,r.write=0,r.reset=function(e,t){t&&(t[0]=0),6==a&&c.free(e),a=0,r.bitk=0,r.bitb=0,r.read=r.write=0},r.reset(e,null),r.inflate_flush=function(e,t){var n,a,i;return a=e.next_out_index,(n=((i=r.read)<=r.write?r.write:r.end)-i)>e.avail_out&&(n=e.avail_out),0!==n&&-5==t&&(t=0),e.avail_out-=n,e.total_out+=n,e.next_out.set(r.window.subarray(i,i+n),a),a+=n,(i+=n)==r.end&&(i=0,r.write==r.end&&(r.write=0),(n=r.write-i)>e.avail_out&&(n=e.avail_out),0!==n&&-5==t&&(t=0),e.avail_out-=n,e.total_out+=n,e.next_out.set(r.window.subarray(i,i+n),a),a+=n,i+=n),e.next_out_index=a,r.read=i,t},r.proc=function(e,t){var p,m,g,b,_,v,y,x;for(b=e.next_in_index,_=e.avail_in,m=r.bitb,g=r.bitk,y=(v=r.write)<r.read?r.read-v-1:r.end-v;;)switch(a){case 0:for(;g<3;){if(0===_)return r.bitb=m,r.bitk=g,e.avail_in=_,e.total_in+=b-e.next_in_index,e.next_in_index=b,r.write=v,r.inflate_flush(e,t);t=0,_--,m|=(255&e.read_byte(b++))<<g,g+=8}switch(h=1&(p=7&m),p>>>1){case 0:m>>>=3,m>>>=p=7&(g-=3),g-=p,a=1;break;case 1:var A=[],w=[],T=[[]],E=[[]];Kn.inflate_trees_fixed(A,w,T,E),c.init(A[0],w[0],T[0],0,E[0],0),m>>>=3,g-=3,a=6;break;case 2:m>>>=3,g-=3,a=3;break;case 3:return m>>>=3,g-=3,a=9,e.msg="invalid block type",t=-3,r.bitb=m,r.bitk=g,e.avail_in=_,e.total_in+=b-e.next_in_index,e.next_in_index=b,r.write=v,r.inflate_flush(e,t)}break;case 1:for(;g<32;){if(0===_)return r.bitb=m,r.bitk=g,e.avail_in=_,e.total_in+=b-e.next_in_index,e.next_in_index=b,r.write=v,r.inflate_flush(e,t);t=0,_--,m|=(255&e.read_byte(b++))<<g,g+=8}if((~m>>>16&65535)!=(65535&m))return a=9,e.msg="invalid stored block lengths",t=-3,r.bitb=m,r.bitk=g,e.avail_in=_,e.total_in+=b-e.next_in_index,e.next_in_index=b,r.write=v,r.inflate_flush(e,t);i=65535&m,m=g=0,a=0!==i?2:0!==h?7:0;break;case 2:if(0===_)return r.bitb=m,r.bitk=g,e.avail_in=_,e.total_in+=b-e.next_in_index,e.next_in_index=b,r.write=v,r.inflate_flush(e,t);if(0===y&&(v==r.end&&0!==r.read&&(y=(v=0)<r.read?r.read-v-1:r.end-v),0===y&&(r.write=v,t=r.inflate_flush(e,t),y=(v=r.write)<r.read?r.read-v-1:r.end-v,v==r.end&&0!==r.read&&(y=(v=0)<r.read?r.read-v-1:r.end-v),0===y)))return r.bitb=m,r.bitk=g,e.avail_in=_,e.total_in+=b-e.next_in_index,e.next_in_index=b,r.write=v,r.inflate_flush(e,t);if(t=0,(p=i)>_&&(p=_),p>y&&(p=y),r.window.set(e.read_buf(b,p),v),b+=p,_-=p,v+=p,y-=p,0!=(i-=p))break;a=0!==h?7:0;break;case 3:for(;g<14;){if(0===_)return r.bitb=m,r.bitk=g,e.avail_in=_,e.total_in+=b-e.next_in_index,e.next_in_index=b,r.write=v,r.inflate_flush(e,t);t=0,_--,m|=(255&e.read_byte(b++))<<g,g+=8}if(o=p=16383&m,(31&p)>29||(p>>5&31)>29)return a=9,e.msg="too many length or distance symbols",t=-3,r.bitb=m,r.bitk=g,e.avail_in=_,e.total_in+=b-e.next_in_index,e.next_in_index=b,r.write=v,r.inflate_flush(e,t);if(p=258+(31&p)+(p>>5&31),!n||n.length<p)n=[];else for(x=0;x<p;x++)n[x]=0;m>>>=14,g-=14,s=0,a=4;case 4:for(;s<4+(o>>>10);){for(;g<3;){if(0===_)return r.bitb=m,r.bitk=g,e.avail_in=_,e.total_in+=b-e.next_in_index,e.next_in_index=b,r.write=v,r.inflate_flush(e,t);t=0,_--,m|=(255&e.read_byte(b++))<<g,g+=8}n[Jn[s++]]=7&m,m>>>=3,g-=3}for(;s<19;)n[Jn[s++]]=0;if(l[0]=7,0!=(p=d.inflate_trees_bits(n,l,u,f,e)))return-3==(t=p)&&(n=null,a=9),r.bitb=m,r.bitk=g,e.avail_in=_,e.total_in+=b-e.next_in_index,e.next_in_index=b,r.write=v,r.inflate_flush(e,t);s=0,a=5;case 5:for(;!(s>=258+(31&(p=o))+(p>>5&31));){var P,S;for(p=l[0];g<p;){if(0===_)return r.bitb=m,r.bitk=g,e.avail_in=_,e.total_in+=b-e.next_in_index,e.next_in_index=b,r.write=v,r.inflate_flush(e,t);t=0,_--,m|=(255&e.read_byte(b++))<<g,g+=8}if((S=f[3*(u[0]+(m&Xn[p=f[3*(u[0]+(m&Xn[p]))+1]]))+2])<16)m>>>=p,g-=p,n[s++]=S;else{for(x=18==S?7:S-14,P=18==S?11:3;g<p+x;){if(0===_)return r.bitb=m,r.bitk=g,e.avail_in=_,e.total_in+=b-e.next_in_index,e.next_in_index=b,r.write=v,r.inflate_flush(e,t);t=0,_--,m|=(255&e.read_byte(b++))<<g,g+=8}if(g-=p,P+=(m>>>=p)&Xn[x],m>>>=x,g-=x,(x=s)+P>258+(31&(p=o))+(p>>5&31)||16==S&&x<1)return n=null,a=9,e.msg="invalid bit length repeat",t=-3,r.bitb=m,r.bitk=g,e.avail_in=_,e.total_in+=b-e.next_in_index,e.next_in_index=b,r.write=v,r.inflate_flush(e,t);S=16==S?n[x-1]:0;do{n[x++]=S}while(0!=--P);s=x}}u[0]=-1;var C=[],N=[],I=[],M=[];if(C[0]=9,N[0]=6,0!=(p=d.inflate_trees_dynamic(257+(31&(p=o)),1+(p>>5&31),n,C,N,I,M,f,e)))return-3==p&&(n=null,a=9),t=p,r.bitb=m,r.bitk=g,e.avail_in=_,e.total_in+=b-e.next_in_index,e.next_in_index=b,r.write=v,r.inflate_flush(e,t);c.init(C[0],N[0],f,I[0],f,M[0]),a=6;case 6:if(r.bitb=m,r.bitk=g,e.avail_in=_,e.total_in+=b-e.next_in_index,e.next_in_index=b,r.write=v,1!=(t=c.proc(r,e,t)))return r.inflate_flush(e,t);if(t=0,c.free(e),b=e.next_in_index,_=e.avail_in,m=r.bitb,g=r.bitk,y=(v=r.write)<r.read?r.read-v-1:r.end-v,0===h){a=0;break}a=7;case 7:if(r.write=v,t=r.inflate_flush(e,t),y=(v=r.write)<r.read?r.read-v-1:r.end-v,r.read!=r.write)return r.bitb=m,r.bitk=g,e.avail_in=_,e.total_in+=b-e.next_in_index,e.next_in_index=b,r.write=v,r.inflate_flush(e,t);a=8;case 8:return t=1,r.bitb=m,r.bitk=g,e.avail_in=_,e.total_in+=b-e.next_in_index,e.next_in_index=b,r.write=v,r.inflate_flush(e,t);case 9:return t=-3,r.bitb=m,r.bitk=g,e.avail_in=_,e.total_in+=b-e.next_in_index,e.next_in_index=b,r.write=v,r.inflate_flush(e,t);default:return t=-2,r.bitb=m,r.bitk=g,e.avail_in=_,e.total_in+=b-e.next_in_index,e.next_in_index=b,r.write=v,r.inflate_flush(e,t)}},r.free=function(e){r.reset(e,null),r.window=null,f=null},r.set_dictionary=function(e,t,n){r.window.set(e.subarray(t,t+n),0),r.read=r.write=n},r.sync_point=function(){return 1==a?1:0}}var tr=[0,0,255,255];function nr(){var e=this;function t(e){return e&&e.istate?(e.total_in=e.total_out=0,e.msg=null,e.istate.mode=7,e.istate.blocks.reset(e,null),0):-2}e.mode=0,e.method=0,e.was=[0],e.need=0,e.marker=0,e.wbits=0,e.inflateEnd=function(t){return e.blocks&&e.blocks.free(t),e.blocks=null,0},e.inflateInit=function(n,r){return n.msg=null,e.blocks=null,r<8||r>15?(e.inflateEnd(n),-2):(e.wbits=r,n.istate.blocks=new er(n,1<<r),t(n),0)},e.inflate=function(e,t){var n,r;if(!e||!e.istate||!e.next_in)return-2;for(t=4==t?-5:0,n=-5;;)switch(e.istate.mode){case 0:if(0===e.avail_in)return n;if(n=t,e.avail_in--,e.total_in++,8!=(15&(e.istate.method=e.read_byte(e.next_in_index++)))){e.istate.mode=13,e.msg="unknown compression method",e.istate.marker=5;break}if(8+(e.istate.method>>4)>e.istate.wbits){e.istate.mode=13,e.msg="invalid window size",e.istate.marker=5;break}e.istate.mode=1;case 1:if(0===e.avail_in)return n;if(n=t,e.avail_in--,e.total_in++,r=255&e.read_byte(e.next_in_index++),((e.istate.method<<8)+r)%31!=0){e.istate.mode=13,e.msg="incorrect header check",e.istate.marker=5;break}if(0==(32&r)){e.istate.mode=7;break}e.istate.mode=2;case 2:if(0===e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need=(255&e.read_byte(e.next_in_index++))<<24&4278190080,e.istate.mode=3;case 3:if(0===e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need+=(255&e.read_byte(e.next_in_index++))<<16&16711680,e.istate.mode=4;case 4:if(0===e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need+=(255&e.read_byte(e.next_in_index++))<<8&65280,e.istate.mode=5;case 5:return 0===e.avail_in?n:(n=t,e.avail_in--,e.total_in++,e.istate.need+=255&e.read_byte(e.next_in_index++),e.istate.mode=6,2);case 6:return e.istate.mode=13,e.msg="need dictionary",e.istate.marker=0,-2;case 7:if(-3==(n=e.istate.blocks.proc(e,n))){e.istate.mode=13,e.istate.marker=0;break}if(0==n&&(n=t),1!=n)return n;n=t,e.istate.blocks.reset(e,e.istate.was),e.istate.mode=12;case 12:return 1;case 13:return-3;default:return-2}},e.inflateSetDictionary=function(e,t,n){var r=0,a=n;return e&&e.istate&&6==e.istate.mode?(a>=1<<e.istate.wbits&&(r=n-(a=(1<<e.istate.wbits)-1)),e.istate.blocks.set_dictionary(t,r,a),e.istate.mode=7,0):-2},e.inflateSync=function(e){var n,r,a,i,o;if(!e||!e.istate)return-2;if(13!=e.istate.mode&&(e.istate.mode=13,e.istate.marker=0),0===(n=e.avail_in))return-5;for(r=e.next_in_index,a=e.istate.marker;0!==n&&a<4;)e.read_byte(r)==tr[a]?a++:a=0!==e.read_byte(r)?0:4-a,r++,n--;return e.total_in+=r-e.next_in_index,e.next_in_index=r,e.avail_in=n,e.istate.marker=a,4!=a?-3:(i=e.total_in,o=e.total_out,t(e),e.total_in=i,e.total_out=o,e.istate.mode=7,0)},e.inflateSyncPoint=function(e){return e&&e.istate&&e.istate.blocks?e.istate.blocks.sync_point():-2}}function rr(){}function ar(){var e=new rr,t=new Uint8Array(512),n=!1;e.inflateInit(),e.next_out=t,this.append=function(r,a){var i,o,s=[],l=0,u=0,c=0;if(0!==r.length){e.next_in_index=0,e.next_in=r,e.avail_in=r.length;do{if(e.next_out_index=0,e.avail_out=512,0!==e.avail_in||n||(e.next_in_index=0,n=!0),i=e.inflate(0),n&&-5===i){if(0!==e.avail_in)throw new Error("inflating: bad input")}else if(0!==i&&1!==i)throw new Error("inflating: "+e.msg);if((n||1===i)&&e.avail_in===r.length)throw new Error("inflating: bad input");e.next_out_index&&s.push(512===e.next_out_index?new Uint8Array(t):new Uint8Array(t.subarray(0,e.next_out_index))),c+=e.next_out_index,a&&e.next_in_index>0&&e.next_in_index!=l&&(a(e.next_in_index),l=e.next_in_index)}while(e.avail_in>0||0===e.avail_out);return o=new Uint8Array(c),s.forEach((function(e){o.set(e,u),u+=e.length})),o}},this.flush=function(){e.inflateEnd()}}rr.prototype={inflateInit:function(e){var t=this;return t.istate=new nr,e||(e=15),t.istate.inflateInit(t,e)},inflate:function(e){var t=this;return t.istate?t.istate.inflate(t,e):-2},inflateEnd:function(){var e=this;if(!e.istate)return-2;var t=e.istate.inflateEnd(e);return e.istate=null,t},inflateSync:function(){var e=this;return e.istate?e.istate.inflateSync(e):-2},inflateSetDictionary:function(e,t){var n=this;return n.istate?n.istate.inflateSetDictionary(n,e,t):-2},read_byte:function(e){return this.next_in.subarray(e,e+1)[0]},read_buf:function(e,t){return this.next_in.subarray(e,e+t)}},self._zipjs_Inflater=ar;var ir,or="File format is not recognized.",sr="Error while reading zip file.";try{ir=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(Rn){}function lr(){this.crc=-1}function ur(){}function cr(e,t){var n,r;return n=new ArrayBuffer(e),r=new Uint8Array(n),t&&r.set(t,0),{buffer:n,array:r,view:new DataView(n)}}function hr(){}function fr(e){var t,n=this;n.size=0,n.init=function(r,a){var i=new Blob([e],{type:"text/plain"});(t=new pr(i)).init((function(){n.size=t.size,r()}),a)},n.readUint8Array=function(e,n,r,a){t.readUint8Array(e,n,r,a)}}function dr(e){var t,n=this;n.size=0,n.init=function(r){for(var a=e.length;"="==e.charAt(a-1);)a--;t=e.indexOf(",")+1,n.size=Math.floor(.75*(a-t)),r()},n.readUint8Array=function(n,r,a){var i,o=cr(r),s=4*Math.floor(n/3),l=4*Math.ceil((n+r)/3),u=self.atob(e.substring(s+t,l+t)),c=n-3*Math.floor(s/4);for(i=c;i<c+r;i++)o.array[i-c]=u.charCodeAt(i);a(o.array)}}function pr(e){var t=this;t.size=0,t.init=function(n){t.size=e.size,n()},t.readUint8Array=function(t,n,r,a){var i=new FileReader;i.onload=function(e){r(new Uint8Array(e.target.result))},i.onerror=a;try{i.readAsArrayBuffer(function(e,t,n){if(t<0||n<0||t+n>e.size)throw new RangeError("offset:"+t+", length:"+n+", size:"+e.size);return e.slice?e.slice(t,t+n):e.webkitSlice?e.webkitSlice(t,t+n):e.mozSlice?e.mozSlice(t,t+n):e.msSlice?e.msSlice(t,t+n):void 0}(e,t,n))}catch(e){a(e)}}}function mr(){}function gr(e){var t,n=this;n.init=function(e){t=new Blob([],{type:"text/plain"}),e()},n.writeUint8Array=function(e,n){t=new Blob([t,ir?e:e.buffer],{type:"text/plain"}),n()},n.getData=function(n,r){var a=new FileReader;a.onload=function(e){n(e.target.result)},a.onerror=r,a.readAsText(t,e)}}function br(e){var t=this,n="",r="";t.init=function(t){n+="data:"+(e||"")+";base64,",t()},t.writeUint8Array=function(e,t){var a,i=r.length,o=r;for(r="",a=0;a<3*Math.floor((i+e.length)/3)-i;a++)o+=String.fromCharCode(e[a]);for(;a<e.length;a++)r+=String.fromCharCode(e[a]);o.length>2?n+=self.btoa(o):r=o,t()},t.getData=function(e){e(n+self.btoa(r))}}function _r(e){var t,n=this;n.init=function(n){t=new Blob([],{type:e}),n()},n.writeUint8Array=function(n,r){t=new Blob([t,ir?n:n.buffer],{type:e}),r()},n.getData=function(e){e(t)}}function vr(e,t,n,r,a,i,o,s,l,u){var c,h,f,d=0,p=t.sn;function m(){e.removeEventListener("message",g,!1),s(h,f)}function g(t){var n=t.data,a=n.data,s=n.error;if(s)return s.toString=function(){return"Error: "+this.message},void l(s);if(n.sn===p)switch("number"==typeof n.codecTime&&(e.codecTime+=n.codecTime),"number"==typeof n.crcTime&&(e.crcTime+=n.crcTime),n.type){case"append":a?(h+=a.length,r.writeUint8Array(a,(function(){b()}),u)):b();break;case"flush":f=n.crc,a?(h+=a.length,r.writeUint8Array(a,(function(){m()}),u)):m();break;case"progress":o&&o(c+n.loaded,i);break;case"importScripts":case"newTask":case"echo":break;default:console.warn("zip.js:launchWorkerProcess: unknown message: ",n)}}function b(){(c=524288*d)<=i?n.readUint8Array(a+c,Math.min(524288,i-c),(function(n){o&&o(c,i);var r=0===c?t:{sn:p};r.type="append",r.data=n;try{e.postMessage(r,[n.buffer])}catch(t){e.postMessage(r)}d++}),l):e.postMessage({sn:p,type:"flush"})}h=0,e.addEventListener("message",g,!1),b()}function yr(e,t,n,r,a,i,o,s,l,u){var c,h=0,f=0,d="input"===i,p="output"===i,m=new lr;!function i(){var g;if((c=524288*h)<a)t.readUint8Array(r+c,Math.min(524288,a-c),(function(t){var r;try{r=e.append(t,(function(e){o&&o(c+e,a)}))}catch(e){return void l(e)}r?(f+=r.length,n.writeUint8Array(r,(function(){h++,setTimeout(i,1)}),u),p&&m.append(r)):(h++,setTimeout(i,1)),d&&m.append(t),o&&o(c,a)}),l);else{try{g=e.flush()}catch(e){return void l(e)}g?(p&&m.append(g),f+=g.length,n.writeUint8Array(g,(function(){s(f,m.get())}),u)):s(f,m.get())}}()}function xr(e,t,n,r,a,i,o,s,l,u,c){var h="input";Mr.useWebWorkers&&o?vr(e,{sn:t,codecClass:"_zipjs_NOOP",crcType:h},n,r,a,i,l,s,u,c):yr(new ur,n,r,a,i,h,l,s,u,c)}function Ar(e){var t,n,r="",a=["Ã","Ã¼","Ã©","Ã¢","Ã¤","Ã ","Ã¥","Ã§","Ãª","Ã«","Ã¨","Ã¯","Ã®","Ã¬","Ã","Ã","Ã","Ã¦","Ã","Ã´","Ã¶","Ã²","Ã»","Ã¹","Ã¿","Ã","Ã","Ã¸","Â£","Ã","Ã","Æ","Ã¡","Ã­","Ã³","Ãº","Ã±","Ã","Âª","Âº","Â¿","Â®","Â¬","Â½","Â¼","Â¡","Â«","Â»","_","_","_","Â¦","Â¦","Ã","Ã","Ã","Â©","Â¦","Â¦","+","+","Â¢","Â¥","+","+","-","-","+","-","+","Ã£","Ã","+","+","-","-","Â¦","-","+","Â¤","Ã°","Ã","Ã","Ã","Ã","i","Ã","Ã","Ã","+","+","_","_","Â¦","Ã","_","Ã","Ã","Ã","Ã","Ãµ","Ã","Âµ","Ã¾","Ã","Ã","Ã","Ã","Ã½","Ã","Â¯","Â´","Â­","Â±","_","Â¾","Â¶","Â§","Ã·","Â¸","Â°","Â¨","Â·","Â¹","Â³","Â²","_"," "];for(t=0;t<e.length;t++)r+=(n=255&e.charCodeAt(t))>127?a[n-128]:String.fromCharCode(n);return r}function wr(e){return decodeURIComponent(escape(e))}function Tr(e){var t,n="";for(t=0;t<e.length;t++)n+=String.fromCharCode(e[t]);return n}function Er(e,t,n,r,a){e.version=t.view.getUint16(n,!0),e.bitFlag=t.view.getUint16(n+2,!0),e.compressionMethod=t.view.getUint16(n+4,!0),e.lastModDateRaw=t.view.getUint32(n+6,!0),e.lastModDate=function(e){var t=(4294901760&e)>>16,n=65535&e;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&n)>>11,(2016&n)>>5,2*(31&n),0)}catch(e){}}(e.lastModDateRaw),1!=(1&e.bitFlag)?((r||8!=(8&e.bitFlag))&&(e.crc32=t.view.getUint32(n+10,!0),e.compressedSize=t.view.getUint32(n+14,!0),e.uncompressedSize=t.view.getUint32(n+18,!0)),4294967295!==e.compressedSize&&4294967295!==e.uncompressedSize?(e.filenameLength=t.view.getUint16(n+22,!0),e.extraFieldLength=t.view.getUint16(n+24,!0)):a("File is using Zip64 (4gb+ file size).")):a("File contains encrypted entry.")}function Pr(e){return unescape(encodeURIComponent(e))}function Sr(e){var t,n=[];for(t=0;t<e.length;t++)n.push(e.charCodeAt(t));return n}lr.prototype.append=function(e){for(var t=0|this.crc,n=this.table,r=0,a=0|e.length;r<a;r++)t=t>>>8^n[255&(t^e[r])];this.crc=t},lr.prototype.get=function(){return~this.crc},lr.prototype.table=function(){var e,t,n,r=[];for(e=0;e<256;e++){for(n=e,t=0;t<8;t++)1&n?n=n>>>1^3988292384:n>>>=1;r[e]=n}return r}(),ur.prototype.append=function(e,t){return e},ur.prototype.flush=function(){},(fr.prototype=new hr).constructor=fr,(dr.prototype=new hr).constructor=dr,(pr.prototype=new hr).constructor=pr,mr.prototype.getData=function(e){e(this.data)},(gr.prototype=new mr).constructor=gr,(br.prototype=new mr).constructor=br,(_r.prototype=new mr).constructor=_r;var Cr={deflater:["z-worker.js","deflate.js"],inflater:["z-worker.js","inflate.js"]};function Nr(e,t,n){if(null===Mr.workerScripts||null===Mr.workerScriptsPath){var r,a,i;if(Mr.workerScripts){if(r=Mr.workerScripts[e],!Array.isArray(r))return void n(new Error("zip.workerScripts."+e+" is not an array!"));a=r,i=document.createElement("a"),r=a.map((function(e){return i.href=e,i.href}))}else(r=Cr[e].slice(0))[0]=(Mr.workerScriptsPath||"")+r[0];var o=new Worker(r[0]);o.codecTime=o.crcTime=0,o.postMessage({type:"importScripts",scripts:r.slice(1)}),o.addEventListener("message",(function e(r){var a=r.data;if(a.error)return o.terminate(),void n(a.error);"importScripts"===a.type&&(o.removeEventListener("message",e),o.removeEventListener("error",s),t(o))})),o.addEventListener("error",s)}else n(new Error("Either zip.workerScripts or zip.workerScriptsPath may be set, not both."));function s(e){o.terminate(),n(e)}}function Ir(e){console.error(e)}const Mr={Reader:hr,Writer:mr,BlobReader:pr,Data64URIReader:dr,TextReader:fr,BlobWriter:_r,Data64URIWriter:br,TextWriter:gr,createReader:function(e,t,n){e.init((function(){!function(e,t,n){var r=0;function a(){}a.prototype.getData=function(t,a,i,o){var s=this;function l(e,r){o&&!function(e){var t=cr(4);return t.view.setUint32(0,e),s.crc32==t.view.getUint32(0)}(r)?n("CRC failed."):t.getData((function(e){a(e)}))}function u(e){n(e||"Error while reading file data.")}function c(e){n(e||"Error while writing file data.")}e.readUint8Array(s.offset,30,(function(a){var h,f=cr(a.length,a);1347093252==f.view.getUint32(0)?(Er(s,f,4,!1,n),h=s.offset+30+s.filenameLength+s.extraFieldLength,t.init((function(){0===s.compressionMethod?xr(s._worker,r++,e,t,h,s.compressedSize,o,l,i,u,c):function(e,t,n,r,a,i,o,s,l,u,c){var h=o?"output":"none";Mr.useWebWorkers?vr(e,{sn:t,codecClass:"_zipjs_Inflater",crcType:h},n,r,a,i,l,s,u,c):yr(new ar,n,r,a,i,h,l,s,u,c)}(s._worker,r++,e,t,h,s.compressedSize,o,l,i,u,c)}),c)):n(or)}),u)};var i={getEntries:function(t){var r=this._worker;!function(t){function r(r,a){e.readUint8Array(e.size-r,r,(function(e){for(var n=e.length-22;n>=0;n--)if(80===e[n]&&75===e[n+1]&&5===e[n+2]&&6===e[n+3])return void t(new DataView(e.buffer,n,22));a()}),(function(){n(sr)}))}e.size<22?n(or):r(22,(function(){r(Math.min(65558,e.size),(function(){n(or)}))}))}((function(i){var o,s;o=i.getUint32(16,!0),s=i.getUint16(8,!0),o<0||o>=e.size?n(or):e.readUint8Array(o,e.size-o,(function(e){var i,o,l,u,c=0,h=[],f=cr(e.length,e);for(i=0;i<s;i++){if((o=new a)._worker=r,1347092738!=f.view.getUint32(c))return void n(or);Er(o,f,c+6,!0,n),o.commentLength=f.view.getUint16(c+32,!0),o.directory=16==(16&f.view.getUint8(c+38)),o.offset=f.view.getUint32(c+42,!0),l=Tr(f.array.subarray(c+46,c+46+o.filenameLength)),o.filename=2048==(2048&o.bitFlag)?wr(l):Ar(l),o.directory||"/"!=o.filename.charAt(o.filename.length-1)||(o.directory=!0),u=Tr(f.array.subarray(c+46+o.filenameLength+o.extraFieldLength,c+46+o.filenameLength+o.extraFieldLength+o.commentLength)),o.comment=2048==(2048&o.bitFlag)?wr(u):Ar(u),h.push(o),c+=46+o.filenameLength+o.extraFieldLength+o.commentLength}t(h)}),(function(){n(sr)}))}))},close:function(e){this._worker&&(this._worker.terminate(),this._worker=null),e&&e()},_worker:null};Mr.useWebWorkers?Nr("inflater",(function(e){i._worker=e,t(i)}),(function(e){n(e)})):t(i)}(e,t,n)}),n=n||Ir)},createWriter:function(e,t,n,r){r=!!r,e.init((function(){!function(e,t,n,r){var a={},i=[],o=0,s=0;function l(e){n(e||"Error while writing zip file.")}function u(e){n(e||"Error while reading file data.")}var c={add:function(t,c,h,f,d){var p,m,g,b=this._worker;function _(t,n){var r=cr(16);o+=t||0,r.view.setUint32(0,1347094280),void 0!==n&&(p.view.setUint32(10,n,!0),r.view.setUint32(4,n,!0)),c&&(r.view.setUint32(8,t,!0),p.view.setUint32(14,t,!0),r.view.setUint32(12,c.size,!0),p.view.setUint32(18,c.size,!0)),e.writeUint8Array(r.array,(function(){o+=16,h()}),l)}function v(){var h;d=d||{},t=t.trim(),d.directory&&"/"!=t.charAt(t.length-1)&&(t+="/"),a.hasOwnProperty(t)?n("File already exists."):(m=Sr(Pr(t)),i.push(t),g=d.lastModDate||new Date,p=cr(26),a[t]={headerArray:p.array,directory:d.directory,filename:m,offset:o,comment:Sr(Pr(d.comment||""))},p.view.setUint32(0,335546376),d.version&&p.view.setUint8(0,d.version),r||0===d.level||d.directory||p.view.setUint16(4,2048),p.view.setUint16(6,(g.getHours()<<6|g.getMinutes())<<5|g.getSeconds()/2,!0),p.view.setUint16(8,(g.getFullYear()-1980<<4|g.getMonth()+1)<<5|g.getDate(),!0),p.view.setUint16(22,m.length,!0),(h=cr(30+m.length)).view.setUint32(0,1347093252),h.array.set(p.array,4),h.array.set(m,30),o+=h.array.length,e.writeUint8Array(h.array,(function(){c?r||0===d.level?xr(b,s++,c,e,0,c.size,!0,_,f,u,l):function(e,t,n,r,a,i,o,s,l){var u="input";Mr.useWebWorkers?vr(e,{sn:t,options:{level:a},codecClass:"_zipjs_Deflater",crcType:u},n,r,0,n.size,o,i,s,l):yr(new Hn,n,r,0,n.size,u,o,i,s,l)}(b,s++,c,e,d.level,_,f,u,l):_()}),l))}c?c.init(v,u):v()},close:function(t){this._worker&&(this._worker.terminate(),this._worker=null);var n,r,s,u=0,c=0;for(r=0;r<i.length;r++)u+=46+(s=a[i[r]]).filename.length+s.comment.length;for(n=cr(u+22),r=0;r<i.length;r++)s=a[i[r]],n.view.setUint32(c,1347092738),n.view.setUint16(c+4,5120),n.array.set(s.headerArray,c+6),n.view.setUint16(c+32,s.comment.length,!0),s.directory&&n.view.setUint8(c+38,16),n.view.setUint32(c+42,s.offset,!0),n.array.set(s.filename,c+46),n.array.set(s.comment,c+46+s.filename.length),c+=46+s.filename.length+s.comment.length;n.view.setUint32(c,1347093766),n.view.setUint16(c+8,i.length,!0),n.view.setUint16(c+10,i.length,!0),n.view.setUint32(c+12,u,!0),n.view.setUint32(c+16,o,!0),e.writeUint8Array(n.array,(function(){e.getData(t)}),l)},_worker:null};Mr.useWebWorkers?Nr("deflater",(function(e){c._worker=e,t(c)}),(function(e){n(e)})):t(c)}(e,t,n,r)}),n=n||Ir)},useWebWorkers:!0,workerScriptsPath:null,workerScripts:null};var Fr,Lr,Rr=Mr.TextWriter,kr=Mr.BlobWriter,$r=Mr.Data64URIWriter,Dr=Mr.TextReader,Or=Mr.BlobReader,Ur=Mr.Data64URIReader,jr=Mr.createReader,zr=Mr.createWriter;function Br(e){var t,n=this;n.size=0,n.init=function(t){n.size=e.uncompressedSize,t()},n.readUint8Array=function(r,a,i,o){!function(r){n.data?r():e.getData(new kr,(function(e){n.data=e,t=new Or(e),r()}),null,n.checkCrc32)}((function(){t.readUint8Array(r,a,i,o)}))}}function Hr(e){var t=0;return function e(n){t+=n.uncompressedSize||0,n.children.forEach(e)}(e),t}function Xr(e,t,n){var r=0;function a(){++r<e.children.length?i(e.children[r]):t()}function i(e){e.directory?Xr(e,a,n):(e.reader=new e.Reader(e.data,n),e.reader.init((function(){e.uncompressedSize=e.reader.size,a()})))}e.children.length?i(e.children[r]):t()}function Vr(e){var t=e.parent.children;t.forEach((function(n,r){n.id==e.id&&t.splice(r,1)}))}function Gr(e){e.entries=[],e.root=new qr(e)}function Wr(e,t,n,r){if(e.directory)return r?new qr(e.fs,t,n,e):new Qr(e.fs,t,n,e);throw"Parent entry is not a directory."}function Yr(){}function Qr(e,t,n,r){var a=this;Yr.prototype.init.call(a,e,t,n,r),a.Reader=n.Reader,a.Writer=n.Writer,a.data=n.data,n.getData&&(a.getData=n.getData)}function qr(e,t,n,r){Yr.prototype.init.call(this,e,t,n,r),this.directory=!0}function Kr(){Gr(this)}(Br.prototype=new(0,Mr.Reader)).constructor=Br,Br.prototype.checkCrc32=!1,(Yr.prototype={init:function(e,t,n,r){var a=this;if(e.root&&r&&r.getChildByName(t))throw"Entry filename already exists.";n||(n={}),a.fs=e,a.name=t,a.id=e.entries.length,a.parent=r,a.children=[],a.zipVersion=n.zipVersion||20,a.uncompressedSize=0,e.entries.push(a),r&&a.parent.children.push(a)},getFileEntry:function(e,t,n,r,a){var i=this;Xr(i,(function(){!function(e,t,n,r,a,i,o){var s=0;t.directory?function e(t,n,r,a,i,l){var u=0;!function c(){var h=n.children[u];h?function(n){function r(t){s+=n.uncompressedSize||0,e(t,n,(function(){u++,c()}),a,i,l)}n.directory?t.getDirectory(n.name,{create:!0},r,i):t.getFile(n.name,{create:!0},(function(e){n.getData(new Mr.FileWriter(e,Mr.getMimeType(n.name)),r,(function(e){a&&a(s+e,l)}),o)}),i)}(h):r()}()}(e,t,n,r,a,i):t.getData(new Mr.FileWriter(e,Mr.getMimeType(t.name)),n,r,o)}(e,i,t,n,r,Hr(i),a)}),r)},moveTo:function(e){var t=this;if(!e.directory)throw"Target entry is not a directory.";if(e.isDescendantOf(t))throw"Entry is a ancestor of target entry.";if(t!=e){if(e.getChildByName(t.name))throw"Entry filename already exists.";Vr(t),t.parent=e,e.children.push(t)}},getFullname:function(){for(var e=this.name,t=this.parent;t;)e=(t.name?t.name+"/":"")+e,t=t.parent;return e},isDescendantOf:function(e){for(var t=this.parent;t&&t.id!=e.id;)t=t.parent;return!!t}}).constructor=Yr,Qr.prototype=Fr=new Yr,Fr.constructor=Qr,Fr.getData=function(e,t,n,r){var a=this;!e||e.constructor==a.Writer&&a.data?t(a.data):(a.reader||(a.reader=new a.Reader(a.data,r)),a.reader.init((function(){e.init((function(){!function(e,t,n,r,a){var i=0;!function o(){var s=524288*i;r&&r(s,e.size),s<e.size?e.readUint8Array(s,Math.min(524288,e.size-s),(function(e){t.writeUint8Array(new Uint8Array(e),(function(){i++,o()}))}),a):t.getData(n)}()}(a.reader,e,t,n,r)}),r)})))},Fr.getText=function(e,t,n,r){this.getData(new Rr(r),e,t,n)},Fr.getBlob=function(e,t,n,r){this.getData(new kr(e),t,n,r)},Fr.getData64URI=function(e,t,n,r){this.getData(new $r(e),t,n,r)},qr.prototype=Lr=new Yr,Lr.constructor=qr,Lr.addDirectory=function(e){return Wr(this,e,null,!0)},Lr.addText=function(e,t){return Wr(this,e,{data:t,Reader:Dr,Writer:Rr})},Lr.addBlob=function(e,t){return Wr(this,e,{data:t,Reader:Or,Writer:kr})},Lr.addData64URI=function(e,t){return Wr(this,e,{data:t,Reader:Ur,Writer:$r})},Lr.addFileEntry=function(e,t,n){!function(e,t,n,r){t.isDirectory?function e(t,n,a){!function(e,t){e.isDirectory&&e.createReader().readEntries(t),e.isFile&&t([])}(n,(function(n){var i=0;!function o(){var s=n[i];s?function(n){function a(t){e(t,n,(function(){i++,o()}))}n.isDirectory&&a(t.addDirectory(n.name)),n.isFile&&n.file((function(e){var r=t.addBlob(n.name,e);r.uncompressedSize=e.size,a(r)}),r)}(s):a()}()}))}(e,t,n):t.file((function(r){e.addBlob(t.name,r),n()}),r)}(this,e,t,n)},Lr.addData=function(e,t){return Wr(this,e,t)},Lr.importBlob=function(e,t,n){this.importZip(new Or(e),t,n)},Lr.importText=function(e,t,n){this.importZip(new Dr(e),t,n)},Lr.importData64URI=function(e,t,n){this.importZip(new Ur(e),t,n)},Lr.exportBlob=function(e,t,n){this.exportZip(new kr("application/zip"),e,t,n)},Lr.exportText=function(e,t,n){this.exportZip(new Rr,e,t,n)},Lr.exportFileEntry=function(e,t,n,r){this.exportZip(new Mr.FileWriter(e,"application/zip"),t,n,r)},Lr.exportData64URI=function(e,t,n){this.exportZip(new $r("application/zip"),e,t,n)},Lr.importZip=function(e,t,n){var r=this;jr(e,(function(e){e.getEntries((function(e){e.forEach((function(e){var t=r,n=e.filename.split("/"),a=n.pop();n.forEach((function(e){t=t.getChildByName(e)||new qr(r.fs,e,null,t)})),e.directory||Wr(t,a,{data:e,Reader:Br})})),t()}))}),n)},Lr.exportZip=function(e,t,n,r){var a=this;Xr(a,(function(){zr(e,(function(e){!function(e,t,n,r,a){var i=0;!function e(t,n,r,a,o){var s=0;!function l(){var u=n.children[s];u?t.add(u.getFullname(),u.reader,(function(){i+=u.uncompressedSize||0,e(t,u,(function(){s++,l()}),a,o)}),(function(e){a&&a(i+e,o)}),{directory:u.directory,version:u.zipVersion}):r()}()}(e,t,n,r,a)}(e,a,(function(){e.close(t)}),n,Hr(a))}),r)}),r)},Lr.getChildByName=function(e){var t,n;for(t=0;t<this.children.length;t++)if((n=this.children[t]).name==e)return n},Kr.prototype={remove:function(e){Vr(e),this.entries[e.id]=null},find:function(e){var t,n=e.split("/"),r=this.root;for(t=0;r&&t<n.length;t++)r=r.getChildByName(n[t]);return r},getById:function(e){return this.entries[e]},importBlob:function(e,t,n){Gr(this),this.root.importBlob(e,t,n)},importText:function(e,t,n){Gr(this),this.root.importText(e,t,n)},importData64URI:function(e,t,n){Gr(this),this.root.importData64URI(e,t,n)},exportBlob:function(e,t,n){this.root.exportBlob(e,t,n)},exportText:function(e,t,n){this.root.exportText(e,t,n)},exportFileEntry:function(e,t,n,r){this.root.exportFileEntry(e,t,n,r)},exportData64URI:function(e,t,n){this.root.exportData64URI(e,t,n)}},Mr.getMimeType=function(){return"application/octet-stream"};var Zr={FS:Kr,ZipDirectoryEntry:qr,ZipFileEntry:Qr};Mr.useWebWorkers=!1;var Jr=function(){function e(e,t){this.el=e,this.inputEl=t,this.listeners={drop:[],dropstart:[],droperror:[]},this._onDragover=this._onDragover.bind(this),this._onDrop=this._onDrop.bind(this),this._onSelect=this._onSelect.bind(this),e.addEventListener("dragover",this._onDragover,!1),e.addEventListener("drop",this._onDrop,!1),t.addEventListener("change",this._onSelect)}var t=e.prototype;return t.on=function(e,t){return this.listeners[e].push(t),this},t._emit=function(e,t){return this.listeners[e].forEach((function(e){return e(t)})),this},t.destroy=function(){var e=this.el,t=this.inputEl;e.removeEventListener("dragover",this._onDragover,!1),e.removeEventListener("drop",this._onDrop,!1),t.removeEventListener("change",this._onSelect),delete this.el,delete this.inputEl,delete this.listeners},t._onDrop=function(e){e.stopPropagation(),e.preventDefault(),this._emit("dropstart");var t=Array.from(e.dataTransfer.files||[]),n=Array.from(e.dataTransfer.items||[]);if(0!==t.length||0!==n.length)if(n.length>0){var r=n.map((function(e){return e.webkitGetAsEntry()}));r[0].name.match(/\.zip$/)?this._loadZip(n[0].getAsFile()):this._loadNextEntry(new Map,r)}else 1===t.length&&t[0].name.match(/\.zip$/)&&this._loadZip(t[0]),this._emit("drop",{files:new Map(t.map((function(e){return[e.name,e]})))});else this._fail("Required drag-and-drop APIs are not supported in this browser.")},t._onDragover=function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},t._onSelect=function(e){this._emit("dropstart");var t=[].slice.call(this.inputEl.files);if(1===t.length&&this._isZip(t[0]))this._loadZip(t[0]);else{var n=new Map;t.forEach((function(e){return n.set(e.webkitRelativePath||e.name,e)})),this._emit("drop",{files:n})}},t._loadNextEntry=function(e,t){var n=this,r=t.pop();if(r)if(r.isFile)r.file((function(a){e.set(r.fullPath,a),n._loadNextEntry(e,t)}),(function(){return console.error("Could not load file: %s",r.fullPath)}));else if(r.isDirectory){var a=r.createReader();a.readEntries((function r(i){i.length?(t=t.concat(i),a.readEntries(r)):n._loadNextEntry(e,t)}))}else console.warn("Unknown asset type: "+r.fullPath),this._loadNextEntry(e,t);else this._emit("drop",{files:e})},t._loadZip=function(e){var t=this,n=[],r=new Map,a=new Zr.FS,i=function e(t){t.directory?t.children.forEach(e):"."!==t.name[0]&&n.push(new Promise((function(e){t.getData(new Mr.BlobWriter,(function(n){n.name=t.name,r.set(t.getFullname(),n),e()}))})))};a.importBlob(e,(function(){i(a.root),Promise.all(n).then((function(){t._emit("drop",{files:r,archive:e})}))}))},t._isZip=function(e){return"application/zip"===e.type||e.name.match(/\.zip$/)},t._fail=function(e){this._emit("droperror",{message:e})},e}();class ea{constructor(e){this.el=e,this.viewer=null,this.gui=null,this.viewerEl=null,this.filename=null,this.dropEl=document.querySelector(".dropzone"),this.inputEl=document.querySelector("#file-input"),this.spinnerEl=e.querySelector(".spinner"),this.validationCtrl=new Mn(e),this.createDropzone(),this.createPreModel(),this.hideSpinner()}createDropzone(){const e=new Jr(this.dropEl,this.inputEl);e.on("drop",(({files:e})=>this.load(e))),e.on("dropstart",(()=>this.showSpinner())),e.on("droperror",(()=>this.hideSpinner()))}createPreModel(){const e=document.querySelector("#model-dog"),t=document.querySelector("#model-helmet"),n=document.querySelector("#model-room"),r=this;e.onclick=function(){r.showSpinner(),r.view("../models/robotPBR/robot.gltf")},t.onclick=function(){r.showSpinner(),r.view("../models/UinoHelmet/glTF/UinoHelmet.gltf")},n.onclick=function(){r.showSpinner(),r.view("../models/Room.glb")}}load(e){let t,n;Array.from(e).forEach((([e,r])=>{r.name.match(/\.(gltf|glb)$/)&&(t=r,n=e.replace(r.name,"")),this.filename=r.name})),t||this.onError("No .gltf or .glb asset found."),this.view(t,n,e)}createViewer(){return this.viewerEl=document.createElement("div"),this.viewerEl.classList.add("viewer"),this.dropEl.innerHTML="",this.dropEl.appendChild(this.viewerEl),this.viewer=new an(this.viewerEl),this.viewer.startRender(),this.viewer}importFileJSON(){var e=document.createElement("input");e.setAttribute("id","_ef"),e.setAttribute("type","file"),e.setAttribute("style","visibility:hidden;height:0px"),document.body.appendChild(e),e.click(),e.onchange=e=>{this.readFileJSON(e).then((e=>{var t,n;console.log("import data:",e),n=e,(t=this.gui.gui).children[0].children[0].setValue(n.global.wireframe),t.children[1].children[0].setValue(n.ground.show),t.children[1].children[1].setValue(n.ground.color),t.children[1].children[2].setValue(n.ground.grid),t.children[2].children[0].setValue(n.environment.texture),t.children[2].children[1].setValue(n.environment.diffuseIntensity),t.children[2].children[2].setValue(n.environment.skyRoughness),t.children[3].children[0].setValue(n.camera.fov),t.children[3].children[1].setValue(n.camera.type),t.children[3].children[2].setValue(n.camera.outputEncoding),t.children[4].children[0].children[0].setValue(n.light.ambient.intensity),t.children[4].children[0].children[1].setValue(n.light.ambient.color),t.children[4].children[1].children[0].setValue(n.light.directional.directional1.intensity),t.children[4].children[1].children[1].setValue(n.light.directional.directional1.color),t.children[4].children[1].children[2].children[0].setValue(n.light.directional.directional1.direction.x),t.children[4].children[1].children[2].children[1].setValue(n.light.directional.directional1.direction.y),t.children[4].children[1].children[3].setValue(n.light.directional.directional1.lensflare),t.children[4].children[1].children[4].setValue(n.light.directional.directional1.shadowenable),t.children[4].children[1].children[5].setValue(n.light.directional.directional1.shadowbias),t.children[4].children[1].children[6].setValue(n.light.directional.directional1.shadowquality),t.children[4].children[2].children[0].setValue(n.light.directional.directional2.intensity),t.children[4].children[2].children[1].setValue(n.light.directional.directional2.color),t.children[4].children[2].children[2].children[0].setValue(n.light.directional.directional2.direction.x),t.children[4].children[2].children[2].children[1].setValue(n.light.directional.directional2.direction.y),t.children[4].children[2].children[3].setValue(n.light.directional.directional2.lensflare),t.children[4].children[2].children[4].setValue(n.light.directional.directional2.shadowenable),t.children[4].children[2].children[5].setValue(n.light.directional.directional2.shadowbias),t.children[4].children[2].children[6].setValue(n.light.directional.directional2.shadowquality),t.children[4].children[3].children[0].setValue(n.light.directional.cameraDirectional.intensity),t.children[4].children[3].children[1].setValue(n.light.directional.cameraDirectional.color),t.children[5].children[0].setValue(n.postEffect.MSAA),t.children[5].children[1].children[0].setValue(n.postEffect.colorCorrection.active),t.children[5].children[1].children[1].setValue(n.postEffect.colorCorrection.brightness),t.children[5].children[1].children[2].setValue(n.postEffect.colorCorrection.contrast),t.children[5].children[1].children[3].setValue(n.postEffect.colorCorrection.exposure),t.children[5].children[1].children[4].setValue(n.postEffect.colorCorrection.gamma),t.children[5].children[1].children[5].setValue(n.postEffect.colorCorrection.saturation),t.children[5].children[2].children[0].setValue(n.postEffect.bloom.active),t.children[5].children[2].children[1].setValue(n.postEffect.bloom.strength),t.children[5].children[2].children[2].setValue(n.postEffect.bloom.threshold),t.children[5].children[2].children[3].setValue(n.postEffect.bloom.blurSize),t.children[5].children[2].children[4].setValue(n.postEffect.bloom.smoothWidth),t.children[5].children[3].children[0].setValue(n.postEffect.ssao.active),t.children[5].children[3].children[1].setValue(n.postEffect.ssao.radius),t.children[5].children[3].children[2].setValue(n.postEffect.ssao.power),t.children[5].children[3].children[3].setValue(n.postEffect.ssao.bias),t.children[5].children[3].children[4].setValue(n.postEffect.ssao.intensity),t.children[5].children[3].children[5].setValue(n.postEffect.ssao.quality),t.children[5].children[4].children[0].setValue(n.postEffect.ssr.active),t.children[5].children[4].children[1].setValue(n.postEffect.ssr.maxRayDistance),t.children[5].children[4].children[2].setValue(n.postEffect.ssr.pixelStride),t.children[5].children[4].children[3].setValue(n.postEffect.ssr.pixelStrideZCutoff),t.children[5].children[4].children[4].setValue(n.postEffect.ssr.screenEdgeFadeStart),t.children[5].children[4].children[5].setValue(n.postEffect.ssr.eyeFadeStart),t.children[5].children[4].children[6].setValue(n.postEffect.ssr.eyeFadeEnd),t.children[5].children[4].children[7].setValue(n.postEffect.ssr.minGlossiness),t.children[5].children[5].children[0].setValue(n.postEffect.dof.active),t.children[5].children[5].children[1].setValue(n.postEffect.dof.focalDepth),t.children[5].children[5].children[2].setValue(n.postEffect.dof.focalLength),t.children[5].children[5].children[3].setValue(n.postEffect.dof.fstop),t.children[5].children[5].children[4].setValue(n.postEffect.dof.maxblur),t.children[5].children[5].children[5].setValue(n.postEffect.dof.threshold),t.children[5].children[5].children[6].setValue(n.postEffect.dof.gain),t.children[5].children[5].children[7].setValue(n.postEffect.dof.bias),t.children[5].children[5].children[8].setValue(n.postEffect.dof.dithering),t.children[5].children[6].children[0].setValue(n.postEffect.fxaa.active),t.children[5].children[7].children[0].setValue(n.postEffect.chromaticaberration.active),t.children[5].children[7].children[1].setValue(n.postEffect.chromaticaberration.chromaFactor),t.children[5].children[8].children[0].setValue(n.postEffect.vignetting.active),t.children[5].children[8].children[1].setValue(n.postEffect.vignetting.color),t.children[5].children[8].children[2].setValue(n.postEffect.vignetting.offset),t.children[5].children[9].children[0].setValue(n.postEffect.bluredge.active),t.children[5].children[9].children[1].setValue(n.postEffect.bluredge.offset),t.children[5].children[10].children[0].setValue(n.postEffect.film.active),t.children[5].children[10].children[1].setValue(n.postEffect.film.noiseIntensity),t.children[5].children[10].children[2].setValue(n.postEffect.film.scanlinesIntensity),t.children[5].children[10].children[3].setValue(n.postEffect.film.scanlinesCount),t.children[5].children[10].children[4].setValue(n.postEffect.film.grayscale),t.children[5].children[11].children[0].setValue(n.postEffect.glow.active),t.children[5].children[11].children[1].setValue(n.postEffect.glow.strength),t.children[5].children[11].children[2].setValue(n.postEffect.glow.radius),t.children[5].children[11].children[3].setValue(n.postEffect.glow.threshold),t.children[5].children[11].children[4].setValue(n.postEffect.glow.smoothWidth),t.children[5].children[12].children[0].setValue(n.postEffect.lensflare.active),t.children[6].children[0].setValue(n.debuggers.type),t.children[7].children[2].setValue(n.animation.timeScale)})).catch((e=>{console.log(e)}))},document.body.removeChild(e)}exportFileJSON(e){"object"==typeof e&&(e=JSON.stringify(e,null,4));const t=new Blob([e],{type:"text/json"}),n=new MouseEvent("click"),r=document.createElement("a");r.download="example.json",r.href=window.URL.createObjectURL(t),r.dataset.downloadurl=["text/json",r.download,r.href].join(":"),r.dispatchEvent(n)}readFileJSON(e){return new Promise(((t,n)=>{const r=e.target.files[0];"application/json"!==r.type&&n("Only supports uploading json file."),"undefined"==typeof FileReader&&n("FileReader not support."),e.target.value="";const a=new FileReader;a.readAsText(r),a.onerror=e=>{n("Data parsing failed(1).",e)},a.onload=()=>{const e=a.result;if(e)try{const n=JSON.parse(e);t(n)}catch(e){n("Data parsing failed(2).",e)}else n("Data parsing failed(3)",error)}}))}view(e,t,n){this.viewer&&this.viewer.clear();const r=this.viewer||this.createViewer();this.options=new un(r);const a="string"==typeof e?e:URL.createObjectURL(e),i=()=>{this.hideSpinner(),"object"==typeof e&&URL.revokeObjectURL(a)};r.load(a,t,n).catch((e=>this.onError(e))).then((e=>{const o=this.gui||new En(r,this.options,this);this.gui=o,e.animations?this.gui.setAnimationFolder(e.animations):this.gui.animationFolder.domElement.style.display="none",this.validationCtrl.validate(e.data,a,t,n,this.viewer,e),i()}))}onError(e){let t=(e||{}).message||e.toString();t.match(/ProgressEvent/)?t="Unable to retrieve this file. Check JS console and browser network tab.":t.match(/Unexpected token/)?t=`Unable to parse file content. Verify that this file is valid. Error: "${t}"`:e&&e.target&&e.target instanceof Image&&(e="Missing texture: "+e.target.src.split("/").pop()),window.alert(t),console.error(e)}showSpinner(){this.spinnerEl.style.display=""}hideSpinner(){this.spinnerEl.style.display="none"}}document.addEventListener("DOMContentLoaded",(()=>{new ea(document.body,location)}))})()})();